/*! For license information please see background.js.LICENSE.txt */
(()=>{var e,r,t,n,o={719:(e,r)=>{!function(e,r){for(var t in r)e[t]=r[t]}(r,function(e){var r={};function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(n,o,function(r){return e[r]}.bind(null,o));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="./",t.h="097cebeef799294aa114",t.cn="index",t(t.s="./src/index.ts")}({"../../../node_modules/events/events.js":function(e,r,t){"use strict";var n,o="object"==typeof Reflect?Reflect:null,i=o&&"function"==typeof o.apply?o.apply:function(e,r,t){return Function.prototype.apply.call(e,r,t)};n=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,r){return new Promise((function(t,n){function o(t){e.removeListener(r,i),n(t)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",o),t([].slice.call(arguments))}h(e,r,i,{once:!0}),"error"!==r&&function(e,r,t){"function"==typeof e.on&&h(e,"error",r,{once:!0})}(e,o)}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var c=10;function u(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function _(e,r,t,n){var o,i,a,s;if(u(t),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",r,t.listener?t.listener:t),i=e._events),a=i[r]),void 0===a)a=i[r]=t,++e._eventsCount;else if("function"==typeof a?a=i[r]=n?[t,a]:[a,t]:n?a.unshift(t):a.push(t),(o=l(e))>0&&a.length>o&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(r)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=r,c.count=a.length,s=c,console&&console.warn&&console.warn(s)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,r,t){var n={fired:!1,wrapFn:void 0,target:e,type:r,listener:t},o=d.bind(n);return o.listener=t,n.wrapFn=o,o}function E(e,r,t){var n=e._events;if(void 0===n)return[];var o=n[r];return void 0===o?[]:"function"==typeof o?t?[o.listener||o]:[o]:t?function(e){for(var r=new Array(e.length),t=0;t<r.length;++t)r[t]=e[t].listener||e[t];return r}(o):g(o,o.length)}function p(e){var r=this._events;if(void 0!==r){var t=r[e];if("function"==typeof t)return 1;if(void 0!==t)return t.length}return 0}function g(e,r){for(var t=new Array(r),n=0;n<r;++n)t[n]=e[n];return t}function h(e,r,t,n){if("function"==typeof e.on)n.once?e.once(r,t):e.on(r,t);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(r,(function o(i){n.once&&e.removeEventListener(r,o),t(i)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(e){for(var r=[],t=1;t<arguments.length;t++)r.push(arguments[t]);var n="error"===e,o=this._events;if(void 0!==o)n=n&&void 0===o.error;else if(!n)return!1;if(n){var a;if(r.length>0&&(a=r[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var c=o[e];if(void 0===c)return!1;if("function"==typeof c)i(c,this,r);else{var u=c.length,l=g(c,u);for(t=0;t<u;++t)i(l[t],this,r)}return!0},s.prototype.addListener=function(e,r){return _(this,e,r,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,r){return _(this,e,r,!0)},s.prototype.once=function(e,r){return u(r),this.on(e,f(this,e,r)),this},s.prototype.prependOnceListener=function(e,r){return u(r),this.prependListener(e,f(this,e,r)),this},s.prototype.removeListener=function(e,r){var t,n,o,i,a;if(u(r),void 0===(n=this._events))return this;if(void 0===(t=n[e]))return this;if(t===r||t.listener===r)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,t.listener||r));else if("function"!=typeof t){for(o=-1,i=t.length-1;i>=0;i--)if(t[i]===r||t[i].listener===r){a=t[i].listener,o=i;break}if(o<0)return this;0===o?t.shift():function(e,r){for(;r+1<e.length;r++)e[r]=e[r+1];e.pop()}(t,o),1===t.length&&(n[e]=t[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||r)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var r,t,n;if(void 0===(t=this._events))return this;if(void 0===t.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==t[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete t[e]),this;if(0===arguments.length){var o,i=Object.keys(t);for(n=0;n<i.length;++n)"removeListener"!==(o=i[n])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(r=t[e]))this.removeListener(e,r);else if(void 0!==r)for(n=r.length-1;n>=0;n--)this.removeListener(e,r[n]);return this},s.prototype.listeners=function(e){return E(this,e,!0)},s.prototype.rawListeners=function(e){return E(this,e,!1)},s.listenerCount=function(e,r){return"function"==typeof e.listenerCount?e.listenerCount(r):p.call(e,r)},s.prototype.listenerCount=p,s.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},"../../common-sdk/dist/default-plugin/default-request.js":function(e,r){!function(e,r){for(var t in r)e[t]=r[t]}(r,function(e){var r={};function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(n,o,function(r){return e[r]}.bind(null,o));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="./",t.h="6e316588907199161614",t.cn="default-plugin/default-request",t(t.s="./src/default-plugin/default-request.ts")}({"./src/default-plugin/default-request.ts":function(e,r,t){"use strict";var n=this&&this.__awaiter||function(e,r,t,n){return new(t||(t=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var r;e.done?o(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(a,s)}c((n=n.apply(e,r||[])).next())}))},o=this&&this.__generator||function(e,r){var t,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=r.call(e,a)}catch(e){i=[6,e],n=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(r,"__esModule",{value:!0}),r.defaultRequest=void 0;var i=t("./src/models/error/index.ts");r.defaultRequest=function(e,r){return n(void 0,void 0,void 0,(function(){var t,n,a,s,c,u;return o(this,(function(o){switch(o.label){case 0:t=null,n=null,o.label=1;case 1:return o.trys.push([1,4,,5]),a=Object.assign({method:"GET",mode:"cors"},r),s=Object.assign({"content-type":"application/json"},a.headers),a.headers=s,a.body&&"string"!=typeof a.body&&(a.body=JSON.stringify(a.body)),[4,fetch(e,a)];case 2:return[4,o.sent().json()];case 3:return(c=o.sent())&&c.error?(n=c).error_uri=new URL(e).pathname:t=c,[3,5];case 4:return u=o.sent(),n={error:i.ErrorType.UNREACHABLE,error_code:i.ErrorCodeType.UNREACHABLE,error_description:u.message,error_uri:new URL(e).pathname},[3,5];case 5:if(n)throw n;return[2,t]}}))}))}},"./src/models/error/error-code.ts":function(e,r,t){"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),r.ErrorCodeType=void 0,(n=r.ErrorCodeType||(r.ErrorCodeType={}))[n.OK=0]="OK",n[n.CANCELLED=1]="CANCELLED",n[n.UNKNOWN=2]="UNKNOWN",n[n.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",n[n.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",n[n.NOT_FOUND=5]="NOT_FOUND",n[n.ALREADY_EXISTS=6]="ALREADY_EXISTS",n[n.PERMISSION_DENIED=7]="PERMISSION_DENIED",n[n.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",n[n.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",n[n.ABORTED=10]="ABORTED",n[n.OUT_OF_RANGE=11]="OUT_OF_RANGE",n[n.UNIMPLEMENTED=12]="UNIMPLEMENTED",n[n.INTERNAL=13]="INTERNAL",n[n.UNAVAILABLE=14]="UNAVAILABLE",n[n.DATA_LOSS=15]="DATA_LOSS",n[n.UNAUTHENTICATED=16]="UNAUTHENTICATED",n[n.CAPTCHA_REQUIRED=4001]="CAPTCHA_REQUIRED",n[n.CAPTCHA_INVALID=4002]="CAPTCHA_INVALID",n[n.INVALID_PASSWORD=4010]="INVALID_PASSWORD",n[n.INVALID_STATUS=4011]="INVALID_STATUS",n[n.USER_PENDING=4012]="USER_PENDING",n[n.USER_BLOCKED=4013]="USER_BLOCKED",n[n.INVALID_VERIFICATION_CODE=4014]="INVALID_VERIFICATION_CODE",n[n.TWO_FACTOR_REQUIRED=4015]="TWO_FACTOR_REQUIRED",n[n.INVALID_TWO_FACTOR=4016]="INVALID_TWO_FACTOR",n[n.INVALID_TWO_FACTOR_RECOVERY=4017]="INVALID_TWO_FACTOR_RECOVERY",n[n.UNDER_REVIEW=4018]="UNDER_REVIEW",n[n.PROVIDER_ERROR=4019]="PROVIDER_ERROR",n[n.VALIDATE_REQUIRED=4020]="VALIDATE_REQUIRED",n[n.PASSWORD_RESET_REQUIRED=4021]="PASSWORD_RESET_REQUIRED",n[n.INVALID_ACCOUNT_OR_PASSWORD=4022]="INVALID_ACCOUNT_OR_PASSWORD",n[n.EXPIRED_VERIFICATION_CODE=4024]="EXPIRED_VERIFICATION_CODE",n[n.INVALID_REQUEST=4121]="INVALID_REQUEST",n[n.UNAUTHORIZED_CLIENT=4122]="UNAUTHORIZED_CLIENT",n[n.ACCESS_DENIED=4123]="ACCESS_DENIED",n[n.UNSUPPORTED_RESPONSE_TYPE=4124]="UNSUPPORTED_RESPONSE_TYPE",n[n.INVALID_SCOPE=4125]="INVALID_SCOPE",n[n.INVALID_GRANT=4126]="INVALID_GRANT",n[n.SERVER_ERROR=5026]="SERVER_ERROR",n[n.TEMPORARILY_UNAVAILABLE=5027]="TEMPORARILY_UNAVAILABLE",n[n.authorization_pending=4050]="authorization_pending",n[n.slow_down=4051]="slow_down",n[n.expired_token=4052]="expired_token",n[n.INTERACTION_REQUIRED=4031]="INTERACTION_REQUIRED",n[n.LOGIN_REQUIRED=4032]="LOGIN_REQUIRED",n[n.ACCOUNT_SELECTION_REQUIRED=4033]="ACCOUNT_SELECTION_REQUIRED",n[n.CONSENT_REQUIRED=4034]="CONSENT_REQUIRED",n[n.INVALID_REQUEST_URI=4035]="INVALID_REQUEST_URI",n[n.INVALID_REQUEST_OBJECT=4036]="INVALID_REQUEST_OBJECT",n[n.REQUEST_NOT_SUPPORTED=4037]="REQUEST_NOT_SUPPORTED",n[n.REQUEST_URI_NOT_SUPPORTED=4038]="REQUEST_URI_NOT_SUPPORTED",n[n.REGISTRATION_NOT_SUPPORTED=4039]="REGISTRATION_NOT_SUPPORTED",n[n.ACCOUNT_FREEZE=50]="ACCOUNT_FREEZE",n[n.CANNOT_UNLOCK=38]="CANNOT_UNLOCK",n[n.USER_NOT_EXIST=4023]="USER_NOT_EXIST",n[n.UNREACHABLE=8e3]="UNREACHABLE",n[n.LOCAL=8001]="LOCAL",n[n.LOCAL_THIRD_PARTY_ERROR=8002]="LOCAL_THIRD_PARTY_ERROR",n[n.LOCAL_PROVIDER_ACCOUNT_ERROR=8003]="LOCAL_PROVIDER_ACCOUNT_ERROR"},"./src/models/error/error-details.ts":function(e,r,t){"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),r.ErrorInfoDetailReasonType=r.ErrorDetailType=void 0,(n=r.ErrorDetailType||(r.ErrorDetailType={})).ErrorInfo="type.googleapis.com/google.rpc.ErrorInfo",n.LocalizedMessage="type.googleapis.com/google.rpc.LocalizedMessage",(r.ErrorInfoDetailReasonType||(r.ErrorInfoDetailReasonType={})).CAPTCHA_REJECT="CAPTCHA_REJECT"},"./src/models/error/error.ts":function(e,r,t){"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),r.ErrorType=void 0,(n=r.ErrorType||(r.ErrorType={})).UNREACHABLE="unreachable",n.LOCAL="local",n.CANCELLED="cancelled",n.UNKNOWN="unknown",n.INVALID_ARGUMENT="invalid_argument",n.DEADLINE_EXCEEDED="deadline_exceeded",n.NOT_FOUND="not_found",n.ALREADY_EXISTS="already_exists",n.PERMISSION_DENIED="permission_denied",n.UNAUTHENTICATED="unauthenticated",n.RESOURCE_EXHAUSTED="resource_exhausted",n.FAILED_PRECONDITION="failed_precondition",n.ABORTED="aborted",n.OUT_OF_RANGE="out_of_range",n.UNIMPLEMENTED="unimplemented",n.INTERNAL="internal",n.UNAVAILABLE="unavailable",n.DATA_LOSS="data_loss",n.CAPTCHA_REQUIRED="captcha_required",n.CAPTCHA_INVALID="captcha_invalid",n.INVALID_PASSWORD="invalid_password",n.INVALID_STATUS="invalid_status",n.USER_PENDING="user_pending",n.USER_BLOCKED="user_blocked",n.INVALID_VERIFICATION_CODE="invalid_verification_code",n.TWO_FACTOR_REQUIRED="two_factor_required",n.INVALID_TWO_FACTOR="invalid_two_factor",n.INVALID_TWO_FACTOR_RECOVERY="invalid_two_factor_recovery",n.UNDER_REVIEW="under_review",n.PROVIDER_ERROR="provider_error",n.VALIDATE_REQUIRED="validate_required",n.PASSWORD_RESET_REQUIRED="password_reset_required",n.INVALID_ACCOUNT_OR_PASSWORD="invalid_account_or_password",n.EXPIRED_VERIFICATION_CODE="expired_verification_code",n.INVALID_REQUEST="invalid_request",n.UNAUTHORIZED_CLIENT="unauthorized_client",n.ACCESS_DENIED="access_denied",n.UNSUPPORTED_RESPONSE_TYPE="unsupported_response_type",n.INVALID_SCOPE="invalid_scope",n.INVALID_GRANT="invalid_grant",n.SERVER_ERROR="server_error",n.TEMPORARILY_UNAVAILABLE="temporarily_unavailable",n.AUTHORIZATION_PENDING="authorization_pending",n.SLOW_DOWN="slow_down",n.EXPIRED_TOKEN="expired_token",n.INTERACTION_REQUIRED="interaction_required",n.LOGIN_REQUIRED="login_required",n.ACCOUNT_SELECTION_REQUIRED="account_selection_required",n.CONSENT_REQUIRED="consent_required",n.INVALID_REQUEST_URI="invalid_request_uri",n.INVALID_REQUEST_OBJECT="invalid_request_object",n.REQUEST_NOT_SUPPORTED="request_not_supported",n.REQUEST_URI_NOT_SUPPORTED="request_uri_not_supported",n.REGISTRATION_NOT_SUPPORTED="registration_not_supported",n.ACCOUNT_FREEZE="account_freeze",n.CANNOT_UNLOCK="cannot_unlock",n.USER_NOT_EXIST="user_not_exist"},"./src/models/error/index.ts":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./src/models/error/error.ts");Object.defineProperty(r,"ErrorType",{enumerable:!0,get:function(){return n.ErrorType}});var o=t("./src/models/error/error-code.ts");Object.defineProperty(r,"ErrorCodeType",{enumerable:!0,get:function(){return o.ErrorCodeType}});var i=t("./src/models/error/error-details.ts");Object.defineProperty(r,"ErrorDetailType",{enumerable:!0,get:function(){return i.ErrorDetailType}}),Object.defineProperty(r,"ErrorInfoDetailReasonType",{enumerable:!0,get:function(){return i.ErrorInfoDetailReasonType}})}}))},"../../common-sdk/dist/default-plugin/default-storage.js":function(e,r){!function(e,r){for(var t in r)e[t]=r[t]}(r,function(e){var r={};function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(n,o,function(r){return e[r]}.bind(null,o));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="./",t.h="6e316588907199161614",t.cn="default-plugin/default-storage",t(t.s="./src/default-plugin/default-storage.ts")}({"./src/default-plugin/default-storage.ts":function(e,r,t){"use strict";var n=this&&this.__awaiter||function(e,r,t,n){return new(t||(t=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var r;e.done?o(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(a,s)}c((n=n.apply(e,r||[])).next())}))},o=this&&this.__generator||function(e,r){var t,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=r.call(e,a)}catch(e){i=[6,e],n=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(r,"__esModule",{value:!0}),r.DefaultStorage=void 0;var i=function(){function e(){}return e.prototype.getLength=function(){return n(this,void 0,void 0,(function(){return o(this,(function(e){return[2,window.localStorage.length]}))}))},e.prototype.getItem=function(e){return n(this,void 0,void 0,(function(){return o(this,(function(r){return[2,window.localStorage.getItem(e)]}))}))},e.prototype.key=function(e){return n(this,void 0,void 0,(function(){return o(this,(function(r){return[2,window.localStorage.key(e)]}))}))},e.prototype.removeItem=function(e){return n(this,void 0,void 0,(function(){return o(this,(function(r){return window.localStorage.removeItem(e),[2]}))}))},e.prototype.setItem=function(e,r){return n(this,void 0,void 0,(function(){return o(this,(function(t){return window.localStorage.setItem(e,r),[2]}))}))},e}();r.DefaultStorage=i}}))},"../../common-sdk/dist/log/index.js":function(e,r){!function(e,r){for(var t in r)e[t]=r[t]}(r,function(e){var r={};function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(n,o,function(r){return e[r]}.bind(null,o));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="./",t.h="6e316588907199161614",t.cn="log/index",t(t.s="./src/log/index.ts")}({"./src/default-plugin/default-console.ts":function(e,r,t){"use strict";var n=this&&this.__spreadArrays||function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;var n=Array(e),o=0;for(r=0;r<t;r++)for(var i=arguments[r],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n};Object.defineProperty(r,"__esModule",{value:!0}),r.DefaultConsole=void 0;var o=function(){function e(){}return e.prototype.error=function(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];"function"==typeof console.error&&console.error.apply(console,n([e],r))},e.prototype.info=function(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];"function"==typeof console.info&&console.info.apply(console,n([e],r))},e.prototype.log=function(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];"function"==typeof console.log&&console.log.apply(console,n([e],r))},e.prototype.warn=function(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];"function"==typeof console.warn&&console.warn.apply(console,n([e],r))},e}();r.DefaultConsole=o},"./src/log/index.ts":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./src/log/interfaces.ts");Object.defineProperty(r,"LogLevel",{enumerable:!0,get:function(){return n.LogLevel}});var o=t("./src/log/log-function-call-info.ts");Object.defineProperty(r,"logInfoFunctionCallInfo",{enumerable:!0,get:function(){return o.logInfoFunctionCallInfo}}),Object.defineProperty(r,"logDebugFunctionCallInfo",{enumerable:!0,get:function(){return o.logDebugFunctionCallInfo}}),Object.defineProperty(r,"logInfoSyncFunctionCallInfo",{enumerable:!0,get:function(){return o.logInfoSyncFunctionCallInfo}}),Object.defineProperty(r,"logDebugSyncFunctionCallInfo",{enumerable:!0,get:function(){return o.logDebugSyncFunctionCallInfo}});var i=t("./src/log/logger.ts");Object.defineProperty(r,"Logger",{enumerable:!0,get:function(){return i.Logger}})},"./src/log/interfaces.ts":function(e,r,t){"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),r.LogLevel=void 0,(n=r.LogLevel||(r.LogLevel={})).OFF="off",n.ERROR="error",n.WARN="warn",n.INFO="info",n.DEBUG="debug",n.TRACE="trace",n.ALL="all"},"./src/log/log-function-call-info.ts":function(e,r,t){"use strict";var n=this&&this.__awaiter||function(e,r,t,n){return new(t||(t=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var r;e.done?o(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(a,s)}c((n=n.apply(e,r||[])).next())}))},o=this&&this.__generator||function(e,r){var t,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=r.call(e,a)}catch(e){i=[6,e],n=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function i(e,r,t,i){return n(this,void 0,void 0,(function(){var n,a,s,c;return o(this,(function(o){switch(o.label){case 0:null==t||t[i](e+" in"),n=void 0,a=!1,s=void 0,o.label=1;case 1:return o.trys.push([1,3,4,5]),[4,r()];case 2:return n=o.sent(),[3,5];case 3:return c=o.sent(),a=!0,s=c,null==t||t.error(e+" error:",s),[3,5];case 4:return a?[2,Promise.reject(s)]:(null==t||t.debug(e+" out",n),[2,n]);case 5:return[2]}}))}))}function a(e,r,t,n){null==t||t[n](e+" in");var o=void 0,i=!1,a=void 0;try{o=r()}catch(r){i=!0,a=r,null==t||t.error(e+" error:",a)}finally{if(i)throw a;return null==t||t[n](e+" out",o),o}}Object.defineProperty(r,"__esModule",{value:!0}),r.logDebugSyncFunctionCallInfo=r.logInfoSyncFunctionCallInfo=r.logDebugFunctionCallInfo=r.logInfoFunctionCallInfo=void 0,r.logInfoFunctionCallInfo=function(e,r,t){return n(this,void 0,void 0,(function(){return o(this,(function(n){return[2,i(e,r,t||null,"info")]}))}))},r.logDebugFunctionCallInfo=function(e,r,t){return n(this,void 0,void 0,(function(){return o(this,(function(n){return[2,i(e,r,t||null,"debug")]}))}))},r.logInfoSyncFunctionCallInfo=function(e,r,t){return a(e,r,t||null,"info")},r.logDebugSyncFunctionCallInfo=function(e,r,t){return a(e,r,t||null,"debug")}},"./src/log/logger.ts":function(e,r,t){"use strict";var n=this&&this.__spreadArrays||function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;var n=Array(e),o=0;for(r=0;r<t;r++)for(var i=arguments[r],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n};Object.defineProperty(r,"__esModule",{value:!0}),r.Logger=void 0;var o=t("./src/default-plugin/default-console.ts"),i=t("./src/log/interfaces.ts");function a(e){switch(e){case i.LogLevel.OFF:return 6;case i.LogLevel.ERROR:return 5;case i.LogLevel.WARN:return 4;case i.LogLevel.INFO:return 3;case i.LogLevel.DEBUG:return 2;case i.LogLevel.TRACE:return 1;case i.LogLevel.ALL:default:return 0}}var s=function(){function e(e){var r=e.logLevel||i.LogLevel.OFF;this._config={packageName:e.packageName,logLevel:r,logLevelNumber:a(r),className:e.className,console:e.console||new o.DefaultConsole}}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._config.logLevel},set:function(e){this._config.logLevel=e,this._config.logLevelNumber=a(e)},enumerable:!1,configurable:!0}),e.prototype.error=function(e){for(var r,t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];this._config.console&&this._canLog(i.LogLevel.ERROR)&&(r=this._config.console).error.apply(r,n([""+this._getPreLog(i.LogLevel.ERROR),e],t))},e.prototype.warn=function(e){for(var r,t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];this._config.console&&this._canLog(i.LogLevel.WARN)&&(r=this._config.console).warn.apply(r,n([""+this._getPreLog(i.LogLevel.WARN),e],t))},e.prototype.info=function(e){for(var r,t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];this._config.console&&this._canLog(i.LogLevel.INFO)&&(r=this._config.console).info.apply(r,n([""+this._getPreLog(i.LogLevel.INFO),e],t))},e.prototype.debug=function(e){for(var r,t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];this._config.console&&this._canLog(i.LogLevel.DEBUG)&&(r=this._config.console).log.apply(r,n([""+this._getPreLog(i.LogLevel.DEBUG),e],t))},e.prototype.trace=function(e){for(var r,t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];this._config.console&&this._canLog(i.LogLevel.TRACE)&&(r=this._config.console).log.apply(r,n([""+this._getPreLog(i.LogLevel.TRACE),e],t))},e.prototype._getPreLog=function(e){return"["+this._date2DateString(new Date)+"]["+e+"]["+this._config.packageName+"]["+(this._config.className?this._config.className:"")+"]"},e.prototype._paddingZero=function(e,r){return r>e.length?new Array(r-e.length+1).join("0")+e:e},e.prototype._date2DateString=function(e){var r=e.getFullYear().toString(),t=(e.getMonth()+1).toString(),n=e.getDate().toString(),o=e.getHours().toString(),i=e.getMinutes().toString(),a=e.getSeconds().toString(),s=e.getMilliseconds().toString();return r+"-"+this._paddingZero(t,2)+"-"+this._paddingZero(n,2)+" "+this._paddingZero(o,2)+":"+this._paddingZero(i,2)+":"+this._paddingZero(a,2)+":"+this._paddingZero(s,3)},e.prototype._canLog=function(e){return this._config.logLevelNumber<=a(e)},e}();r.Logger=s}}))},"../../common-sdk/dist/models/error/index.js":function(e,r){!function(e,r){for(var t in r)e[t]=r[t]}(r,function(e){var r={};function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(n,o,function(r){return e[r]}.bind(null,o));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="./",t.h="6e316588907199161614",t.cn="models/error/index",t(t.s="./src/models/error/index.ts")}({"./src/models/error/error-code.ts":function(e,r,t){"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),r.ErrorCodeType=void 0,(n=r.ErrorCodeType||(r.ErrorCodeType={}))[n.OK=0]="OK",n[n.CANCELLED=1]="CANCELLED",n[n.UNKNOWN=2]="UNKNOWN",n[n.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",n[n.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",n[n.NOT_FOUND=5]="NOT_FOUND",n[n.ALREADY_EXISTS=6]="ALREADY_EXISTS",n[n.PERMISSION_DENIED=7]="PERMISSION_DENIED",n[n.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",n[n.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",n[n.ABORTED=10]="ABORTED",n[n.OUT_OF_RANGE=11]="OUT_OF_RANGE",n[n.UNIMPLEMENTED=12]="UNIMPLEMENTED",n[n.INTERNAL=13]="INTERNAL",n[n.UNAVAILABLE=14]="UNAVAILABLE",n[n.DATA_LOSS=15]="DATA_LOSS",n[n.UNAUTHENTICATED=16]="UNAUTHENTICATED",n[n.CAPTCHA_REQUIRED=4001]="CAPTCHA_REQUIRED",n[n.CAPTCHA_INVALID=4002]="CAPTCHA_INVALID",n[n.INVALID_PASSWORD=4010]="INVALID_PASSWORD",n[n.INVALID_STATUS=4011]="INVALID_STATUS",n[n.USER_PENDING=4012]="USER_PENDING",n[n.USER_BLOCKED=4013]="USER_BLOCKED",n[n.INVALID_VERIFICATION_CODE=4014]="INVALID_VERIFICATION_CODE",n[n.TWO_FACTOR_REQUIRED=4015]="TWO_FACTOR_REQUIRED",n[n.INVALID_TWO_FACTOR=4016]="INVALID_TWO_FACTOR",n[n.INVALID_TWO_FACTOR_RECOVERY=4017]="INVALID_TWO_FACTOR_RECOVERY",n[n.UNDER_REVIEW=4018]="UNDER_REVIEW",n[n.PROVIDER_ERROR=4019]="PROVIDER_ERROR",n[n.VALIDATE_REQUIRED=4020]="VALIDATE_REQUIRED",n[n.PASSWORD_RESET_REQUIRED=4021]="PASSWORD_RESET_REQUIRED",n[n.INVALID_ACCOUNT_OR_PASSWORD=4022]="INVALID_ACCOUNT_OR_PASSWORD",n[n.EXPIRED_VERIFICATION_CODE=4024]="EXPIRED_VERIFICATION_CODE",n[n.INVALID_REQUEST=4121]="INVALID_REQUEST",n[n.UNAUTHORIZED_CLIENT=4122]="UNAUTHORIZED_CLIENT",n[n.ACCESS_DENIED=4123]="ACCESS_DENIED",n[n.UNSUPPORTED_RESPONSE_TYPE=4124]="UNSUPPORTED_RESPONSE_TYPE",n[n.INVALID_SCOPE=4125]="INVALID_SCOPE",n[n.INVALID_GRANT=4126]="INVALID_GRANT",n[n.SERVER_ERROR=5026]="SERVER_ERROR",n[n.TEMPORARILY_UNAVAILABLE=5027]="TEMPORARILY_UNAVAILABLE",n[n.authorization_pending=4050]="authorization_pending",n[n.slow_down=4051]="slow_down",n[n.expired_token=4052]="expired_token",n[n.INTERACTION_REQUIRED=4031]="INTERACTION_REQUIRED",n[n.LOGIN_REQUIRED=4032]="LOGIN_REQUIRED",n[n.ACCOUNT_SELECTION_REQUIRED=4033]="ACCOUNT_SELECTION_REQUIRED",n[n.CONSENT_REQUIRED=4034]="CONSENT_REQUIRED",n[n.INVALID_REQUEST_URI=4035]="INVALID_REQUEST_URI",n[n.INVALID_REQUEST_OBJECT=4036]="INVALID_REQUEST_OBJECT",n[n.REQUEST_NOT_SUPPORTED=4037]="REQUEST_NOT_SUPPORTED",n[n.REQUEST_URI_NOT_SUPPORTED=4038]="REQUEST_URI_NOT_SUPPORTED",n[n.REGISTRATION_NOT_SUPPORTED=4039]="REGISTRATION_NOT_SUPPORTED",n[n.ACCOUNT_FREEZE=50]="ACCOUNT_FREEZE",n[n.CANNOT_UNLOCK=38]="CANNOT_UNLOCK",n[n.USER_NOT_EXIST=4023]="USER_NOT_EXIST",n[n.UNREACHABLE=8e3]="UNREACHABLE",n[n.LOCAL=8001]="LOCAL",n[n.LOCAL_THIRD_PARTY_ERROR=8002]="LOCAL_THIRD_PARTY_ERROR",n[n.LOCAL_PROVIDER_ACCOUNT_ERROR=8003]="LOCAL_PROVIDER_ACCOUNT_ERROR"},"./src/models/error/error-details.ts":function(e,r,t){"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),r.ErrorInfoDetailReasonType=r.ErrorDetailType=void 0,(n=r.ErrorDetailType||(r.ErrorDetailType={})).ErrorInfo="type.googleapis.com/google.rpc.ErrorInfo",n.LocalizedMessage="type.googleapis.com/google.rpc.LocalizedMessage",(r.ErrorInfoDetailReasonType||(r.ErrorInfoDetailReasonType={})).CAPTCHA_REJECT="CAPTCHA_REJECT"},"./src/models/error/error.ts":function(e,r,t){"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),r.ErrorType=void 0,(n=r.ErrorType||(r.ErrorType={})).UNREACHABLE="unreachable",n.LOCAL="local",n.CANCELLED="cancelled",n.UNKNOWN="unknown",n.INVALID_ARGUMENT="invalid_argument",n.DEADLINE_EXCEEDED="deadline_exceeded",n.NOT_FOUND="not_found",n.ALREADY_EXISTS="already_exists",n.PERMISSION_DENIED="permission_denied",n.UNAUTHENTICATED="unauthenticated",n.RESOURCE_EXHAUSTED="resource_exhausted",n.FAILED_PRECONDITION="failed_precondition",n.ABORTED="aborted",n.OUT_OF_RANGE="out_of_range",n.UNIMPLEMENTED="unimplemented",n.INTERNAL="internal",n.UNAVAILABLE="unavailable",n.DATA_LOSS="data_loss",n.CAPTCHA_REQUIRED="captcha_required",n.CAPTCHA_INVALID="captcha_invalid",n.INVALID_PASSWORD="invalid_password",n.INVALID_STATUS="invalid_status",n.USER_PENDING="user_pending",n.USER_BLOCKED="user_blocked",n.INVALID_VERIFICATION_CODE="invalid_verification_code",n.TWO_FACTOR_REQUIRED="two_factor_required",n.INVALID_TWO_FACTOR="invalid_two_factor",n.INVALID_TWO_FACTOR_RECOVERY="invalid_two_factor_recovery",n.UNDER_REVIEW="under_review",n.PROVIDER_ERROR="provider_error",n.VALIDATE_REQUIRED="validate_required",n.PASSWORD_RESET_REQUIRED="password_reset_required",n.INVALID_ACCOUNT_OR_PASSWORD="invalid_account_or_password",n.EXPIRED_VERIFICATION_CODE="expired_verification_code",n.INVALID_REQUEST="invalid_request",n.UNAUTHORIZED_CLIENT="unauthorized_client",n.ACCESS_DENIED="access_denied",n.UNSUPPORTED_RESPONSE_TYPE="unsupported_response_type",n.INVALID_SCOPE="invalid_scope",n.INVALID_GRANT="invalid_grant",n.SERVER_ERROR="server_error",n.TEMPORARILY_UNAVAILABLE="temporarily_unavailable",n.AUTHORIZATION_PENDING="authorization_pending",n.SLOW_DOWN="slow_down",n.EXPIRED_TOKEN="expired_token",n.INTERACTION_REQUIRED="interaction_required",n.LOGIN_REQUIRED="login_required",n.ACCOUNT_SELECTION_REQUIRED="account_selection_required",n.CONSENT_REQUIRED="consent_required",n.INVALID_REQUEST_URI="invalid_request_uri",n.INVALID_REQUEST_OBJECT="invalid_request_object",n.REQUEST_NOT_SUPPORTED="request_not_supported",n.REQUEST_URI_NOT_SUPPORTED="request_uri_not_supported",n.REGISTRATION_NOT_SUPPORTED="registration_not_supported",n.ACCOUNT_FREEZE="account_freeze",n.CANNOT_UNLOCK="cannot_unlock",n.USER_NOT_EXIST="user_not_exist"},"./src/models/error/index.ts":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./src/models/error/error.ts");Object.defineProperty(r,"ErrorType",{enumerable:!0,get:function(){return n.ErrorType}});var o=t("./src/models/error/error-code.ts");Object.defineProperty(r,"ErrorCodeType",{enumerable:!0,get:function(){return o.ErrorCodeType}});var i=t("./src/models/error/error-details.ts");Object.defineProperty(r,"ErrorDetailType",{enumerable:!0,get:function(){return i.ErrorDetailType}}),Object.defineProperty(r,"ErrorInfoDetailReasonType",{enumerable:!0,get:function(){return i.ErrorInfoDetailReasonType}})}}))},"../../common-sdk/dist/simple-interfaces/simple-browser.js":function(e,r){!function(e,r){for(var t in r)e[t]=r[t]}(r,function(e){var r={};function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(n,o,function(r){return e[r]}.bind(null,o));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="./",t.h="6e316588907199161614",t.cn="simple-interfaces/simple-browser",t(t.s="./src/simple-interfaces/simple-browser.ts")}({"./src/simple-interfaces/simple-browser.ts":function(e,r,t){"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),r.SimpleBrowserWindowEvent=void 0,(n=r.SimpleBrowserWindowEvent||(r.SimpleBrowserWindowEvent={})).DID_NAVIGATE="did-navigate",n.DID_FINISH_LOAD="did-finish-load",n.CLOSED="closed"}}))},"../../common-sdk/dist/utilites/request/index.js":function(e,r){!function(e,r){for(var t in r)e[t]=r[t]}(r,function(e){var r={};function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(n,o,function(r){return e[r]}.bind(null,o));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="./",t.h="6e316588907199161614",t.cn="utilites/request/index",t(t.s="./src/utilites/request/index.ts")}({"./src/default-plugin/default-console.ts":function(e,r,t){"use strict";var n=this&&this.__spreadArrays||function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;var n=Array(e),o=0;for(r=0;r<t;r++)for(var i=arguments[r],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n};Object.defineProperty(r,"__esModule",{value:!0}),r.DefaultConsole=void 0;var o=function(){function e(){}return e.prototype.error=function(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];"function"==typeof console.error&&console.error.apply(console,n([e],r))},e.prototype.info=function(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];"function"==typeof console.info&&console.info.apply(console,n([e],r))},e.prototype.log=function(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];"function"==typeof console.log&&console.log.apply(console,n([e],r))},e.prototype.warn=function(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];"function"==typeof console.warn&&console.warn.apply(console,n([e],r))},e}();r.DefaultConsole=o},"./src/log/index.ts":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./src/log/interfaces.ts");Object.defineProperty(r,"LogLevel",{enumerable:!0,get:function(){return n.LogLevel}});var o=t("./src/log/log-function-call-info.ts");Object.defineProperty(r,"logInfoFunctionCallInfo",{enumerable:!0,get:function(){return o.logInfoFunctionCallInfo}}),Object.defineProperty(r,"logDebugFunctionCallInfo",{enumerable:!0,get:function(){return o.logDebugFunctionCallInfo}}),Object.defineProperty(r,"logInfoSyncFunctionCallInfo",{enumerable:!0,get:function(){return o.logInfoSyncFunctionCallInfo}}),Object.defineProperty(r,"logDebugSyncFunctionCallInfo",{enumerable:!0,get:function(){return o.logDebugSyncFunctionCallInfo}});var i=t("./src/log/logger.ts");Object.defineProperty(r,"Logger",{enumerable:!0,get:function(){return i.Logger}})},"./src/log/interfaces.ts":function(e,r,t){"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),r.LogLevel=void 0,(n=r.LogLevel||(r.LogLevel={})).OFF="off",n.ERROR="error",n.WARN="warn",n.INFO="info",n.DEBUG="debug",n.TRACE="trace",n.ALL="all"},"./src/log/log-function-call-info.ts":function(e,r,t){"use strict";var n=this&&this.__awaiter||function(e,r,t,n){return new(t||(t=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var r;e.done?o(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(a,s)}c((n=n.apply(e,r||[])).next())}))},o=this&&this.__generator||function(e,r){var t,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=r.call(e,a)}catch(e){i=[6,e],n=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function i(e,r,t,i){return n(this,void 0,void 0,(function(){var n,a,s,c;return o(this,(function(o){switch(o.label){case 0:null==t||t[i](e+" in"),n=void 0,a=!1,s=void 0,o.label=1;case 1:return o.trys.push([1,3,4,5]),[4,r()];case 2:return n=o.sent(),[3,5];case 3:return c=o.sent(),a=!0,s=c,null==t||t.error(e+" error:",s),[3,5];case 4:return a?[2,Promise.reject(s)]:(null==t||t.debug(e+" out",n),[2,n]);case 5:return[2]}}))}))}function a(e,r,t,n){null==t||t[n](e+" in");var o=void 0,i=!1,a=void 0;try{o=r()}catch(r){i=!0,a=r,null==t||t.error(e+" error:",a)}finally{if(i)throw a;return null==t||t[n](e+" out",o),o}}Object.defineProperty(r,"__esModule",{value:!0}),r.logDebugSyncFunctionCallInfo=r.logInfoSyncFunctionCallInfo=r.logDebugFunctionCallInfo=r.logInfoFunctionCallInfo=void 0,r.logInfoFunctionCallInfo=function(e,r,t){return n(this,void 0,void 0,(function(){return o(this,(function(n){return[2,i(e,r,t||null,"info")]}))}))},r.logDebugFunctionCallInfo=function(e,r,t){return n(this,void 0,void 0,(function(){return o(this,(function(n){return[2,i(e,r,t||null,"debug")]}))}))},r.logInfoSyncFunctionCallInfo=function(e,r,t){return a(e,r,t||null,"info")},r.logDebugSyncFunctionCallInfo=function(e,r,t){return a(e,r,t||null,"debug")}},"./src/log/logger.ts":function(e,r,t){"use strict";var n=this&&this.__spreadArrays||function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;var n=Array(e),o=0;for(r=0;r<t;r++)for(var i=arguments[r],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n};Object.defineProperty(r,"__esModule",{value:!0}),r.Logger=void 0;var o=t("./src/default-plugin/default-console.ts"),i=t("./src/log/interfaces.ts");function a(e){switch(e){case i.LogLevel.OFF:return 6;case i.LogLevel.ERROR:return 5;case i.LogLevel.WARN:return 4;case i.LogLevel.INFO:return 3;case i.LogLevel.DEBUG:return 2;case i.LogLevel.TRACE:return 1;case i.LogLevel.ALL:default:return 0}}var s=function(){function e(e){var r=e.logLevel||i.LogLevel.OFF;this._config={packageName:e.packageName,logLevel:r,logLevelNumber:a(r),className:e.className,console:e.console||new o.DefaultConsole}}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._config.logLevel},set:function(e){this._config.logLevel=e,this._config.logLevelNumber=a(e)},enumerable:!1,configurable:!0}),e.prototype.error=function(e){for(var r,t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];this._config.console&&this._canLog(i.LogLevel.ERROR)&&(r=this._config.console).error.apply(r,n([""+this._getPreLog(i.LogLevel.ERROR),e],t))},e.prototype.warn=function(e){for(var r,t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];this._config.console&&this._canLog(i.LogLevel.WARN)&&(r=this._config.console).warn.apply(r,n([""+this._getPreLog(i.LogLevel.WARN),e],t))},e.prototype.info=function(e){for(var r,t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];this._config.console&&this._canLog(i.LogLevel.INFO)&&(r=this._config.console).info.apply(r,n([""+this._getPreLog(i.LogLevel.INFO),e],t))},e.prototype.debug=function(e){for(var r,t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];this._config.console&&this._canLog(i.LogLevel.DEBUG)&&(r=this._config.console).log.apply(r,n([""+this._getPreLog(i.LogLevel.DEBUG),e],t))},e.prototype.trace=function(e){for(var r,t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];this._config.console&&this._canLog(i.LogLevel.TRACE)&&(r=this._config.console).log.apply(r,n([""+this._getPreLog(i.LogLevel.TRACE),e],t))},e.prototype._getPreLog=function(e){return"["+this._date2DateString(new Date)+"]["+e+"]["+this._config.packageName+"]["+(this._config.className?this._config.className:"")+"]"},e.prototype._paddingZero=function(e,r){return r>e.length?new Array(r-e.length+1).join("0")+e:e},e.prototype._date2DateString=function(e){var r=e.getFullYear().toString(),t=(e.getMonth()+1).toString(),n=e.getDate().toString(),o=e.getHours().toString(),i=e.getMinutes().toString(),a=e.getSeconds().toString(),s=e.getMilliseconds().toString();return r+"-"+this._paddingZero(t,2)+"-"+this._paddingZero(n,2)+" "+this._paddingZero(o,2)+":"+this._paddingZero(i,2)+":"+this._paddingZero(a,2)+":"+this._paddingZero(s,3)},e.prototype._canLog=function(e){return this._config.logLevelNumber<=a(e)},e}();r.Logger=s},"./src/models/error/error-code.ts":function(e,r,t){"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),r.ErrorCodeType=void 0,(n=r.ErrorCodeType||(r.ErrorCodeType={}))[n.OK=0]="OK",n[n.CANCELLED=1]="CANCELLED",n[n.UNKNOWN=2]="UNKNOWN",n[n.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",n[n.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",n[n.NOT_FOUND=5]="NOT_FOUND",n[n.ALREADY_EXISTS=6]="ALREADY_EXISTS",n[n.PERMISSION_DENIED=7]="PERMISSION_DENIED",n[n.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",n[n.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",n[n.ABORTED=10]="ABORTED",n[n.OUT_OF_RANGE=11]="OUT_OF_RANGE",n[n.UNIMPLEMENTED=12]="UNIMPLEMENTED",n[n.INTERNAL=13]="INTERNAL",n[n.UNAVAILABLE=14]="UNAVAILABLE",n[n.DATA_LOSS=15]="DATA_LOSS",n[n.UNAUTHENTICATED=16]="UNAUTHENTICATED",n[n.CAPTCHA_REQUIRED=4001]="CAPTCHA_REQUIRED",n[n.CAPTCHA_INVALID=4002]="CAPTCHA_INVALID",n[n.INVALID_PASSWORD=4010]="INVALID_PASSWORD",n[n.INVALID_STATUS=4011]="INVALID_STATUS",n[n.USER_PENDING=4012]="USER_PENDING",n[n.USER_BLOCKED=4013]="USER_BLOCKED",n[n.INVALID_VERIFICATION_CODE=4014]="INVALID_VERIFICATION_CODE",n[n.TWO_FACTOR_REQUIRED=4015]="TWO_FACTOR_REQUIRED",n[n.INVALID_TWO_FACTOR=4016]="INVALID_TWO_FACTOR",n[n.INVALID_TWO_FACTOR_RECOVERY=4017]="INVALID_TWO_FACTOR_RECOVERY",n[n.UNDER_REVIEW=4018]="UNDER_REVIEW",n[n.PROVIDER_ERROR=4019]="PROVIDER_ERROR",n[n.VALIDATE_REQUIRED=4020]="VALIDATE_REQUIRED",n[n.PASSWORD_RESET_REQUIRED=4021]="PASSWORD_RESET_REQUIRED",n[n.INVALID_ACCOUNT_OR_PASSWORD=4022]="INVALID_ACCOUNT_OR_PASSWORD",n[n.EXPIRED_VERIFICATION_CODE=4024]="EXPIRED_VERIFICATION_CODE",n[n.INVALID_REQUEST=4121]="INVALID_REQUEST",n[n.UNAUTHORIZED_CLIENT=4122]="UNAUTHORIZED_CLIENT",n[n.ACCESS_DENIED=4123]="ACCESS_DENIED",n[n.UNSUPPORTED_RESPONSE_TYPE=4124]="UNSUPPORTED_RESPONSE_TYPE",n[n.INVALID_SCOPE=4125]="INVALID_SCOPE",n[n.INVALID_GRANT=4126]="INVALID_GRANT",n[n.SERVER_ERROR=5026]="SERVER_ERROR",n[n.TEMPORARILY_UNAVAILABLE=5027]="TEMPORARILY_UNAVAILABLE",n[n.authorization_pending=4050]="authorization_pending",n[n.slow_down=4051]="slow_down",n[n.expired_token=4052]="expired_token",n[n.INTERACTION_REQUIRED=4031]="INTERACTION_REQUIRED",n[n.LOGIN_REQUIRED=4032]="LOGIN_REQUIRED",n[n.ACCOUNT_SELECTION_REQUIRED=4033]="ACCOUNT_SELECTION_REQUIRED",n[n.CONSENT_REQUIRED=4034]="CONSENT_REQUIRED",n[n.INVALID_REQUEST_URI=4035]="INVALID_REQUEST_URI",n[n.INVALID_REQUEST_OBJECT=4036]="INVALID_REQUEST_OBJECT",n[n.REQUEST_NOT_SUPPORTED=4037]="REQUEST_NOT_SUPPORTED",n[n.REQUEST_URI_NOT_SUPPORTED=4038]="REQUEST_URI_NOT_SUPPORTED",n[n.REGISTRATION_NOT_SUPPORTED=4039]="REGISTRATION_NOT_SUPPORTED",n[n.ACCOUNT_FREEZE=50]="ACCOUNT_FREEZE",n[n.CANNOT_UNLOCK=38]="CANNOT_UNLOCK",n[n.USER_NOT_EXIST=4023]="USER_NOT_EXIST",n[n.UNREACHABLE=8e3]="UNREACHABLE",n[n.LOCAL=8001]="LOCAL",n[n.LOCAL_THIRD_PARTY_ERROR=8002]="LOCAL_THIRD_PARTY_ERROR",n[n.LOCAL_PROVIDER_ACCOUNT_ERROR=8003]="LOCAL_PROVIDER_ACCOUNT_ERROR"},"./src/models/error/error-details.ts":function(e,r,t){"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),r.ErrorInfoDetailReasonType=r.ErrorDetailType=void 0,(n=r.ErrorDetailType||(r.ErrorDetailType={})).ErrorInfo="type.googleapis.com/google.rpc.ErrorInfo",n.LocalizedMessage="type.googleapis.com/google.rpc.LocalizedMessage",(r.ErrorInfoDetailReasonType||(r.ErrorInfoDetailReasonType={})).CAPTCHA_REJECT="CAPTCHA_REJECT"},"./src/models/error/error.ts":function(e,r,t){"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),r.ErrorType=void 0,(n=r.ErrorType||(r.ErrorType={})).UNREACHABLE="unreachable",n.LOCAL="local",n.CANCELLED="cancelled",n.UNKNOWN="unknown",n.INVALID_ARGUMENT="invalid_argument",n.DEADLINE_EXCEEDED="deadline_exceeded",n.NOT_FOUND="not_found",n.ALREADY_EXISTS="already_exists",n.PERMISSION_DENIED="permission_denied",n.UNAUTHENTICATED="unauthenticated",n.RESOURCE_EXHAUSTED="resource_exhausted",n.FAILED_PRECONDITION="failed_precondition",n.ABORTED="aborted",n.OUT_OF_RANGE="out_of_range",n.UNIMPLEMENTED="unimplemented",n.INTERNAL="internal",n.UNAVAILABLE="unavailable",n.DATA_LOSS="data_loss",n.CAPTCHA_REQUIRED="captcha_required",n.CAPTCHA_INVALID="captcha_invalid",n.INVALID_PASSWORD="invalid_password",n.INVALID_STATUS="invalid_status",n.USER_PENDING="user_pending",n.USER_BLOCKED="user_blocked",n.INVALID_VERIFICATION_CODE="invalid_verification_code",n.TWO_FACTOR_REQUIRED="two_factor_required",n.INVALID_TWO_FACTOR="invalid_two_factor",n.INVALID_TWO_FACTOR_RECOVERY="invalid_two_factor_recovery",n.UNDER_REVIEW="under_review",n.PROVIDER_ERROR="provider_error",n.VALIDATE_REQUIRED="validate_required",n.PASSWORD_RESET_REQUIRED="password_reset_required",n.INVALID_ACCOUNT_OR_PASSWORD="invalid_account_or_password",n.EXPIRED_VERIFICATION_CODE="expired_verification_code",n.INVALID_REQUEST="invalid_request",n.UNAUTHORIZED_CLIENT="unauthorized_client",n.ACCESS_DENIED="access_denied",n.UNSUPPORTED_RESPONSE_TYPE="unsupported_response_type",n.INVALID_SCOPE="invalid_scope",n.INVALID_GRANT="invalid_grant",n.SERVER_ERROR="server_error",n.TEMPORARILY_UNAVAILABLE="temporarily_unavailable",n.AUTHORIZATION_PENDING="authorization_pending",n.SLOW_DOWN="slow_down",n.EXPIRED_TOKEN="expired_token",n.INTERACTION_REQUIRED="interaction_required",n.LOGIN_REQUIRED="login_required",n.ACCOUNT_SELECTION_REQUIRED="account_selection_required",n.CONSENT_REQUIRED="consent_required",n.INVALID_REQUEST_URI="invalid_request_uri",n.INVALID_REQUEST_OBJECT="invalid_request_object",n.REQUEST_NOT_SUPPORTED="request_not_supported",n.REQUEST_URI_NOT_SUPPORTED="request_uri_not_supported",n.REGISTRATION_NOT_SUPPORTED="registration_not_supported",n.ACCOUNT_FREEZE="account_freeze",n.CANNOT_UNLOCK="cannot_unlock",n.USER_NOT_EXIST="user_not_exist"},"./src/models/error/index.ts":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./src/models/error/error.ts");Object.defineProperty(r,"ErrorType",{enumerable:!0,get:function(){return n.ErrorType}});var o=t("./src/models/error/error-code.ts");Object.defineProperty(r,"ErrorCodeType",{enumerable:!0,get:function(){return o.ErrorCodeType}});var i=t("./src/models/error/error-details.ts");Object.defineProperty(r,"ErrorDetailType",{enumerable:!0,get:function(){return i.ErrorDetailType}}),Object.defineProperty(r,"ErrorInfoDetailReasonType",{enumerable:!0,get:function(){return i.ErrorInfoDetailReasonType}})},"./src/utilites/clone/index.ts":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.cloneDeep=void 0,r.cloneDeep=function(e){return void 0===e?void 0:null===e?null:JSON.parse(JSON.stringify(e))}},"./src/utilites/request/index.ts":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./src/utilites/request/utilites.ts");Object.defineProperty(r,"isTargetUrlUnreachable",{enumerable:!0,get:function(){return n.isTargetUrlUnreachable}}),Object.defineProperty(r,"isURIStartWithApiOrigins",{enumerable:!0,get:function(){return n.isURIStartWithApiOrigins}});var o=t("./src/utilites/request/request-client.ts");Object.defineProperty(r,"RequestClient",{enumerable:!0,get:function(){return o.RequestClient}})},"./src/utilites/request/request-client.ts":function(e,r,t){"use strict";var n=this&&this.__awaiter||function(e,r,t,n){return new(t||(t=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var r;e.done?o(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(a,s)}c((n=n.apply(e,r||[])).next())}))},o=this&&this.__generator||function(e,r){var t,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=r.call(e,a)}catch(e){i=[6,e],n=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(r,"__esModule",{value:!0}),r.RequestClient=void 0;var i=t("./src/models/error/index.ts"),a=t("./src/utilites/request/utilites.ts"),s=t("./src/utilites/response-error/index.ts"),c=t("./src/utilites/clone/index.ts"),u=t("./src/log/index.ts"),l=function(){function e(r){this._config={apiOrigins:r.apiOrigins,requestFunction:r.requestFunction,beforeRequestOfRequestClientCallback:r.beforeRequestOfRequestClientCallback,retry:this._formatRetry(r.retry,e._defaultRetry)},this._logger=new u.Logger({packageName:"@xbase/common",className:"RequestClient",logLevel:r.logLevel,console:r.console})}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logger.logLevel},set:function(e){this._logger.logLevel=e},enumerable:!1,configurable:!0}),e.prototype.request=function(e){return n(this,void 0,void 0,(function(){var r=this;return o(this,(function(t){switch(t.label){case 0:return[4,u.logDebugFunctionCallInfo("request",(function(){return n(r,void 0,void 0,(function(){var r,t,n,i,u,l,_,d,f,E,p,g,h,R,I,T,O,v,A;return o(this,(function(o){switch(o.label){case 0:r=null,t=this._formatRetry(null===(A=e.requestOptions)||void 0===A?void 0:A.retry,this._config.retry),n=t+1,i=void 0,u=0,l=!1,o.label=1;case 1:if(!(u<n))return[3,15];l=!1,i=void 0,_=this._getRequestUri(e.url,this._config.apiOrigins,u),d=e.requestOptions,f=_,E=void 0,o.label=2;case 2:return o.trys.push([2,7,8,12]),(p=this._getBeforeRequestOfRequestClientCallback(e.beforeRequestOfRequestClientCallback))?[4,p({originUrl:e.url,url:_,requestOptions:d})]:[3,4];case 3:return g=o.sent(),f=g.url,E=g.requestOptions,[3,5];case 4:E=c.cloneDeep(e.requestOptions)||void 0,o.label=5;case 5:return E&&(E.retry=0),[4,this._config.requestFunction(f,E)];case 6:return r=o.sent(),l=!0,[3,12];case 7:return h=o.sent(),i=s.toResponseError(h),[3,12];case 8:return R=!0,(I=this._getAfterRequestOfRequestClientCallback(e.afterRequestOfRequestClientCallback))?[4,I({originUrl:e.url,originRequestOptions:d,url:f,requestOptions:E,response:r||i||void 0,requestSuccess:l})]:[3,10];case 9:return!0===(T=o.sent()).costRetry||(u-=1),v=u>=t,R=T.needRetry&&!v,s.isResponseErrorOrError(T.result)?(r=null,i=T.result):(r=T.result||null,i=void 0),[3,11];case 10:l?R=!1:(O=s.isResponseError(i)&&a.isTargetUrlUnreachable(f,i),i&&O||(R=!1)),(v=u>=t)&&(R=!1),o.label=11;case 11:return R?[7]:[3,15];case 12:return[4,this._sleep(u)];case 13:o.sent(),o.label=14;case 14:return u++,[3,1];case 15:return s.isResponseErrorOrError(i)?[2,Promise.reject(i)]:[2,r]}}))}))}),this._logger)];case 1:return[2,t.sent()]}}))}))},e.prototype._formatRetry=function(e,r){return"number"!=typeof e?this._checkRetry(r):this._checkRetry(e)},e.prototype._checkRetry=function(r){var t=null;if(("number"!=typeof r||r<e._minRetry||r>e._maxRetry)&&(t={error:i.ErrorType.LOCAL,error_description:"wrong options param: retry"}),t)throw t;return r},e.prototype._sleep=function(e){return n(this,void 0,void 0,(function(){return o(this,(function(r){return[2,new Promise((function(r){setTimeout((function(){r()}),1e3*Math.pow(2,e))}))]}))}))},e.prototype._getBeforeRequestOfRequestClientCallback=function(e){return"function"==typeof e?e:"function"==typeof this._config.beforeRequestOfRequestClientCallback?this._config.beforeRequestOfRequestClientCallback:void 0},e.prototype._getAfterRequestOfRequestClientCallback=function(e){return"function"==typeof e?e:"function"==typeof this._config.afterRequestOfRequestClientCallback?this._config.afterRequestOfRequestClientCallback:void 0},e.prototype._getRequestUri=function(e,r,t){var n,o=r[t%r.length];if(e.startsWith("/")){n=new URL(""+o+e);var i=new URL(o);return i.pathname=n.pathname,i.search=n.search,i.href}return(n=new URL(e)).href},e._defaultRetry=2,e._minRetry=0,e._maxRetry=5,e}();r.RequestClient=l},"./src/utilites/request/utilites.ts":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isURIStartWithApiOrigins=r.isTargetUrlUnreachable=void 0;var n=t("./src/models/error/index.ts");r.isTargetUrlUnreachable=function(e,r){return r.error===n.ErrorType.UNREACHABLE&&r.error_uri===new URL(e).pathname},r.isURIStartWithApiOrigins=function(e,r){var t=!1;try{for(var n=new URL(e),o=0,i=r;o<i.length;o++){var a=i[o];if(n.origin===a){t=!0;break}}}catch(e){t=!1}return t}},"./src/utilites/response-error/index.ts":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.appendErrorDetail=r.isI18nInfoErrorInfoDetailMetaData=r.filterResponseErrorErrorInfoDetailByDomain=r.filterResponseErrorErrorDetail=r.isTargetErrorDetail=r.toResponseError=r.isResponseErrorOrError=r.isResponseError=void 0;var n=t("./src/models/error/index.ts");function o(e){return e&&void 0!==e.error}function i(e){return e&&void 0!==e}r.isResponseError=o,r.isResponseErrorOrError=function(e){return e instanceof Error||o(e)},r.toResponseError=function(e,r){var t,o=r||{};if(e instanceof Error)t={error:o.error||n.ErrorType.LOCAL,error_code:"number"==typeof o.error_code?o.error_code:n.ErrorCodeType.LOCAL,error_description:o.error_description||e.message+"\n\n\n"+e.stack,error_uri:o.error_uri,details:o.details||[]};else{var i=e||{};t={error:o.error||i.error||n.ErrorType.LOCAL,error_code:"number"==typeof o.error_code?o.error_code:i.error_code,error_description:o.error_description||i.error_description,error_uri:o.error_uri||i.error_uri,details:o.details||i.details}}return t},r.isTargetErrorDetail=i,r.filterResponseErrorErrorDetail=function(e){var r=[];if(e&&Array.isArray(e.details))for(var t=0,n=e.details;t<n.length;t++){var o=n[t];i(o)&&r.push(o)}return r},r.filterResponseErrorErrorInfoDetailByDomain=function(e,r){var t=[];if(e&&Array.isArray(e.details))for(var n=0,o=e.details;n<o.length;n++){var a=o[n];i(a)&&a.domain===r&&t.push(a)}return t},r.isI18nInfoErrorInfoDetailMetaData=function(e){return e&&void 0!==e.resource_id},r.appendErrorDetail=function(e,r){e&&(Array.isArray(e.details)||(e.details=[]),e.details.push(r))}}}))},"../../common-sdk/dist/utilites/response-error/index.js":function(e,r){!function(e,r){for(var t in r)e[t]=r[t]}(r,function(e){var r={};function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(n,o,function(r){return e[r]}.bind(null,o));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="./",t.h="6e316588907199161614",t.cn="utilites/response-error/index",t(t.s="./src/utilites/response-error/index.ts")}({"./src/models/error/error-code.ts":function(e,r,t){"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),r.ErrorCodeType=void 0,(n=r.ErrorCodeType||(r.ErrorCodeType={}))[n.OK=0]="OK",n[n.CANCELLED=1]="CANCELLED",n[n.UNKNOWN=2]="UNKNOWN",n[n.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",n[n.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",n[n.NOT_FOUND=5]="NOT_FOUND",n[n.ALREADY_EXISTS=6]="ALREADY_EXISTS",n[n.PERMISSION_DENIED=7]="PERMISSION_DENIED",n[n.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",n[n.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",n[n.ABORTED=10]="ABORTED",n[n.OUT_OF_RANGE=11]="OUT_OF_RANGE",n[n.UNIMPLEMENTED=12]="UNIMPLEMENTED",n[n.INTERNAL=13]="INTERNAL",n[n.UNAVAILABLE=14]="UNAVAILABLE",n[n.DATA_LOSS=15]="DATA_LOSS",n[n.UNAUTHENTICATED=16]="UNAUTHENTICATED",n[n.CAPTCHA_REQUIRED=4001]="CAPTCHA_REQUIRED",n[n.CAPTCHA_INVALID=4002]="CAPTCHA_INVALID",n[n.INVALID_PASSWORD=4010]="INVALID_PASSWORD",n[n.INVALID_STATUS=4011]="INVALID_STATUS",n[n.USER_PENDING=4012]="USER_PENDING",n[n.USER_BLOCKED=4013]="USER_BLOCKED",n[n.INVALID_VERIFICATION_CODE=4014]="INVALID_VERIFICATION_CODE",n[n.TWO_FACTOR_REQUIRED=4015]="TWO_FACTOR_REQUIRED",n[n.INVALID_TWO_FACTOR=4016]="INVALID_TWO_FACTOR",n[n.INVALID_TWO_FACTOR_RECOVERY=4017]="INVALID_TWO_FACTOR_RECOVERY",n[n.UNDER_REVIEW=4018]="UNDER_REVIEW",n[n.PROVIDER_ERROR=4019]="PROVIDER_ERROR",n[n.VALIDATE_REQUIRED=4020]="VALIDATE_REQUIRED",n[n.PASSWORD_RESET_REQUIRED=4021]="PASSWORD_RESET_REQUIRED",n[n.INVALID_ACCOUNT_OR_PASSWORD=4022]="INVALID_ACCOUNT_OR_PASSWORD",n[n.EXPIRED_VERIFICATION_CODE=4024]="EXPIRED_VERIFICATION_CODE",n[n.INVALID_REQUEST=4121]="INVALID_REQUEST",n[n.UNAUTHORIZED_CLIENT=4122]="UNAUTHORIZED_CLIENT",n[n.ACCESS_DENIED=4123]="ACCESS_DENIED",n[n.UNSUPPORTED_RESPONSE_TYPE=4124]="UNSUPPORTED_RESPONSE_TYPE",n[n.INVALID_SCOPE=4125]="INVALID_SCOPE",n[n.INVALID_GRANT=4126]="INVALID_GRANT",n[n.SERVER_ERROR=5026]="SERVER_ERROR",n[n.TEMPORARILY_UNAVAILABLE=5027]="TEMPORARILY_UNAVAILABLE",n[n.authorization_pending=4050]="authorization_pending",n[n.slow_down=4051]="slow_down",n[n.expired_token=4052]="expired_token",n[n.INTERACTION_REQUIRED=4031]="INTERACTION_REQUIRED",n[n.LOGIN_REQUIRED=4032]="LOGIN_REQUIRED",n[n.ACCOUNT_SELECTION_REQUIRED=4033]="ACCOUNT_SELECTION_REQUIRED",n[n.CONSENT_REQUIRED=4034]="CONSENT_REQUIRED",n[n.INVALID_REQUEST_URI=4035]="INVALID_REQUEST_URI",n[n.INVALID_REQUEST_OBJECT=4036]="INVALID_REQUEST_OBJECT",n[n.REQUEST_NOT_SUPPORTED=4037]="REQUEST_NOT_SUPPORTED",n[n.REQUEST_URI_NOT_SUPPORTED=4038]="REQUEST_URI_NOT_SUPPORTED",n[n.REGISTRATION_NOT_SUPPORTED=4039]="REGISTRATION_NOT_SUPPORTED",n[n.ACCOUNT_FREEZE=50]="ACCOUNT_FREEZE",n[n.CANNOT_UNLOCK=38]="CANNOT_UNLOCK",n[n.USER_NOT_EXIST=4023]="USER_NOT_EXIST",n[n.UNREACHABLE=8e3]="UNREACHABLE",n[n.LOCAL=8001]="LOCAL",n[n.LOCAL_THIRD_PARTY_ERROR=8002]="LOCAL_THIRD_PARTY_ERROR",n[n.LOCAL_PROVIDER_ACCOUNT_ERROR=8003]="LOCAL_PROVIDER_ACCOUNT_ERROR"},"./src/models/error/error-details.ts":function(e,r,t){"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),r.ErrorInfoDetailReasonType=r.ErrorDetailType=void 0,(n=r.ErrorDetailType||(r.ErrorDetailType={})).ErrorInfo="type.googleapis.com/google.rpc.ErrorInfo",n.LocalizedMessage="type.googleapis.com/google.rpc.LocalizedMessage",(r.ErrorInfoDetailReasonType||(r.ErrorInfoDetailReasonType={})).CAPTCHA_REJECT="CAPTCHA_REJECT"},"./src/models/error/error.ts":function(e,r,t){"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),r.ErrorType=void 0,(n=r.ErrorType||(r.ErrorType={})).UNREACHABLE="unreachable",n.LOCAL="local",n.CANCELLED="cancelled",n.UNKNOWN="unknown",n.INVALID_ARGUMENT="invalid_argument",n.DEADLINE_EXCEEDED="deadline_exceeded",n.NOT_FOUND="not_found",n.ALREADY_EXISTS="already_exists",n.PERMISSION_DENIED="permission_denied",n.UNAUTHENTICATED="unauthenticated",n.RESOURCE_EXHAUSTED="resource_exhausted",n.FAILED_PRECONDITION="failed_precondition",n.ABORTED="aborted",n.OUT_OF_RANGE="out_of_range",n.UNIMPLEMENTED="unimplemented",n.INTERNAL="internal",n.UNAVAILABLE="unavailable",n.DATA_LOSS="data_loss",n.CAPTCHA_REQUIRED="captcha_required",n.CAPTCHA_INVALID="captcha_invalid",n.INVALID_PASSWORD="invalid_password",n.INVALID_STATUS="invalid_status",n.USER_PENDING="user_pending",n.USER_BLOCKED="user_blocked",n.INVALID_VERIFICATION_CODE="invalid_verification_code",n.TWO_FACTOR_REQUIRED="two_factor_required",n.INVALID_TWO_FACTOR="invalid_two_factor",n.INVALID_TWO_FACTOR_RECOVERY="invalid_two_factor_recovery",n.UNDER_REVIEW="under_review",n.PROVIDER_ERROR="provider_error",n.VALIDATE_REQUIRED="validate_required",n.PASSWORD_RESET_REQUIRED="password_reset_required",n.INVALID_ACCOUNT_OR_PASSWORD="invalid_account_or_password",n.EXPIRED_VERIFICATION_CODE="expired_verification_code",n.INVALID_REQUEST="invalid_request",n.UNAUTHORIZED_CLIENT="unauthorized_client",n.ACCESS_DENIED="access_denied",n.UNSUPPORTED_RESPONSE_TYPE="unsupported_response_type",n.INVALID_SCOPE="invalid_scope",n.INVALID_GRANT="invalid_grant",n.SERVER_ERROR="server_error",n.TEMPORARILY_UNAVAILABLE="temporarily_unavailable",n.AUTHORIZATION_PENDING="authorization_pending",n.SLOW_DOWN="slow_down",n.EXPIRED_TOKEN="expired_token",n.INTERACTION_REQUIRED="interaction_required",n.LOGIN_REQUIRED="login_required",n.ACCOUNT_SELECTION_REQUIRED="account_selection_required",n.CONSENT_REQUIRED="consent_required",n.INVALID_REQUEST_URI="invalid_request_uri",n.INVALID_REQUEST_OBJECT="invalid_request_object",n.REQUEST_NOT_SUPPORTED="request_not_supported",n.REQUEST_URI_NOT_SUPPORTED="request_uri_not_supported",n.REGISTRATION_NOT_SUPPORTED="registration_not_supported",n.ACCOUNT_FREEZE="account_freeze",n.CANNOT_UNLOCK="cannot_unlock",n.USER_NOT_EXIST="user_not_exist"},"./src/models/error/index.ts":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./src/models/error/error.ts");Object.defineProperty(r,"ErrorType",{enumerable:!0,get:function(){return n.ErrorType}});var o=t("./src/models/error/error-code.ts");Object.defineProperty(r,"ErrorCodeType",{enumerable:!0,get:function(){return o.ErrorCodeType}});var i=t("./src/models/error/error-details.ts");Object.defineProperty(r,"ErrorDetailType",{enumerable:!0,get:function(){return i.ErrorDetailType}}),Object.defineProperty(r,"ErrorInfoDetailReasonType",{enumerable:!0,get:function(){return i.ErrorInfoDetailReasonType}})},"./src/utilites/response-error/index.ts":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.appendErrorDetail=r.isI18nInfoErrorInfoDetailMetaData=r.filterResponseErrorErrorInfoDetailByDomain=r.filterResponseErrorErrorDetail=r.isTargetErrorDetail=r.toResponseError=r.isResponseErrorOrError=r.isResponseError=void 0;var n=t("./src/models/error/index.ts");function o(e){return e&&void 0!==e.error}function i(e){return e&&void 0!==e}r.isResponseError=o,r.isResponseErrorOrError=function(e){return e instanceof Error||o(e)},r.toResponseError=function(e,r){var t,o=r||{};if(e instanceof Error)t={error:o.error||n.ErrorType.LOCAL,error_code:"number"==typeof o.error_code?o.error_code:n.ErrorCodeType.LOCAL,error_description:o.error_description||e.message+"\n\n\n"+e.stack,error_uri:o.error_uri,details:o.details||[]};else{var i=e||{};t={error:o.error||i.error||n.ErrorType.LOCAL,error_code:"number"==typeof o.error_code?o.error_code:i.error_code,error_description:o.error_description||i.error_description,error_uri:o.error_uri||i.error_uri,details:o.details||i.details}}return t},r.isTargetErrorDetail=i,r.filterResponseErrorErrorDetail=function(e){var r=[];if(e&&Array.isArray(e.details))for(var t=0,n=e.details;t<n.length;t++){var o=n[t];i(o)&&r.push(o)}return r},r.filterResponseErrorErrorInfoDetailByDomain=function(e,r){var t=[];if(e&&Array.isArray(e.details))for(var n=0,o=e.details;n<o.length;n++){var a=o[n];i(a)&&a.domain===r&&t.push(a)}return t},r.isI18nInfoErrorInfoDetailMetaData=function(e){return e&&void 0!==e.resource_id},r.appendErrorDetail=function(e,r){e&&(Array.isArray(e.details)||(e.details=[]),e.details.push(r))}}}))},"./src/browser/default-browser-instance.ts":function(e,r,t){"use strict";var n=this&&this.__awaiter||function(e,r,t,n){return new(t||(t=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var r;e.done?o(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(a,s)}c((n=n.apply(e,r||[])).next())}))},o=this&&this.__generator||function(e,r){var t,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=r.call(e,a)}catch(e){i=[6,e],n=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(r,"__esModule",{value:!0}),r.DefaultBrowserWindow=r.IFrameContainerLoadState=void 0;var i,a=t("../../../node_modules/events/events.js"),s=t("../../common-sdk/dist/simple-interfaces/simple-browser.js");!function(e){e.IS_LOADED="IS_LOADED",e.IS_CLOSED="IS_CLOSED"}(i=r.IFrameContainerLoadState||(r.IFrameContainerLoadState={}));var c=function(){function e(){this._loadState=i.IS_CLOSED,this._messageFunction=null,this._config={}}return e.prototype.setConfig=function(e){this._config.container=e.container,this._config.onIFrameLoad=e&&"function"==typeof e.onIFrameLoad?e.onIFrameLoad:void 0,this._config.onIFrameClose=e&&"function"==typeof e.onIFrameClose?e.onIFrameClose:void 0},e.prototype.load=function(e){var r=this,t=this._getIFrameContainerElements();this._resetIFrameContainerElements(t),t.container.style.display="block",t.iframe=this._generateIFrame(e),t.iframeBox.appendChild(t.iframe),t.close.onclick=function(){r._destroy()},this._resizeIframeBox(t),this._messageFunction=function(e){if(e&&e.data&&"responsiveLayout"===e.data.action&&e.data.data){var n=e.data.data;r._resizeIframeBox(t,n)}},window.addEventListener("message",this._messageFunction),this._afterIFrameLoad(t.iframe,(function(e){"function"==typeof r._config.onIFrameLoad&&r._config.onIFrameLoad(e)})),this._loadState=i.IS_LOADED},e.prototype.destroy=function(){this._destroy()},Object.defineProperty(e.prototype,"loadState",{get:function(){return this._loadState},enumerable:!1,configurable:!0}),e.prototype.getIFrameContentWindow=function(){var e;return(null===(e=this._getIFrameContainerElements().iframe)||void 0===e?void 0:e.contentWindow)||null},e.prototype._destroy=function(){this._messageFunction&&window.removeEventListener("message",this._messageFunction),this._messageFunction=null;var e=this._getIFrameContainerElements();e.container.style.display="none",e.close.onclick=null,e.iframe&&e.iframeBox.removeChild(e.iframe),e.container.removeChild(e.wrapArea),this._config.container||document.body.removeChild(e.container),this._iFrameContainerElements=null,"function"==typeof this._config.onIFrameClose&&this._config.onIFrameClose(),this._loadState=i.IS_CLOSED},e.prototype._getIFrameContainerElements=function(){return this._iFrameContainerElements||(this._iFrameContainerElements={container:this._getIFrameContainer(),wrapArea:this._generateIFrameWrapArea(),iframeBox:this._generateIFrameBox(),close:this._getIFrameCloseSVG()},this._iFrameContainerElements.iframeBox.appendChild(this._iFrameContainerElements.close),this._iFrameContainerElements.wrapArea.appendChild(this._iFrameContainerElements.iframeBox),this._iFrameContainerElements.container.appendChild(this._iFrameContainerElements.wrapArea)),this._iFrameContainerElements},e.prototype._getIFrameContainer=function(){var r;return this._config.container?r=this._config.container:((r=document.createElement("div")).style.cssText=this._cssObjecttoCssText({width:"100%",height:"100%",position:"fixed",left:"0",top:"0","z-index":"99",background:"rgba(0,0,0,.5)",display:"none"}),r.setAttribute("id",e._iFrameWarpElementId),document.body.appendChild(r)),r},e.prototype._generateIFrameWrapArea=function(){var e=document.createElement("div");return e.style.cssText=this._cssObjecttoCssText({height:"100%","-webkit-justify-content":"center","justify-content":"center","-webkit-align-items":"center","align-items":"center"})+";display: -webkit-box;display: -moz-box;display: -ms-flexbox;display: -webkit-flex;display: flex;",document.body.appendChild(e),e},e.prototype._generateIFrameBox=function(){var r=document.createElement("div");return r.style.cssText=this._cssObjecttoCssText({width:e._iFrameHeightSizeString,height:e._iFrameWidthSizeString,position:"relative",background:"rgb(255, 255, 255)"}),document.body.appendChild(r),r},e.prototype._generateIFrame=function(e){var r=document.createElement("iframe"),t={src:e,frameborder:"0",scrolling:"auto"};for(var n in t)r.setAttribute(n,t[n]);return r.style.cssText=this._cssObjecttoCssText({width:"100%",height:"100%"}),r},e.prototype._getIFrameCloseSVG=function(){var e=document.createElement("span");return e.style.cssText=this._cssObjecttoCssText({position:"absolute",right:"10px",top:"10px","border-radius":"3px"}),e.innerHTML='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1585816042108" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2429" width="16" height="16" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><style type="text/css"></style></defs><path d="M555.008 512l299.008-299.008c12.288-12.288 12.288-31.744 0-43.008-12.288-12.288-31.744-12.288-43.008 0L512 468.992 212.992 169.984c-12.288-12.288-31.744-12.288-43.008 0-12.288 12.288-12.288 31.744 0 43.008L468.992 512 169.984 811.008c-12.288 12.288-12.288 31.744 0 43.008 6.144 6.144 14.336 9.216 21.504 9.216s15.36-3.072 21.504-9.216L512 555.008l299.008 299.008c6.144 6.144 14.336 9.216 21.504 9.216s15.36-3.072 21.504-9.216c12.288-12.288 12.288-31.744 0-43.008L555.008 512z" p-id="2430" fill="#2c2c2c"></path></svg>',e},e.prototype._resizeIframeBox=function(r,t){window.screen.width<e._iFrameWidth||window.screen.height<e._iFrameHeight?(r.iframeBox.style.height=t&&t.height||"100%",r.iframeBox.style.width=t&&t.width||"100%"):(r.iframeBox.style.height=t&&t.height||e._iFrameHeightSizeString,r.iframeBox.style.width=t&&t.width||e._iFrameWidthSizeString)},e.prototype._afterIFrameLoad=function(e,r){e.onload=r,e.onreadystatechange=function(t){"complete"==e.readyState&&r(t)}},e.prototype._cssObjecttoCssText=function(e){var r=[];for(var t in e)r.push(t+":"+e[t]);return r.join(";")},e.prototype._resetIFrameContainerElements=function(e){},Object.defineProperty(e,"_iFrameHeightSizeString",{get:function(){return e._iFrameHeight+"px"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"_iFrameWidthSizeString",{get:function(){return e._iFrameWidth+"px"},enumerable:!1,configurable:!0}),e._iFrameWarpElementId="captcha-iframe-container",e._iFrameHeight=430,e._iFrameWidth=320,e}(),u=function(){function e(e){this._iFrameContainer=new c,this._config=e,this._eventEmitter=new a.EventEmitter}return e.prototype.loadURL=function(e){return n(this,void 0,void 0,(function(){var r=this;return o(this,(function(t){switch(t.label){case 0:return this._iFrameContainer.setConfig({container:this._config.container,onIFrameLoad:function(e){r._eventEmitter.emit(s.SimpleBrowserWindowEvent.DID_FINISH_LOAD)},onIFrameClose:function(){r._eventEmitter.emit(s.SimpleBrowserWindowEvent.CLOSED)}}),console.log("obthis._iFrameContainerject :>> ",this._iFrameContainer),[4,this._iFrameContainer.load(e)];case 1:return t.sent(),[2]}}))}))},e.prototype.getURL=function(){var e;return n(this,void 0,void 0,(function(){return o(this,(function(r){return[2,Promise.resolve((null===(e=this._iFrameContainer.getIFrameContentWindow())||void 0===e?void 0:e.location.href)||void 0)]}))}))},e.prototype.destroy=function(){return n(this,void 0,void 0,(function(){return o(this,(function(e){return[2,this._iFrameContainer.destroy()]}))}))},e.prototype.isDestroyed=function(){return n(this,void 0,void 0,(function(){return o(this,(function(e){return[2,this._iFrameContainer.loadState===i.IS_CLOSED]}))}))},e.prototype.on=function(e,r){return this._eventEmitter.on(e,r),this},e.prototype.off=function(e,r){return this._eventEmitter.off(e,r),this},e}();r.DefaultBrowserWindow=u},"./src/captcha/captcha.ts":function(e,r,t){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var o in r=arguments[t])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e},n.apply(this,arguments)},o=this&&this.__awaiter||function(e,r,t,n){return new(t||(t=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var r;e.done?o(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(a,s)}c((n=n.apply(e,r||[])).next())}))},i=this&&this.__generator||function(e,r){var t,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=r.call(e,a)}catch(e){i=[6,e],n=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(r,"__esModule",{value:!0}),r.Captcha=void 0;var a=t("../../common-sdk/dist/models/error/index.js"),s=t("../../common-sdk/dist/utilites/response-error/index.js"),c=t("../../common-sdk/dist/utilites/request/index.js"),u=t("../../common-sdk/dist/simple-interfaces/simple-browser.js"),l=t("../../common-sdk/dist/default-plugin/default-storage.js"),_=t("../../common-sdk/dist/default-plugin/default-request.js"),d=t("../../common-sdk/dist/log/index.js"),f=t("../../common-sdk/dist/models/error/index.js"),E=t("./src/types/captcha-interface.ts"),p=t("./src/utils/util.ts"),g=t("./src/browser/default-browser-instance.ts"),h=t("./src/captcha/local-captcha-token.ts"),R=t("./src/captcha/utility.ts"),I=function(){function e(e){this.browserWindow=null,this._config={createBrowserWindowBuilder:e.createBrowserWindowBuilder||this._defaultCreateBrowserWindowFunc,clientId:e.clientId,apiOrigins:e.apiOrigins,tokenSectionName:"captcha_"+e.clientId,originDeviceId:e.originDeviceId||"",acceptNewCTUri:e.acceptNewCTUri||""+window.location.href},this._requestClient=new c.RequestClient({apiOrigins:this._config.apiOrigins,requestFunction:e.baseRequest||_.defaultRequest,retry:e.retry,logLevel:e.logLevel,console:e.console}),this._localCaptchaTokenInfoManage=new h.LocalCaptchaTokenInfoManage({clientId:this._config.clientId,storage:e.storage||new l.DefaultStorage}),this._logger=new d.Logger({packageName:"@xbase/captcha",className:"Captcha",logLevel:e.logLevel,console:e.console})}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logger.logLevel},set:function(e){this._logger.logLevel=e},enumerable:!1,configurable:!0}),e.prototype.getCaptchaToken=function(e,r,t){return o(this,void 0,void 0,(function(){var n=this;return i(this,(function(a){switch(a.label){case 0:return[4,d.logDebugFunctionCallInfo("getCaptchaToken",(function(){return o(n,void 0,void 0,(function(){return i(this,(function(n){switch(n.label){case 0:return[4,this._getCaptchaTokenInfo(e,r,t)];case 1:return[2,n.sent().captchaTokenInfo.token]}}))}))}),this._logger)];case 1:return[2,a.sent()]}}))}))},e.prototype.request=function(e,r){return o(this,void 0,void 0,(function(){var t=this;return i(this,(function(a){switch(a.label){case 0:return[4,d.logDebugFunctionCallInfo("request",(function(){return o(t,void 0,void 0,(function(){var t,a,u,l,_,d,f,E,p,g,h,R,I=this;return i(this,(function(T){return"",t=e.startsWith("http")?e:""+this._config.apiOrigins[0]+e,a=new URL(t).pathname,l=(u=r||{}).method||"GET",_="string"==typeof u.captchaAction?u.captchaAction:u.method+":"+a,d=u.withCaptchaMeta||{},f=!0===u.renewCaptcha,E=0,p=0,g=void 0,h=!1,R=!1,[2,this._requestClient.request({url:e,requestOptions:r,beforeRequestOfRequestClientCallback:function(e){return o(I,void 0,void 0,(function(){var r,t;return i(this,(function(o){switch(o.label){case 0:return r=n(n({},e.requestOptions),{method:l,headers:u.headers||{},body:u.body}),u.withCaptcha||h?(R=!0,[4,this._getCaptchaTokenInfo(_,d,E<=3&&p<=3&&f,g)]):[3,2];case 1:(t=o.sent()).hadRefreshToken&&(t.refreshTokenByInitApi?E++:p++),t.captchaTokenInfo.token&&(r.headers["x-captcha-token"]=t.captchaTokenInfo.token),o.label=2;case 2:return[2,{url:e.url,requestOptions:r}]}}))}))},afterRequestOfRequestClientCallback:function(e){return o(I,void 0,void 0,(function(){var r,t;return i(this,(function(n){return r=!1,t=!0,g=void 0,h=!1,s.isResponseError(e.response)&&(this._isCaptchaResponseError(e.response)&&(h=!0),R&&(f=!0,R=!1),this._isCaptchaResponseError(e.response)&&!this._isCaptchaRejectResponseError(e.response)?(E<=3&&p<=3&&(t=!1,r=!0,f=!0),g=e.response):c.isTargetUrlUnreachable(e.url,e.response)&&(r=!0)),[2,{needRetry:r,costRetry:t,result:e.response}]}))}))}})]}))}))}),this._logger)];case 1:return[2,a.sent()]}}))}))},e.prototype._defaultCreateBrowserWindowFunc=function(){return o(this,void 0,void 0,(function(){return i(this,(function(e){return[2,new g.DefaultBrowserWindow({container:document.getElementById("shield-app")})]}))}))},e.prototype._isCaptchaResponseError=function(e){return d.logDebugSyncFunctionCallInfo("_isShieldRespError",(function(){return!(!e||e.error!==f.ErrorType.CAPTCHA_REQUIRED&&e.error!==f.ErrorType.CAPTCHA_INVALID)}),this._logger)},e.prototype._isCaptchaTokenExpired=function(e){return d.logDebugSyncFunctionCallInfo("_isCaptchaTokenExpired",(function(){if(!e||!e.expires_at)return!0;var r=new Date(e.expires_at);return!r||Date.now()>r.getTime()}),this._logger)},e.prototype._fetchShield=function(e,r,t){return o(this,void 0,void 0,(function(){var n=this;return i(this,(function(a){switch(a.label){case 0:return[4,d.logDebugFunctionCallInfo("_fetchShield",(function(){return o(n,void 0,void 0,(function(){return i(this,(function(n){return[2,this._requestClient.request({url:"/v1/shield/captcha/init",requestOptions:{method:"POST",body:{client_id:this._config.clientId,action:e,device_id:this._config.originDeviceId,captcha_token:t,meta:r}}})]}))}))}),this._logger)];case 1:return[2,a.sent()]}}))}))},e.prototype._getCaptchaTokenInfo=function(e,r,t,n){return o(this,void 0,void 0,(function(){var a=this;return i(this,(function(s){switch(s.label){case 0:return[4,d.logDebugFunctionCallInfo("_getCaptchaTokenInfo",(function(){return o(a,void 0,void 0,(function(){var o,a,s,c,u,l;return i(this,(function(i){switch(i.label){case 0:return a=!1,s=!1,c=null,(o=t)?[3,3]:[4,this._localCaptchaTokenInfoManage.getCaptchaTokenInfo()];case 1:return c=i.sent(),[4,this._isCaptchaTokenExpired(c)];case 2:(i.sent()||(null==c?void 0:c.action)!==e)&&(o=!0),i.label=3;case 3:if(o||n&&!this._isCaptchaRejectResponseError(n)&&"string"==typeof(u=this._getCaptchaReviewUrlFromResponseError(n))&&u.length>0&&(o=!0,s=!1),!o)return[3,9];i.label=4;case 4:return i.trys.push([4,7,,8]),[4,this._refreshCaptchaToken(e,r,"getcaptcha"+Date.now(),n)];case 5:return i.sent(),a=!0,[4,this._localCaptchaTokenInfoManage.getCaptchaTokenInfo()];case 6:return(c=i.sent())?[2,{captchaTokenInfo:c,hadRefreshToken:a,refreshTokenByInitApi:s}]:[2,Promise.reject({error:f.ErrorType.UNKNOWN,error_code:f.ErrorCodeType.UNKNOWN,error_description:"local captchaTokenInfo is null"})];case 7:return l=i.sent(),[2,Promise.reject(l)];case 8:return[3,10];case 9:return[2,{captchaTokenInfo:c,hadRefreshToken:a,refreshTokenByInitApi:s}];case 10:return[2]}}))}))}),this._logger)];case 1:return[2,s.sent()]}}))}))},e.prototype._getCaptchaReviewUrlFromResponseError=function(e){var r=void 0;if(this._isCaptchaResponseError(e)&&Array.isArray(e.details)&&e.details.length>0){var t=e.details[0];s.isTargetErrorDetail(t)&&t.reason!==a.ErrorInfoDetailReasonType.CAPTCHA_REJECT&&t.metadata&&"string"==typeof t.metadata.review_url&&(r=t.metadata.review_url)}return r},e.prototype._isCaptchaRejectResponseError=function(e){if(this._isCaptchaResponseError(e)&&Array.isArray(e.details)&&e.details.length>0){var r=e.details[0];if(s.isTargetErrorDetail(r)&&r.reason===a.ErrorInfoDetailReasonType.CAPTCHA_REJECT)return!0}return!1},e.prototype._refreshCaptchaToken=function(e,r,t,n){return o(this,void 0,void 0,(function(){var a=this;return i(this,(function(s){switch(s.label){case 0:return[4,d.logDebugFunctionCallInfo("_refreshCaptchaToken",(function(){return o(a,void 0,void 0,(function(){var o,a,s,c,u,l,_,d,p,g;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,14,,15]),o=void 0,n&&(o=this._getCaptchaReviewUrlFromResponseError(n)),"string"==typeof o&&o.length>0?[4,this._viewCaptchaUrl(o,t)]:[3,3];case 1:return d=i.sent(),[4,this._saveCaptchaTokenInfo(e,d.captcha_token,d.expires_in)];case 2:return i.sent(),[3,13];case 3:return s=this._fetchShield,c=[e,r],[4,this._localCaptchaTokenInfoManage.getCaptchaTokenInfo()];case 4:return[4,s.apply(this,c.concat([null===(g=i.sent())||void 0===g?void 0:g.token]))];case 5:return a=i.sent(),E.isShieldReviewType(a)?(u=a.url,l=a.captcha_token,_=a.expires_in,l&&_?[4,this._saveCaptchaTokenInfo(e,l,_)]:[3,7]):[3,10];case 6:i.sent(),i.label=7;case 7:return[4,this._viewCaptchaUrl(u,t)];case 8:return d=i.sent(),[4,this._saveCaptchaTokenInfo(e,d.captcha_token,d.expires_in)];case 9:return i.sent(),[3,13];case 10:return E.isShieldSuccType(a)?[4,this._saveCaptchaTokenInfo(e,a.captcha_token,a.expires_in)]:[3,12];case 11:return i.sent(),[3,13];case 12:return this._logger.debug("url token",a),[2,Promise.reject({error:f.ErrorType.UNKNOWN,error_code:f.ErrorCodeType.UNKNOWN,error_description:"neither url nor token exist"})];case 13:return[2];case 14:return p=i.sent(),this._logger.error("error2 :>> ",p),[2,Promise.reject(p)];case 15:return[2]}}))}))}),this._logger)];case 1:return[2,s.sent()]}}))}))},e.prototype._viewCaptchaUrl=function(e,r){return o(this,void 0,void 0,(function(){var t=this;return i(this,(function(n){switch(n.label){case 0:return[4,d.logDebugFunctionCallInfo("_viewCaptchaUrl",(function(){return o(t,void 0,void 0,(function(){var t,n,a,s=this;return i(this,(function(c){switch(c.label){case 0:return c.trys.push([0,3,,4]),this.browserWindow?[3,2]:(t=this,[4,this._config.createBrowserWindowBuilder()]);case 1:t.browserWindow=c.sent(),c.label=2;case 2:return n=this.browserWindow,[2,new Promise((function(t,a){return o(s,void 0,void 0,(function(){var s,c,l,_,d,E=this;return i(this,(function(g){return this._logger.debug(" :>> ",e),s=this._config.acceptNewCTUri,this._logger.debug("acceptNewCTUri :>> ",s),c=e+"&redirect_uri="+encodeURIComponent(s)+"&state="+r,n&&(l=void 0,_=function(){return o(E,void 0,void 0,(function(){var e,r,o;return i(this,(function(i){switch(i.label){case 0:this._logger.debug("iframe "+c),i.label=1;case 1:return i.trys.push([1,5,,6]),n?[4,n.getURL()]:[3,4];case 2:return(e=i.sent())&&0===e.indexOf(s)?(l=null,r=p.urlQuery(e),[4,n.destroy()]):[3,4];case 3:i.sent(),t({captcha_token:r.captcha_token,expires_in:r.expires_in}),i.label=4;case 4:return[3,6];case 5:return o=i.sent(),this._logger.error("error 3 iframe url ",o),[3,6];case 6:return[2]}}))}))},d=function(){n.off(u.SimpleBrowserWindowEvent.CLOSED,d),E.browserWindow=null,l?a(l):void 0===l?a({error:f.ErrorType.CANCELLED,error_code:f.ErrorCodeType.CANCELLED,error_description:"cancelled"}):E._logger.debug("_viewCaptchaUrl resultResponseError is null")},n.on(u.SimpleBrowserWindowEvent.CLOSED,d),n.on(u.SimpleBrowserWindowEvent.DID_FINISH_LOAD,_),n.loadURL(c)),[2]}))}))}))];case 3:return a=c.sent(),this._logger.error("error2 :>> ",a),[2,Promise.reject(a)];case 4:return[2]}}))}))}),this._logger)];case 1:return[2,n.sent()]}}))}))},e.prototype._saveCaptchaTokenInfo=function(e,r,t){return o(this,void 0,void 0,(function(){var n;return i(this,(function(o){switch(o.label){case 0:return n=R.buildCaptchaTokenInfo(e,r,t),[4,this._localCaptchaTokenInfoManage.saveCaptchaTokenInfo(n)];case 1:return o.sent(),[2]}}))}))},e}();r.Captcha=I},"./src/captcha/local-captcha-token.ts":function(e,r,t){"use strict";var n=this&&this.__awaiter||function(e,r,t,n){return new(t||(t=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var r;e.done?o(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(a,s)}c((n=n.apply(e,r||[])).next())}))},o=this&&this.__generator||function(e,r){var t,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=r.call(e,a)}catch(e){i=[6,e],n=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(r,"__esModule",{value:!0}),r.LocalCaptchaTokenInfoManage=void 0;var i=function(){function e(e){this._config={clientId:e.clientId,storage:e.storage}}return e.prototype.getCaptchaTokenInfo=function(){return n(this,void 0,void 0,(function(){var e,r;return o(this,(function(t){switch(t.label){case 0:return[4,this._config.storage.getItem(this._captchaTokenInfoSectionName)];case 1:e=t.sent(),r=null,t.label=2;case 2:return t.trys.push([2,3,,5]),(r=JSON.parse(e||""))&&r.expires_at&&(r.expires_at=new Date(r.expires_at)),[3,5];case 3:return t.sent(),[4,this._config.storage.removeItem(this._captchaTokenInfoSectionName)];case 4:return t.sent(),r=null,[3,5];case 5:return[2,r]}}))}))},e.prototype.saveCaptchaTokenInfo=function(e){return n(this,void 0,void 0,(function(){return o(this,(function(r){switch(r.label){case 0:return e?[4,this._config.storage.setItem(this._captchaTokenInfoSectionName,JSON.stringify(e))]:[3,2];case 1:return r.sent(),[3,4];case 2:return[4,this._config.storage.removeItem(this._captchaTokenInfoSectionName)];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))},Object.defineProperty(e.prototype,"_captchaTokenInfoSectionName",{get:function(){return""+e._preCaptchaTokenInfoSectionName+this._config.clientId},enumerable:!1,configurable:!0}),e._preCaptchaTokenInfoSectionName="captcha_",e}();r.LocalCaptchaTokenInfoManage=i},"./src/captcha/utility.ts":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.buildCaptchaTokenInfo=void 0,r.buildCaptchaTokenInfo=function(e,r,t){return{action:e,token:r,expires_at:new Date(Date.now()+1e3*(Number(t)-30))}}},"./src/index.ts":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.PACKAGE_VERSION=void 0,r.PACKAGE_VERSION="5.2.0";var n=t("./src/captcha/captcha.ts");Object.defineProperty(r,"Captcha",{enumerable:!0,get:function(){return n.Captcha}})},"./src/types/captcha-interface.ts":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isShieldSuccType=r.isShieldReviewType=void 0,r.isShieldReviewType=function(e){return void 0!==e.url},r.isShieldSuccType=function(e){return void 0!==e.captcha_token}},"./src/utils/util.ts":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.urlQuery=void 0,r.urlQuery=function(e){var r={},t=(e||location.search).substr(1);return t.length>2&&t.split("&").forEach((function(e){var t=e.split("=");r[t[0]]=decodeURIComponent(t[1])})),r}}}))},7863:(e,r)=>{!function(e,r){for(var t in r)e[t]=r[t]}(r,function(e){var r={};function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(n,o,function(r){return e[r]}.bind(null,o));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="./",t.h="cf44dca484e812d3675e",t.cn="index",t(t.s="./src/index.ts")}({"../common-sdk/dist/common/syntax/index.js":function(e,r){!function(e,r){for(var t in r)e[t]=r[t]}(r,function(e){var r={};function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(n,o,function(r){return e[r]}.bind(null,o));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="./",t.h="6e316588907199161614",t.cn="common/syntax/index",t(t.s="./src/common/syntax/index.ts")}({"./src/common/syntax/index.ts":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./src/common/syntax/models.ts");Object.defineProperty(r,"Syntax",{enumerable:!0,get:function(){return n.Syntax}})},"./src/common/syntax/models.ts":function(e,r,t){"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),r.Syntax=void 0,(n=r.Syntax||(r.Syntax={})).CLIENT_ID="client_id",n.CLIENT_SECRET="client_secret",n.RESPONSE_TYPE="response_type",n.SCOPE="scope",n.STATE="state",n.REDIRECT_URI="redirect_uri",n.ERROR="error",n.ERROR_DESCRIPTION="error_description",n.ERROR_URI="error_uri",n.GRANT_TYPE="grant_type",n.CODE="code",n.ACCESS_TOKEN="access_token",n.TOKEN_TYPE="token_type",n.EXPIRES_IN="expires_in",n.USERNAME="username",n.PASSWORD="password",n.REFRESH_TOKEN="refresh_token"}}))},"../common-sdk/dist/default-plugin/default-console.js":function(e,r){!function(e,r){for(var t in r)e[t]=r[t]}(r,function(e){var r={};function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(n,o,function(r){return e[r]}.bind(null,o));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="./",t.h="6e316588907199161614",t.cn="default-plugin/default-console",t(t.s="./src/default-plugin/default-console.ts")}({"./src/default-plugin/default-console.ts":function(e,r,t){"use strict";var n=this&&this.__spreadArrays||function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;var n=Array(e),o=0;for(r=0;r<t;r++)for(var i=arguments[r],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n};Object.defineProperty(r,"__esModule",{value:!0}),r.DefaultConsole=void 0;var o=function(){function e(){}return e.prototype.error=function(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];"function"==typeof console.error&&console.error.apply(console,n([e],r))},e.prototype.info=function(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];"function"==typeof console.info&&console.info.apply(console,n([e],r))},e.prototype.log=function(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];"function"==typeof console.log&&console.log.apply(console,n([e],r))},e.prototype.warn=function(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];"function"==typeof console.warn&&console.warn.apply(console,n([e],r))},e}();r.DefaultConsole=o}}))},"../common-sdk/dist/default-plugin/default-request.js":function(e,r){!function(e,r){for(var t in r)e[t]=r[t]}(r,function(e){var r={};function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(n,o,function(r){return e[r]}.bind(null,o));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="./",t.h="6e316588907199161614",t.cn="default-plugin/default-request",t(t.s="./src/default-plugin/default-request.ts")}({"./src/default-plugin/default-request.ts":function(e,r,t){"use strict";var n=this&&this.__awaiter||function(e,r,t,n){return new(t||(t=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var r;e.done?o(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(a,s)}c((n=n.apply(e,r||[])).next())}))},o=this&&this.__generator||function(e,r){var t,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=r.call(e,a)}catch(e){i=[6,e],n=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(r,"__esModule",{value:!0}),r.defaultRequest=void 0;var i=t("./src/models/error/index.ts");r.defaultRequest=function(e,r){return n(void 0,void 0,void 0,(function(){var t,n,a,s,c,u;return o(this,(function(o){switch(o.label){case 0:t=null,n=null,o.label=1;case 1:return o.trys.push([1,4,,5]),a=Object.assign({method:"GET",mode:"cors"},r),s=Object.assign({"content-type":"application/json"},a.headers),a.headers=s,a.body&&"string"!=typeof a.body&&(a.body=JSON.stringify(a.body)),[4,fetch(e,a)];case 2:return[4,o.sent().json()];case 3:return(c=o.sent())&&c.error?(n=c).error_uri=new URL(e).pathname:t=c,[3,5];case 4:return u=o.sent(),n={error:i.ErrorType.UNREACHABLE,error_code:i.ErrorCodeType.UNREACHABLE,error_description:u.message,error_uri:new URL(e).pathname},[3,5];case 5:if(n)throw n;return[2,t]}}))}))}},"./src/models/error/error-code.ts":function(e,r,t){"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),r.ErrorCodeType=void 0,(n=r.ErrorCodeType||(r.ErrorCodeType={}))[n.OK=0]="OK",n[n.CANCELLED=1]="CANCELLED",n[n.UNKNOWN=2]="UNKNOWN",n[n.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",n[n.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",n[n.NOT_FOUND=5]="NOT_FOUND",n[n.ALREADY_EXISTS=6]="ALREADY_EXISTS",n[n.PERMISSION_DENIED=7]="PERMISSION_DENIED",n[n.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",n[n.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",n[n.ABORTED=10]="ABORTED",n[n.OUT_OF_RANGE=11]="OUT_OF_RANGE",n[n.UNIMPLEMENTED=12]="UNIMPLEMENTED",n[n.INTERNAL=13]="INTERNAL",n[n.UNAVAILABLE=14]="UNAVAILABLE",n[n.DATA_LOSS=15]="DATA_LOSS",n[n.UNAUTHENTICATED=16]="UNAUTHENTICATED",n[n.CAPTCHA_REQUIRED=4001]="CAPTCHA_REQUIRED",n[n.CAPTCHA_INVALID=4002]="CAPTCHA_INVALID",n[n.INVALID_PASSWORD=4010]="INVALID_PASSWORD",n[n.INVALID_STATUS=4011]="INVALID_STATUS",n[n.USER_PENDING=4012]="USER_PENDING",n[n.USER_BLOCKED=4013]="USER_BLOCKED",n[n.INVALID_VERIFICATION_CODE=4014]="INVALID_VERIFICATION_CODE",n[n.TWO_FACTOR_REQUIRED=4015]="TWO_FACTOR_REQUIRED",n[n.INVALID_TWO_FACTOR=4016]="INVALID_TWO_FACTOR",n[n.INVALID_TWO_FACTOR_RECOVERY=4017]="INVALID_TWO_FACTOR_RECOVERY",n[n.UNDER_REVIEW=4018]="UNDER_REVIEW",n[n.PROVIDER_ERROR=4019]="PROVIDER_ERROR",n[n.VALIDATE_REQUIRED=4020]="VALIDATE_REQUIRED",n[n.PASSWORD_RESET_REQUIRED=4021]="PASSWORD_RESET_REQUIRED",n[n.INVALID_ACCOUNT_OR_PASSWORD=4022]="INVALID_ACCOUNT_OR_PASSWORD",n[n.EXPIRED_VERIFICATION_CODE=4024]="EXPIRED_VERIFICATION_CODE",n[n.INVALID_REQUEST=4121]="INVALID_REQUEST",n[n.UNAUTHORIZED_CLIENT=4122]="UNAUTHORIZED_CLIENT",n[n.ACCESS_DENIED=4123]="ACCESS_DENIED",n[n.UNSUPPORTED_RESPONSE_TYPE=4124]="UNSUPPORTED_RESPONSE_TYPE",n[n.INVALID_SCOPE=4125]="INVALID_SCOPE",n[n.INVALID_GRANT=4126]="INVALID_GRANT",n[n.SERVER_ERROR=5026]="SERVER_ERROR",n[n.TEMPORARILY_UNAVAILABLE=5027]="TEMPORARILY_UNAVAILABLE",n[n.authorization_pending=4050]="authorization_pending",n[n.slow_down=4051]="slow_down",n[n.expired_token=4052]="expired_token",n[n.INTERACTION_REQUIRED=4031]="INTERACTION_REQUIRED",n[n.LOGIN_REQUIRED=4032]="LOGIN_REQUIRED",n[n.ACCOUNT_SELECTION_REQUIRED=4033]="ACCOUNT_SELECTION_REQUIRED",n[n.CONSENT_REQUIRED=4034]="CONSENT_REQUIRED",n[n.INVALID_REQUEST_URI=4035]="INVALID_REQUEST_URI",n[n.INVALID_REQUEST_OBJECT=4036]="INVALID_REQUEST_OBJECT",n[n.REQUEST_NOT_SUPPORTED=4037]="REQUEST_NOT_SUPPORTED",n[n.REQUEST_URI_NOT_SUPPORTED=4038]="REQUEST_URI_NOT_SUPPORTED",n[n.REGISTRATION_NOT_SUPPORTED=4039]="REGISTRATION_NOT_SUPPORTED",n[n.ACCOUNT_FREEZE=50]="ACCOUNT_FREEZE",n[n.CANNOT_UNLOCK=38]="CANNOT_UNLOCK",n[n.USER_NOT_EXIST=4023]="USER_NOT_EXIST",n[n.UNREACHABLE=8e3]="UNREACHABLE",n[n.LOCAL=8001]="LOCAL",n[n.LOCAL_THIRD_PARTY_ERROR=8002]="LOCAL_THIRD_PARTY_ERROR",n[n.LOCAL_PROVIDER_ACCOUNT_ERROR=8003]="LOCAL_PROVIDER_ACCOUNT_ERROR"},"./src/models/error/error-details.ts":function(e,r,t){"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),r.ErrorInfoDetailReasonType=r.ErrorDetailType=void 0,(n=r.ErrorDetailType||(r.ErrorDetailType={})).ErrorInfo="type.googleapis.com/google.rpc.ErrorInfo",n.LocalizedMessage="type.googleapis.com/google.rpc.LocalizedMessage",(r.ErrorInfoDetailReasonType||(r.ErrorInfoDetailReasonType={})).CAPTCHA_REJECT="CAPTCHA_REJECT"},"./src/models/error/error.ts":function(e,r,t){"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),r.ErrorType=void 0,(n=r.ErrorType||(r.ErrorType={})).UNREACHABLE="unreachable",n.LOCAL="local",n.CANCELLED="cancelled",n.UNKNOWN="unknown",n.INVALID_ARGUMENT="invalid_argument",n.DEADLINE_EXCEEDED="deadline_exceeded",n.NOT_FOUND="not_found",n.ALREADY_EXISTS="already_exists",n.PERMISSION_DENIED="permission_denied",n.UNAUTHENTICATED="unauthenticated",n.RESOURCE_EXHAUSTED="resource_exhausted",n.FAILED_PRECONDITION="failed_precondition",n.ABORTED="aborted",n.OUT_OF_RANGE="out_of_range",n.UNIMPLEMENTED="unimplemented",n.INTERNAL="internal",n.UNAVAILABLE="unavailable",n.DATA_LOSS="data_loss",n.CAPTCHA_REQUIRED="captcha_required",n.CAPTCHA_INVALID="captcha_invalid",n.INVALID_PASSWORD="invalid_password",n.INVALID_STATUS="invalid_status",n.USER_PENDING="user_pending",n.USER_BLOCKED="user_blocked",n.INVALID_VERIFICATION_CODE="invalid_verification_code",n.TWO_FACTOR_REQUIRED="two_factor_required",n.INVALID_TWO_FACTOR="invalid_two_factor",n.INVALID_TWO_FACTOR_RECOVERY="invalid_two_factor_recovery",n.UNDER_REVIEW="under_review",n.PROVIDER_ERROR="provider_error",n.VALIDATE_REQUIRED="validate_required",n.PASSWORD_RESET_REQUIRED="password_reset_required",n.INVALID_ACCOUNT_OR_PASSWORD="invalid_account_or_password",n.EXPIRED_VERIFICATION_CODE="expired_verification_code",n.INVALID_REQUEST="invalid_request",n.UNAUTHORIZED_CLIENT="unauthorized_client",n.ACCESS_DENIED="access_denied",n.UNSUPPORTED_RESPONSE_TYPE="unsupported_response_type",n.INVALID_SCOPE="invalid_scope",n.INVALID_GRANT="invalid_grant",n.SERVER_ERROR="server_error",n.TEMPORARILY_UNAVAILABLE="temporarily_unavailable",n.AUTHORIZATION_PENDING="authorization_pending",n.SLOW_DOWN="slow_down",n.EXPIRED_TOKEN="expired_token",n.INTERACTION_REQUIRED="interaction_required",n.LOGIN_REQUIRED="login_required",n.ACCOUNT_SELECTION_REQUIRED="account_selection_required",n.CONSENT_REQUIRED="consent_required",n.INVALID_REQUEST_URI="invalid_request_uri",n.INVALID_REQUEST_OBJECT="invalid_request_object",n.REQUEST_NOT_SUPPORTED="request_not_supported",n.REQUEST_URI_NOT_SUPPORTED="request_uri_not_supported",n.REGISTRATION_NOT_SUPPORTED="registration_not_supported",n.ACCOUNT_FREEZE="account_freeze",n.CANNOT_UNLOCK="cannot_unlock",n.USER_NOT_EXIST="user_not_exist"},"./src/models/error/index.ts":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./src/models/error/error.ts");Object.defineProperty(r,"ErrorType",{enumerable:!0,get:function(){return n.ErrorType}});var o=t("./src/models/error/error-code.ts");Object.defineProperty(r,"ErrorCodeType",{enumerable:!0,get:function(){return o.ErrorCodeType}});var i=t("./src/models/error/error-details.ts");Object.defineProperty(r,"ErrorDetailType",{enumerable:!0,get:function(){return i.ErrorDetailType}}),Object.defineProperty(r,"ErrorInfoDetailReasonType",{enumerable:!0,get:function(){return i.ErrorInfoDetailReasonType}})}}))},"../common-sdk/dist/default-plugin/default-storage.js":function(e,r){!function(e,r){for(var t in r)e[t]=r[t]}(r,function(e){var r={};function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(n,o,function(r){return e[r]}.bind(null,o));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="./",t.h="6e316588907199161614",t.cn="default-plugin/default-storage",t(t.s="./src/default-plugin/default-storage.ts")}({"./src/default-plugin/default-storage.ts":function(e,r,t){"use strict";var n=this&&this.__awaiter||function(e,r,t,n){return new(t||(t=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var r;e.done?o(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(a,s)}c((n=n.apply(e,r||[])).next())}))},o=this&&this.__generator||function(e,r){var t,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=r.call(e,a)}catch(e){i=[6,e],n=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(r,"__esModule",{value:!0}),r.DefaultStorage=void 0;var i=function(){function e(){}return e.prototype.getLength=function(){return n(this,void 0,void 0,(function(){return o(this,(function(e){return[2,window.localStorage.length]}))}))},e.prototype.getItem=function(e){return n(this,void 0,void 0,(function(){return o(this,(function(r){return[2,window.localStorage.getItem(e)]}))}))},e.prototype.key=function(e){return n(this,void 0,void 0,(function(){return o(this,(function(r){return[2,window.localStorage.key(e)]}))}))},e.prototype.removeItem=function(e){return n(this,void 0,void 0,(function(){return o(this,(function(r){return window.localStorage.removeItem(e),[2]}))}))},e.prototype.setItem=function(e,r){return n(this,void 0,void 0,(function(){return o(this,(function(t){return window.localStorage.setItem(e,r),[2]}))}))},e}();r.DefaultStorage=i}}))},"../common-sdk/dist/lock/index.js":function(e,r,t){!function(e,r){for(var t in r)e[t]=r[t]}(r,function(e){var r={};function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(n,o,function(r){return e[r]}.bind(null,o));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="./",t.h="6e316588907199161614",t.cn="lock/index",t(t.s="./src/lock/index.ts")}({"../../node_modules/events/events.js":function(e,r,t){"use strict";var n,o="object"==typeof Reflect?Reflect:null,i=o&&"function"==typeof o.apply?o.apply:function(e,r,t){return Function.prototype.apply.call(e,r,t)};n=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,r){return new Promise((function(t,n){function o(t){e.removeListener(r,i),n(t)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",o),t([].slice.call(arguments))}h(e,r,i,{once:!0}),"error"!==r&&function(e,r,t){"function"==typeof e.on&&h(e,"error",r,{once:!0})}(e,o)}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var c=10;function u(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function _(e,r,t,n){var o,i,a,s;if(u(t),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",r,t.listener?t.listener:t),i=e._events),a=i[r]),void 0===a)a=i[r]=t,++e._eventsCount;else if("function"==typeof a?a=i[r]=n?[t,a]:[a,t]:n?a.unshift(t):a.push(t),(o=l(e))>0&&a.length>o&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(r)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=r,c.count=a.length,s=c,console&&console.warn&&console.warn(s)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,r,t){var n={fired:!1,wrapFn:void 0,target:e,type:r,listener:t},o=d.bind(n);return o.listener=t,n.wrapFn=o,o}function E(e,r,t){var n=e._events;if(void 0===n)return[];var o=n[r];return void 0===o?[]:"function"==typeof o?t?[o.listener||o]:[o]:t?function(e){for(var r=new Array(e.length),t=0;t<r.length;++t)r[t]=e[t].listener||e[t];return r}(o):g(o,o.length)}function p(e){var r=this._events;if(void 0!==r){var t=r[e];if("function"==typeof t)return 1;if(void 0!==t)return t.length}return 0}function g(e,r){for(var t=new Array(r),n=0;n<r;++n)t[n]=e[n];return t}function h(e,r,t,n){if("function"==typeof e.on)n.once?e.once(r,t):e.on(r,t);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(r,(function o(i){n.once&&e.removeEventListener(r,o),t(i)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(e){for(var r=[],t=1;t<arguments.length;t++)r.push(arguments[t]);var n="error"===e,o=this._events;if(void 0!==o)n=n&&void 0===o.error;else if(!n)return!1;if(n){var a;if(r.length>0&&(a=r[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var c=o[e];if(void 0===c)return!1;if("function"==typeof c)i(c,this,r);else{var u=c.length,l=g(c,u);for(t=0;t<u;++t)i(l[t],this,r)}return!0},s.prototype.addListener=function(e,r){return _(this,e,r,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,r){return _(this,e,r,!0)},s.prototype.once=function(e,r){return u(r),this.on(e,f(this,e,r)),this},s.prototype.prependOnceListener=function(e,r){return u(r),this.prependListener(e,f(this,e,r)),this},s.prototype.removeListener=function(e,r){var t,n,o,i,a;if(u(r),void 0===(n=this._events))return this;if(void 0===(t=n[e]))return this;if(t===r||t.listener===r)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,t.listener||r));else if("function"!=typeof t){for(o=-1,i=t.length-1;i>=0;i--)if(t[i]===r||t[i].listener===r){a=t[i].listener,o=i;break}if(o<0)return this;0===o?t.shift():function(e,r){for(;r+1<e.length;r++)e[r]=e[r+1];e.pop()}(t,o),1===t.length&&(n[e]=t[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||r)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var r,t,n;if(void 0===(t=this._events))return this;if(void 0===t.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==t[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete t[e]),this;if(0===arguments.length){var o,i=Object.keys(t);for(n=0;n<i.length;++n)"removeListener"!==(o=i[n])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(r=t[e]))this.removeListener(e,r);else if(void 0!==r)for(n=r.length-1;n>=0;n--)this.removeListener(e,r[n]);return this},s.prototype.listeners=function(e){return E(this,e,!0)},s.prototype.rawListeners=function(e){return E(this,e,!1)},s.listenerCount=function(e,r){return"function"==typeof e.listenerCount?e.listenerCount(r):p.call(e,r)},s.prototype.listenerCount=p,s.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},"./src/default-plugin/default-console.ts":function(e,r,t){"use strict";var n=this&&this.__spreadArrays||function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;var n=Array(e),o=0;for(r=0;r<t;r++)for(var i=arguments[r],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n};Object.defineProperty(r,"__esModule",{value:!0}),r.DefaultConsole=void 0;var o=function(){function e(){}return e.prototype.error=function(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];"function"==typeof console.error&&console.error.apply(console,n([e],r))},e.prototype.info=function(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];"function"==typeof console.info&&console.info.apply(console,n([e],r))},e.prototype.log=function(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];"function"==typeof console.log&&console.log.apply(console,n([e],r))},e.prototype.warn=function(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];"function"==typeof console.warn&&console.warn.apply(console,n([e],r))},e}();r.DefaultConsole=o},"./src/lock/index.ts":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./src/lock/lock.ts");Object.defineProperty(r,"Lock",{enumerable:!0,get:function(){return n.Lock}})},"./src/lock/lock.ts":function(e,r,t){"use strict";var n=this&&this.__awaiter||function(e,r,t,n){return new(t||(t=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var r;e.done?o(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(a,s)}c((n=n.apply(e,r||[])).next())}))},o=this&&this.__generator||function(e,r){var t,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=r.call(e,a)}catch(e){i=[6,e],n=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(r,"__esModule",{value:!0}),r.Lock=void 0;var i=t("../../node_modules/events/events.js"),a=t("./src/log/index.ts"),s=t("./src/models/error/index.ts"),c=t("./src/utilites/response-error/index.ts");function u(e){return"[lockSession:("+(null==e?void 0:e.time)+")]"}function l(e){return"[lockOptions:("+e.action+"|"+e.timeout+"|"+u(e.session)+")]"}function _(e){return"[safeLockOptions:("+e.action+"|"+e.timeout+"|"+u(e.session)+")]"}var d=function(){function e(r){this._sourceInfo=null,this._eventEmitter=new i.EventEmitter,this._logger=new a.Logger({packageName:"@xbase/common",className:"Lock",logLevel:r.logLevel,console:r.console}),this._config={lockType:r.lockType,name:r.name,timeout:this._formatTimeout(r.timeout,e._defaultTimeout)},this._eventEmitter.setMaxListeners(0)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logger.logLevel},set:function(e){this._logger.logLevel=e},enumerable:!1,configurable:!0}),e.prototype.lock=function(r){return n(this,void 0,void 0,(function(){var t=this;return o(this,(function(i){switch(i.label){case 0:return[4,a.logDebugFunctionCallInfo("lock",(function(){return n(t,void 0,void 0,(function(){var t=this;return o(this,(function(i){return[2,new Promise((function(i,a){return n(t,void 0,void 0,(function(){var t,n,u,_,d=this;return o(this,(function(o){this._logger.trace("lock action is "+l(r)),t=void 0,n=function(){t&&clearTimeout(t)};try{u=this._formatTimeout(r.timeout,this._config.timeout),_=function(){try{var t=d._acquireSource(r);t&&(n(),d._eventEmitter.off(e._eventKey,_),d._logger.trace("lock action "+l(r)+" lock success"),i(t.session))}catch(e){n(),d._logger.trace("lock action "+l(r)+" lock failed(2)"),a(c.toResponseError(e))}},this._eventEmitter.on(e._eventKey,_),this._fireAcquireSourceEvent(e._eventKey),"number"==typeof u&&(t=setTimeout((function(){d._logger.trace("lock action "+l(r)+" lock failed(1)"),a({error:s.ErrorType.LOCAL,error_code:s.ErrorCodeType.LOCAL,error_description:"lock timeout"})}),u))}catch(e){n(),this._logger.trace("lock action "+l(r)+" lock failed(0)"),a(c.toResponseError(e))}return[2]}))}))}))]}))}))}),this._logger)];case 1:return[2,i.sent()]}}))}))},e.prototype.unlock=function(r){return n(this,void 0,void 0,(function(){var t=this;return o(this,(function(i){switch(i.label){case 0:return[4,a.logDebugFunctionCallInfo("unlock",(function(){return n(t,void 0,void 0,(function(){return o(this,(function(t){return this._logger.trace("unlock action "+u(r)+" 1"),this._freeSource(r)&&(this._logger.trace("unlock action "+u(r)+" 2"),this._fireAcquireSourceEvent(e._eventKey)),this._logger.trace("unlock action "+u(r)+" 3"),[2]}))}))}),this._logger)];case 1:return[2,i.sent()]}}))}))},e.prototype.safeLock=function(e){return n(this,void 0,void 0,(function(){var r=this;return o(this,(function(t){switch(t.label){case 0:return[4,a.logDebugFunctionCallInfo("safeLock",(function(){return n(r,void 0,void 0,(function(){var r,t,n,i,a;return o(this,(function(o){switch(o.label){case 0:this._logger.trace("safeLock action "+_(e)),r=!1,t=null,o.label=1;case 1:o.trys.push([1,10,11,14]),o.label=2;case 2:if(this._logger.trace("safeLock action "+_(e)+": safeLock 1"),"function"!=typeof e.callBack)throw new Error("safeLock: callBack is not function");return this._logger.trace("safeLock action "+_(e)+": safeLock 2"),[4,this.lock(e)];case 3:return t=o.sent(),this._logger.trace("safeLock action "+_(e)+": safeLock 3"),i=e.callBack(t),this._logger.trace("safeLock action "+_(e)+": safeLock 4"),i instanceof Promise?[4,i]:[3,5];case 4:return n=o.sent(),[3,6];case 5:n=i,o.label=6;case 6:return this._logger.trace("safeLock action "+_(e)+": safeLock 5"),r=!0,[4,this.unlock(t)];case 7:o.sent(),this._logger.trace("safeLock action "+_(e)+": safeLock 6"),o.label=8;case 8:o.label=9;case 9:return[3,14];case 10:throw a=o.sent(),this._logger.trace("action "+_(e)+": safeLock 7"),c.toResponseError(a);case 11:return this._logger.trace("safeLock action "+_(e)+": safeLock 8"),r||!t?[3,13]:(this._logger.trace("safeLock action "+_(e)+": safeLock 9"),[4,this.unlock(t)]);case 12:o.sent(),this._logger.trace("safeLock action "+_(e)+": safeLock 10"),o.label=13;case 13:return this._logger.trace("safeLock action "+_(e)+": safeLock 11"),[7];case 14:return[2,n]}}))}))}),this._logger)];case 1:return[2,t.sent()]}}))}))},e.prototype._isReentrant=function(){return"reentrant"===this._config.lockType},e.prototype._acquireSource=function(e){var r=this;return a.logDebugSyncFunctionCallInfo("_acquireSource",(function(){var t,n=null;if(r._logger&&e.session&&!r._isReentrant()&&r._logger.warn("_acquireSource: non-reentrant lock shouldn't pass session",e),r._sourceInfo){if(r._isReentrant()&&(n=r._sourceInfo))if(e.session){if(n.session.time!==(null===(t=e.session)||void 0===t?void 0:t.time))throw new Error("_acquireSource: sourceInfo.session.time don't match");n.actions.push(e.action),n.referenceCount++}else n=null}else n={actions:[e.action],session:{time:(new Date).getTime()},referenceCount:1},r._sourceInfo=n;return n}),this._logger)},e.prototype._freeSource=function(e){var r=this;return a.logDebugSyncFunctionCallInfo("_freeSource",(function(){var t=!1;do{if(!e){r._logger.error("lsession is invalid");break}var n=r._sourceInfo;if(!n){r._logger.error("sourceInfo is null");break}if(n.session!==e){r._logger.error("session of lock don't match");break}n.actions.pop(),n.referenceCount--,n.referenceCount<=0&&(r._sourceInfo=null),t=!0}while(0);return t}),this._logger)},e.prototype._fireAcquireSourceEvent=function(e){var r=this;return a.logDebugSyncFunctionCallInfo("_fireAcquireSourceEvent",(function(){r._eventEmitter.emit(e)}),this._logger)},e.prototype._formatTimeout=function(e,r){return"number"!=typeof e?this._checkTimeout(r):this._checkTimeout(e)},e.prototype._checkTimeout=function(e){var r=null;if("number"!=typeof e&&void 0!==e&&(r={error:s.ErrorType.LOCAL,error_code:s.ErrorCodeType.LOCAL,error_description:"wrong options param: timeout"}),r)throw r;return e},e._defaultTimeout=void 0,e._eventKey="event-key",e}();r.Lock=d},"./src/log/index.ts":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./src/log/interfaces.ts");Object.defineProperty(r,"LogLevel",{enumerable:!0,get:function(){return n.LogLevel}});var o=t("./src/log/log-function-call-info.ts");Object.defineProperty(r,"logInfoFunctionCallInfo",{enumerable:!0,get:function(){return o.logInfoFunctionCallInfo}}),Object.defineProperty(r,"logDebugFunctionCallInfo",{enumerable:!0,get:function(){return o.logDebugFunctionCallInfo}}),Object.defineProperty(r,"logInfoSyncFunctionCallInfo",{enumerable:!0,get:function(){return o.logInfoSyncFunctionCallInfo}}),Object.defineProperty(r,"logDebugSyncFunctionCallInfo",{enumerable:!0,get:function(){return o.logDebugSyncFunctionCallInfo}});var i=t("./src/log/logger.ts");Object.defineProperty(r,"Logger",{enumerable:!0,get:function(){return i.Logger}})},"./src/log/interfaces.ts":function(e,r,t){"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),r.LogLevel=void 0,(n=r.LogLevel||(r.LogLevel={})).OFF="off",n.ERROR="error",n.WARN="warn",n.INFO="info",n.DEBUG="debug",n.TRACE="trace",n.ALL="all"},"./src/log/log-function-call-info.ts":function(e,r,t){"use strict";var n=this&&this.__awaiter||function(e,r,t,n){return new(t||(t=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var r;e.done?o(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(a,s)}c((n=n.apply(e,r||[])).next())}))},o=this&&this.__generator||function(e,r){var t,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=r.call(e,a)}catch(e){i=[6,e],n=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function i(e,r,t,i){return n(this,void 0,void 0,(function(){var n,a,s,c;return o(this,(function(o){switch(o.label){case 0:null==t||t[i](e+" in"),n=void 0,a=!1,s=void 0,o.label=1;case 1:return o.trys.push([1,3,4,5]),[4,r()];case 2:return n=o.sent(),[3,5];case 3:return c=o.sent(),a=!0,s=c,null==t||t.error(e+" error:",s),[3,5];case 4:return a?[2,Promise.reject(s)]:(null==t||t.debug(e+" out",n),[2,n]);case 5:return[2]}}))}))}function a(e,r,t,n){null==t||t[n](e+" in");var o=void 0,i=!1,a=void 0;try{o=r()}catch(r){i=!0,a=r,null==t||t.error(e+" error:",a)}finally{if(i)throw a;return null==t||t[n](e+" out",o),o}}Object.defineProperty(r,"__esModule",{value:!0}),r.logDebugSyncFunctionCallInfo=r.logInfoSyncFunctionCallInfo=r.logDebugFunctionCallInfo=r.logInfoFunctionCallInfo=void 0,r.logInfoFunctionCallInfo=function(e,r,t){return n(this,void 0,void 0,(function(){return o(this,(function(n){return[2,i(e,r,t||null,"info")]}))}))},r.logDebugFunctionCallInfo=function(e,r,t){return n(this,void 0,void 0,(function(){return o(this,(function(n){return[2,i(e,r,t||null,"debug")]}))}))},r.logInfoSyncFunctionCallInfo=function(e,r,t){return a(e,r,t||null,"info")},r.logDebugSyncFunctionCallInfo=function(e,r,t){return a(e,r,t||null,"debug")}},"./src/log/logger.ts":function(e,r,t){"use strict";var n=this&&this.__spreadArrays||function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;var n=Array(e),o=0;for(r=0;r<t;r++)for(var i=arguments[r],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n};Object.defineProperty(r,"__esModule",{value:!0}),r.Logger=void 0;var o=t("./src/default-plugin/default-console.ts"),i=t("./src/log/interfaces.ts");function a(e){switch(e){case i.LogLevel.OFF:return 6;case i.LogLevel.ERROR:return 5;case i.LogLevel.WARN:return 4;case i.LogLevel.INFO:return 3;case i.LogLevel.DEBUG:return 2;case i.LogLevel.TRACE:return 1;case i.LogLevel.ALL:default:return 0}}var s=function(){function e(e){var r=e.logLevel||i.LogLevel.OFF;this._config={packageName:e.packageName,logLevel:r,logLevelNumber:a(r),className:e.className,console:e.console||new o.DefaultConsole}}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._config.logLevel},set:function(e){this._config.logLevel=e,this._config.logLevelNumber=a(e)},enumerable:!1,configurable:!0}),e.prototype.error=function(e){for(var r,t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];this._config.console&&this._canLog(i.LogLevel.ERROR)&&(r=this._config.console).error.apply(r,n([""+this._getPreLog(i.LogLevel.ERROR),e],t))},e.prototype.warn=function(e){for(var r,t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];this._config.console&&this._canLog(i.LogLevel.WARN)&&(r=this._config.console).warn.apply(r,n([""+this._getPreLog(i.LogLevel.WARN),e],t))},e.prototype.info=function(e){for(var r,t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];this._config.console&&this._canLog(i.LogLevel.INFO)&&(r=this._config.console).info.apply(r,n([""+this._getPreLog(i.LogLevel.INFO),e],t))},e.prototype.debug=function(e){for(var r,t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];this._config.console&&this._canLog(i.LogLevel.DEBUG)&&(r=this._config.console).log.apply(r,n([""+this._getPreLog(i.LogLevel.DEBUG),e],t))},e.prototype.trace=function(e){for(var r,t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];this._config.console&&this._canLog(i.LogLevel.TRACE)&&(r=this._config.console).log.apply(r,n([""+this._getPreLog(i.LogLevel.TRACE),e],t))},e.prototype._getPreLog=function(e){return"["+this._date2DateString(new Date)+"]["+e+"]["+this._config.packageName+"]["+(this._config.className?this._config.className:"")+"]"},e.prototype._paddingZero=function(e,r){return r>e.length?new Array(r-e.length+1).join("0")+e:e},e.prototype._date2DateString=function(e){var r=e.getFullYear().toString(),t=(e.getMonth()+1).toString(),n=e.getDate().toString(),o=e.getHours().toString(),i=e.getMinutes().toString(),a=e.getSeconds().toString(),s=e.getMilliseconds().toString();return r+"-"+this._paddingZero(t,2)+"-"+this._paddingZero(n,2)+" "+this._paddingZero(o,2)+":"+this._paddingZero(i,2)+":"+this._paddingZero(a,2)+":"+this._paddingZero(s,3)},e.prototype._canLog=function(e){return this._config.logLevelNumber<=a(e)},e}();r.Logger=s},"./src/models/error/error-code.ts":function(e,r,t){"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),r.ErrorCodeType=void 0,(n=r.ErrorCodeType||(r.ErrorCodeType={}))[n.OK=0]="OK",n[n.CANCELLED=1]="CANCELLED",n[n.UNKNOWN=2]="UNKNOWN",n[n.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",n[n.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",n[n.NOT_FOUND=5]="NOT_FOUND",n[n.ALREADY_EXISTS=6]="ALREADY_EXISTS",n[n.PERMISSION_DENIED=7]="PERMISSION_DENIED",n[n.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",n[n.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",n[n.ABORTED=10]="ABORTED",n[n.OUT_OF_RANGE=11]="OUT_OF_RANGE",n[n.UNIMPLEMENTED=12]="UNIMPLEMENTED",n[n.INTERNAL=13]="INTERNAL",n[n.UNAVAILABLE=14]="UNAVAILABLE",n[n.DATA_LOSS=15]="DATA_LOSS",n[n.UNAUTHENTICATED=16]="UNAUTHENTICATED",n[n.CAPTCHA_REQUIRED=4001]="CAPTCHA_REQUIRED",n[n.CAPTCHA_INVALID=4002]="CAPTCHA_INVALID",n[n.INVALID_PASSWORD=4010]="INVALID_PASSWORD",n[n.INVALID_STATUS=4011]="INVALID_STATUS",n[n.USER_PENDING=4012]="USER_PENDING",n[n.USER_BLOCKED=4013]="USER_BLOCKED",n[n.INVALID_VERIFICATION_CODE=4014]="INVALID_VERIFICATION_CODE",n[n.TWO_FACTOR_REQUIRED=4015]="TWO_FACTOR_REQUIRED",n[n.INVALID_TWO_FACTOR=4016]="INVALID_TWO_FACTOR",n[n.INVALID_TWO_FACTOR_RECOVERY=4017]="INVALID_TWO_FACTOR_RECOVERY",n[n.UNDER_REVIEW=4018]="UNDER_REVIEW",n[n.PROVIDER_ERROR=4019]="PROVIDER_ERROR",n[n.VALIDATE_REQUIRED=4020]="VALIDATE_REQUIRED",n[n.PASSWORD_RESET_REQUIRED=4021]="PASSWORD_RESET_REQUIRED",n[n.INVALID_ACCOUNT_OR_PASSWORD=4022]="INVALID_ACCOUNT_OR_PASSWORD",n[n.EXPIRED_VERIFICATION_CODE=4024]="EXPIRED_VERIFICATION_CODE",n[n.INVALID_REQUEST=4121]="INVALID_REQUEST",n[n.UNAUTHORIZED_CLIENT=4122]="UNAUTHORIZED_CLIENT",n[n.ACCESS_DENIED=4123]="ACCESS_DENIED",n[n.UNSUPPORTED_RESPONSE_TYPE=4124]="UNSUPPORTED_RESPONSE_TYPE",n[n.INVALID_SCOPE=4125]="INVALID_SCOPE",n[n.INVALID_GRANT=4126]="INVALID_GRANT",n[n.SERVER_ERROR=5026]="SERVER_ERROR",n[n.TEMPORARILY_UNAVAILABLE=5027]="TEMPORARILY_UNAVAILABLE",n[n.authorization_pending=4050]="authorization_pending",n[n.slow_down=4051]="slow_down",n[n.expired_token=4052]="expired_token",n[n.INTERACTION_REQUIRED=4031]="INTERACTION_REQUIRED",n[n.LOGIN_REQUIRED=4032]="LOGIN_REQUIRED",n[n.ACCOUNT_SELECTION_REQUIRED=4033]="ACCOUNT_SELECTION_REQUIRED",n[n.CONSENT_REQUIRED=4034]="CONSENT_REQUIRED",n[n.INVALID_REQUEST_URI=4035]="INVALID_REQUEST_URI",n[n.INVALID_REQUEST_OBJECT=4036]="INVALID_REQUEST_OBJECT",n[n.REQUEST_NOT_SUPPORTED=4037]="REQUEST_NOT_SUPPORTED",n[n.REQUEST_URI_NOT_SUPPORTED=4038]="REQUEST_URI_NOT_SUPPORTED",n[n.REGISTRATION_NOT_SUPPORTED=4039]="REGISTRATION_NOT_SUPPORTED",n[n.ACCOUNT_FREEZE=50]="ACCOUNT_FREEZE",n[n.CANNOT_UNLOCK=38]="CANNOT_UNLOCK",n[n.USER_NOT_EXIST=4023]="USER_NOT_EXIST",n[n.UNREACHABLE=8e3]="UNREACHABLE",n[n.LOCAL=8001]="LOCAL",n[n.LOCAL_THIRD_PARTY_ERROR=8002]="LOCAL_THIRD_PARTY_ERROR",n[n.LOCAL_PROVIDER_ACCOUNT_ERROR=8003]="LOCAL_PROVIDER_ACCOUNT_ERROR"},"./src/models/error/error-details.ts":function(e,r,t){"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),r.ErrorInfoDetailReasonType=r.ErrorDetailType=void 0,(n=r.ErrorDetailType||(r.ErrorDetailType={})).ErrorInfo="type.googleapis.com/google.rpc.ErrorInfo",n.LocalizedMessage="type.googleapis.com/google.rpc.LocalizedMessage",(r.ErrorInfoDetailReasonType||(r.ErrorInfoDetailReasonType={})).CAPTCHA_REJECT="CAPTCHA_REJECT"},"./src/models/error/error.ts":function(e,r,t){"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),r.ErrorType=void 0,(n=r.ErrorType||(r.ErrorType={})).UNREACHABLE="unreachable",n.LOCAL="local",n.CANCELLED="cancelled",n.UNKNOWN="unknown",n.INVALID_ARGUMENT="invalid_argument",n.DEADLINE_EXCEEDED="deadline_exceeded",n.NOT_FOUND="not_found",n.ALREADY_EXISTS="already_exists",n.PERMISSION_DENIED="permission_denied",n.UNAUTHENTICATED="unauthenticated",n.RESOURCE_EXHAUSTED="resource_exhausted",n.FAILED_PRECONDITION="failed_precondition",n.ABORTED="aborted",n.OUT_OF_RANGE="out_of_range",n.UNIMPLEMENTED="unimplemented",n.INTERNAL="internal",n.UNAVAILABLE="unavailable",n.DATA_LOSS="data_loss",n.CAPTCHA_REQUIRED="captcha_required",n.CAPTCHA_INVALID="captcha_invalid",n.INVALID_PASSWORD="invalid_password",n.INVALID_STATUS="invalid_status",n.USER_PENDING="user_pending",n.USER_BLOCKED="user_blocked",n.INVALID_VERIFICATION_CODE="invalid_verification_code",n.TWO_FACTOR_REQUIRED="two_factor_required",n.INVALID_TWO_FACTOR="invalid_two_factor",n.INVALID_TWO_FACTOR_RECOVERY="invalid_two_factor_recovery",n.UNDER_REVIEW="under_review",n.PROVIDER_ERROR="provider_error",n.VALIDATE_REQUIRED="validate_required",n.PASSWORD_RESET_REQUIRED="password_reset_required",n.INVALID_ACCOUNT_OR_PASSWORD="invalid_account_or_password",n.EXPIRED_VERIFICATION_CODE="expired_verification_code",n.INVALID_REQUEST="invalid_request",n.UNAUTHORIZED_CLIENT="unauthorized_client",n.ACCESS_DENIED="access_denied",n.UNSUPPORTED_RESPONSE_TYPE="unsupported_response_type",n.INVALID_SCOPE="invalid_scope",n.INVALID_GRANT="invalid_grant",n.SERVER_ERROR="server_error",n.TEMPORARILY_UNAVAILABLE="temporarily_unavailable",n.AUTHORIZATION_PENDING="authorization_pending",n.SLOW_DOWN="slow_down",n.EXPIRED_TOKEN="expired_token",n.INTERACTION_REQUIRED="interaction_required",n.LOGIN_REQUIRED="login_required",n.ACCOUNT_SELECTION_REQUIRED="account_selection_required",n.CONSENT_REQUIRED="consent_required",n.INVALID_REQUEST_URI="invalid_request_uri",n.INVALID_REQUEST_OBJECT="invalid_request_object",n.REQUEST_NOT_SUPPORTED="request_not_supported",n.REQUEST_URI_NOT_SUPPORTED="request_uri_not_supported",n.REGISTRATION_NOT_SUPPORTED="registration_not_supported",n.ACCOUNT_FREEZE="account_freeze",n.CANNOT_UNLOCK="cannot_unlock",n.USER_NOT_EXIST="user_not_exist"},"./src/models/error/index.ts":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./src/models/error/error.ts");Object.defineProperty(r,"ErrorType",{enumerable:!0,get:function(){return n.ErrorType}});var o=t("./src/models/error/error-code.ts");Object.defineProperty(r,"ErrorCodeType",{enumerable:!0,get:function(){return o.ErrorCodeType}});var i=t("./src/models/error/error-details.ts");Object.defineProperty(r,"ErrorDetailType",{enumerable:!0,get:function(){return i.ErrorDetailType}}),Object.defineProperty(r,"ErrorInfoDetailReasonType",{enumerable:!0,get:function(){return i.ErrorInfoDetailReasonType}})},"./src/utilites/response-error/index.ts":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.appendErrorDetail=r.isI18nInfoErrorInfoDetailMetaData=r.filterResponseErrorErrorInfoDetailByDomain=r.filterResponseErrorErrorDetail=r.isTargetErrorDetail=r.toResponseError=r.isResponseErrorOrError=r.isResponseError=void 0;var n=t("./src/models/error/index.ts");function o(e){return e&&void 0!==e.error}function i(e){return e&&void 0!==e}r.isResponseError=o,r.isResponseErrorOrError=function(e){return e instanceof Error||o(e)},r.toResponseError=function(e,r){var t,o=r||{};if(e instanceof Error)t={error:o.error||n.ErrorType.LOCAL,error_code:"number"==typeof o.error_code?o.error_code:n.ErrorCodeType.LOCAL,error_description:o.error_description||e.message+"\n\n\n"+e.stack,error_uri:o.error_uri,details:o.details||[]};else{var i=e||{};t={error:o.error||i.error||n.ErrorType.LOCAL,error_code:"number"==typeof o.error_code?o.error_code:i.error_code,error_description:o.error_description||i.error_description,error_uri:o.error_uri||i.error_uri,details:o.details||i.details}}return t},r.isTargetErrorDetail=i,r.filterResponseErrorErrorDetail=function(e){var r=[];if(e&&Array.isArray(e.details))for(var t=0,n=e.details;t<n.length;t++){var o=n[t];i(o)&&r.push(o)}return r},r.filterResponseErrorErrorInfoDetailByDomain=function(e,r){var t=[];if(e&&Array.isArray(e.details))for(var n=0,o=e.details;n<o.length;n++){var a=o[n];i(a)&&a.domain===r&&t.push(a)}return t},r.isI18nInfoErrorInfoDetailMetaData=function(e){return e&&void 0!==e.resource_id},r.appendErrorDetail=function(e,r){e&&(Array.isArray(e.details)||(e.details=[]),e.details.push(r))}}}))},"../common-sdk/dist/log/index.js":function(e,r){!function(e,r){for(var t in r)e[t]=r[t]}(r,function(e){var r={};function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(n,o,function(r){return e[r]}.bind(null,o));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="./",t.h="6e316588907199161614",t.cn="log/index",t(t.s="./src/log/index.ts")}({"./src/default-plugin/default-console.ts":function(e,r,t){"use strict";var n=this&&this.__spreadArrays||function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;var n=Array(e),o=0;for(r=0;r<t;r++)for(var i=arguments[r],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n};Object.defineProperty(r,"__esModule",{value:!0}),r.DefaultConsole=void 0;var o=function(){function e(){}return e.prototype.error=function(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];"function"==typeof console.error&&console.error.apply(console,n([e],r))},e.prototype.info=function(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];"function"==typeof console.info&&console.info.apply(console,n([e],r))},e.prototype.log=function(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];"function"==typeof console.log&&console.log.apply(console,n([e],r))},e.prototype.warn=function(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];"function"==typeof console.warn&&console.warn.apply(console,n([e],r))},e}();r.DefaultConsole=o},"./src/log/index.ts":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./src/log/interfaces.ts");Object.defineProperty(r,"LogLevel",{enumerable:!0,get:function(){return n.LogLevel}});var o=t("./src/log/log-function-call-info.ts");Object.defineProperty(r,"logInfoFunctionCallInfo",{enumerable:!0,get:function(){return o.logInfoFunctionCallInfo}}),Object.defineProperty(r,"logDebugFunctionCallInfo",{enumerable:!0,get:function(){return o.logDebugFunctionCallInfo}}),Object.defineProperty(r,"logInfoSyncFunctionCallInfo",{enumerable:!0,get:function(){return o.logInfoSyncFunctionCallInfo}}),Object.defineProperty(r,"logDebugSyncFunctionCallInfo",{enumerable:!0,get:function(){return o.logDebugSyncFunctionCallInfo}});var i=t("./src/log/logger.ts");Object.defineProperty(r,"Logger",{enumerable:!0,get:function(){return i.Logger}})},"./src/log/interfaces.ts":function(e,r,t){"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),r.LogLevel=void 0,(n=r.LogLevel||(r.LogLevel={})).OFF="off",n.ERROR="error",n.WARN="warn",n.INFO="info",n.DEBUG="debug",n.TRACE="trace",n.ALL="all"},"./src/log/log-function-call-info.ts":function(e,r,t){"use strict";var n=this&&this.__awaiter||function(e,r,t,n){return new(t||(t=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var r;e.done?o(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(a,s)}c((n=n.apply(e,r||[])).next())}))},o=this&&this.__generator||function(e,r){var t,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=r.call(e,a)}catch(e){i=[6,e],n=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function i(e,r,t,i){return n(this,void 0,void 0,(function(){var n,a,s,c;return o(this,(function(o){switch(o.label){case 0:null==t||t[i](e+" in"),n=void 0,a=!1,s=void 0,o.label=1;case 1:return o.trys.push([1,3,4,5]),[4,r()];case 2:return n=o.sent(),[3,5];case 3:return c=o.sent(),a=!0,s=c,null==t||t.error(e+" error:",s),[3,5];case 4:return a?[2,Promise.reject(s)]:(null==t||t.debug(e+" out",n),[2,n]);case 5:return[2]}}))}))}function a(e,r,t,n){null==t||t[n](e+" in");var o=void 0,i=!1,a=void 0;try{o=r()}catch(r){i=!0,a=r,null==t||t.error(e+" error:",a)}finally{if(i)throw a;return null==t||t[n](e+" out",o),o}}Object.defineProperty(r,"__esModule",{value:!0}),r.logDebugSyncFunctionCallInfo=r.logInfoSyncFunctionCallInfo=r.logDebugFunctionCallInfo=r.logInfoFunctionCallInfo=void 0,r.logInfoFunctionCallInfo=function(e,r,t){return n(this,void 0,void 0,(function(){return o(this,(function(n){return[2,i(e,r,t||null,"info")]}))}))},r.logDebugFunctionCallInfo=function(e,r,t){return n(this,void 0,void 0,(function(){return o(this,(function(n){return[2,i(e,r,t||null,"debug")]}))}))},r.logInfoSyncFunctionCallInfo=function(e,r,t){return a(e,r,t||null,"info")},r.logDebugSyncFunctionCallInfo=function(e,r,t){return a(e,r,t||null,"debug")}},"./src/log/logger.ts":function(e,r,t){"use strict";var n=this&&this.__spreadArrays||function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;var n=Array(e),o=0;for(r=0;r<t;r++)for(var i=arguments[r],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n};Object.defineProperty(r,"__esModule",{value:!0}),r.Logger=void 0;var o=t("./src/default-plugin/default-console.ts"),i=t("./src/log/interfaces.ts");function a(e){switch(e){case i.LogLevel.OFF:return 6;case i.LogLevel.ERROR:return 5;case i.LogLevel.WARN:return 4;case i.LogLevel.INFO:return 3;case i.LogLevel.DEBUG:return 2;case i.LogLevel.TRACE:return 1;case i.LogLevel.ALL:default:return 0}}var s=function(){function e(e){var r=e.logLevel||i.LogLevel.OFF;this._config={packageName:e.packageName,logLevel:r,logLevelNumber:a(r),className:e.className,console:e.console||new o.DefaultConsole}}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._config.logLevel},set:function(e){this._config.logLevel=e,this._config.logLevelNumber=a(e)},enumerable:!1,configurable:!0}),e.prototype.error=function(e){for(var r,t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];this._config.console&&this._canLog(i.LogLevel.ERROR)&&(r=this._config.console).error.apply(r,n([""+this._getPreLog(i.LogLevel.ERROR),e],t))},e.prototype.warn=function(e){for(var r,t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];this._config.console&&this._canLog(i.LogLevel.WARN)&&(r=this._config.console).warn.apply(r,n([""+this._getPreLog(i.LogLevel.WARN),e],t))},e.prototype.info=function(e){for(var r,t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];this._config.console&&this._canLog(i.LogLevel.INFO)&&(r=this._config.console).info.apply(r,n([""+this._getPreLog(i.LogLevel.INFO),e],t))},e.prototype.debug=function(e){for(var r,t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];this._config.console&&this._canLog(i.LogLevel.DEBUG)&&(r=this._config.console).log.apply(r,n([""+this._getPreLog(i.LogLevel.DEBUG),e],t))},e.prototype.trace=function(e){for(var r,t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];this._config.console&&this._canLog(i.LogLevel.TRACE)&&(r=this._config.console).log.apply(r,n([""+this._getPreLog(i.LogLevel.TRACE),e],t))},e.prototype._getPreLog=function(e){return"["+this._date2DateString(new Date)+"]["+e+"]["+this._config.packageName+"]["+(this._config.className?this._config.className:"")+"]"},e.prototype._paddingZero=function(e,r){return r>e.length?new Array(r-e.length+1).join("0")+e:e},e.prototype._date2DateString=function(e){var r=e.getFullYear().toString(),t=(e.getMonth()+1).toString(),n=e.getDate().toString(),o=e.getHours().toString(),i=e.getMinutes().toString(),a=e.getSeconds().toString(),s=e.getMilliseconds().toString();return r+"-"+this._paddingZero(t,2)+"-"+this._paddingZero(n,2)+" "+this._paddingZero(o,2)+":"+this._paddingZero(i,2)+":"+this._paddingZero(a,2)+":"+this._paddingZero(s,3)},e.prototype._canLog=function(e){return this._config.logLevelNumber<=a(e)},e}();r.Logger=s}}))},"../common-sdk/dist/models/error/index.js":function(e,r){!function(e,r){for(var t in r)e[t]=r[t]}(r,function(e){var r={};function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(n,o,function(r){return e[r]}.bind(null,o));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="./",t.h="6e316588907199161614",t.cn="models/error/index",t(t.s="./src/models/error/index.ts")}({"./src/models/error/error-code.ts":function(e,r,t){"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),r.ErrorCodeType=void 0,(n=r.ErrorCodeType||(r.ErrorCodeType={}))[n.OK=0]="OK",n[n.CANCELLED=1]="CANCELLED",n[n.UNKNOWN=2]="UNKNOWN",n[n.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",n[n.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",n[n.NOT_FOUND=5]="NOT_FOUND",n[n.ALREADY_EXISTS=6]="ALREADY_EXISTS",n[n.PERMISSION_DENIED=7]="PERMISSION_DENIED",n[n.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",n[n.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",n[n.ABORTED=10]="ABORTED",n[n.OUT_OF_RANGE=11]="OUT_OF_RANGE",n[n.UNIMPLEMENTED=12]="UNIMPLEMENTED",n[n.INTERNAL=13]="INTERNAL",n[n.UNAVAILABLE=14]="UNAVAILABLE",n[n.DATA_LOSS=15]="DATA_LOSS",n[n.UNAUTHENTICATED=16]="UNAUTHENTICATED",n[n.CAPTCHA_REQUIRED=4001]="CAPTCHA_REQUIRED",n[n.CAPTCHA_INVALID=4002]="CAPTCHA_INVALID",n[n.INVALID_PASSWORD=4010]="INVALID_PASSWORD",n[n.INVALID_STATUS=4011]="INVALID_STATUS",n[n.USER_PENDING=4012]="USER_PENDING",n[n.USER_BLOCKED=4013]="USER_BLOCKED",n[n.INVALID_VERIFICATION_CODE=4014]="INVALID_VERIFICATION_CODE",n[n.TWO_FACTOR_REQUIRED=4015]="TWO_FACTOR_REQUIRED",n[n.INVALID_TWO_FACTOR=4016]="INVALID_TWO_FACTOR",n[n.INVALID_TWO_FACTOR_RECOVERY=4017]="INVALID_TWO_FACTOR_RECOVERY",n[n.UNDER_REVIEW=4018]="UNDER_REVIEW",n[n.PROVIDER_ERROR=4019]="PROVIDER_ERROR",n[n.VALIDATE_REQUIRED=4020]="VALIDATE_REQUIRED",n[n.PASSWORD_RESET_REQUIRED=4021]="PASSWORD_RESET_REQUIRED",n[n.INVALID_ACCOUNT_OR_PASSWORD=4022]="INVALID_ACCOUNT_OR_PASSWORD",n[n.EXPIRED_VERIFICATION_CODE=4024]="EXPIRED_VERIFICATION_CODE",n[n.INVALID_REQUEST=4121]="INVALID_REQUEST",n[n.UNAUTHORIZED_CLIENT=4122]="UNAUTHORIZED_CLIENT",n[n.ACCESS_DENIED=4123]="ACCESS_DENIED",n[n.UNSUPPORTED_RESPONSE_TYPE=4124]="UNSUPPORTED_RESPONSE_TYPE",n[n.INVALID_SCOPE=4125]="INVALID_SCOPE",n[n.INVALID_GRANT=4126]="INVALID_GRANT",n[n.SERVER_ERROR=5026]="SERVER_ERROR",n[n.TEMPORARILY_UNAVAILABLE=5027]="TEMPORARILY_UNAVAILABLE",n[n.authorization_pending=4050]="authorization_pending",n[n.slow_down=4051]="slow_down",n[n.expired_token=4052]="expired_token",n[n.INTERACTION_REQUIRED=4031]="INTERACTION_REQUIRED",n[n.LOGIN_REQUIRED=4032]="LOGIN_REQUIRED",n[n.ACCOUNT_SELECTION_REQUIRED=4033]="ACCOUNT_SELECTION_REQUIRED",n[n.CONSENT_REQUIRED=4034]="CONSENT_REQUIRED",n[n.INVALID_REQUEST_URI=4035]="INVALID_REQUEST_URI",n[n.INVALID_REQUEST_OBJECT=4036]="INVALID_REQUEST_OBJECT",n[n.REQUEST_NOT_SUPPORTED=4037]="REQUEST_NOT_SUPPORTED",n[n.REQUEST_URI_NOT_SUPPORTED=4038]="REQUEST_URI_NOT_SUPPORTED",n[n.REGISTRATION_NOT_SUPPORTED=4039]="REGISTRATION_NOT_SUPPORTED",n[n.ACCOUNT_FREEZE=50]="ACCOUNT_FREEZE",n[n.CANNOT_UNLOCK=38]="CANNOT_UNLOCK",n[n.USER_NOT_EXIST=4023]="USER_NOT_EXIST",n[n.UNREACHABLE=8e3]="UNREACHABLE",n[n.LOCAL=8001]="LOCAL",n[n.LOCAL_THIRD_PARTY_ERROR=8002]="LOCAL_THIRD_PARTY_ERROR",n[n.LOCAL_PROVIDER_ACCOUNT_ERROR=8003]="LOCAL_PROVIDER_ACCOUNT_ERROR"},"./src/models/error/error-details.ts":function(e,r,t){"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),r.ErrorInfoDetailReasonType=r.ErrorDetailType=void 0,(n=r.ErrorDetailType||(r.ErrorDetailType={})).ErrorInfo="type.googleapis.com/google.rpc.ErrorInfo",n.LocalizedMessage="type.googleapis.com/google.rpc.LocalizedMessage",(r.ErrorInfoDetailReasonType||(r.ErrorInfoDetailReasonType={})).CAPTCHA_REJECT="CAPTCHA_REJECT"},"./src/models/error/error.ts":function(e,r,t){"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),r.ErrorType=void 0,(n=r.ErrorType||(r.ErrorType={})).UNREACHABLE="unreachable",n.LOCAL="local",n.CANCELLED="cancelled",n.UNKNOWN="unknown",n.INVALID_ARGUMENT="invalid_argument",n.DEADLINE_EXCEEDED="deadline_exceeded",n.NOT_FOUND="not_found",n.ALREADY_EXISTS="already_exists",n.PERMISSION_DENIED="permission_denied",n.UNAUTHENTICATED="unauthenticated",n.RESOURCE_EXHAUSTED="resource_exhausted",n.FAILED_PRECONDITION="failed_precondition",n.ABORTED="aborted",n.OUT_OF_RANGE="out_of_range",n.UNIMPLEMENTED="unimplemented",n.INTERNAL="internal",n.UNAVAILABLE="unavailable",n.DATA_LOSS="data_loss",n.CAPTCHA_REQUIRED="captcha_required",n.CAPTCHA_INVALID="captcha_invalid",n.INVALID_PASSWORD="invalid_password",n.INVALID_STATUS="invalid_status",n.USER_PENDING="user_pending",n.USER_BLOCKED="user_blocked",n.INVALID_VERIFICATION_CODE="invalid_verification_code",n.TWO_FACTOR_REQUIRED="two_factor_required",n.INVALID_TWO_FACTOR="invalid_two_factor",n.INVALID_TWO_FACTOR_RECOVERY="invalid_two_factor_recovery",n.UNDER_REVIEW="under_review",n.PROVIDER_ERROR="provider_error",n.VALIDATE_REQUIRED="validate_required",n.PASSWORD_RESET_REQUIRED="password_reset_required",n.INVALID_ACCOUNT_OR_PASSWORD="invalid_account_or_password",n.EXPIRED_VERIFICATION_CODE="expired_verification_code",n.INVALID_REQUEST="invalid_request",n.UNAUTHORIZED_CLIENT="unauthorized_client",n.ACCESS_DENIED="access_denied",n.UNSUPPORTED_RESPONSE_TYPE="unsupported_response_type",n.INVALID_SCOPE="invalid_scope",n.INVALID_GRANT="invalid_grant",n.SERVER_ERROR="server_error",n.TEMPORARILY_UNAVAILABLE="temporarily_unavailable",n.AUTHORIZATION_PENDING="authorization_pending",n.SLOW_DOWN="slow_down",n.EXPIRED_TOKEN="expired_token",n.INTERACTION_REQUIRED="interaction_required",n.LOGIN_REQUIRED="login_required",n.ACCOUNT_SELECTION_REQUIRED="account_selection_required",n.CONSENT_REQUIRED="consent_required",n.INVALID_REQUEST_URI="invalid_request_uri",n.INVALID_REQUEST_OBJECT="invalid_request_object",n.REQUEST_NOT_SUPPORTED="request_not_supported",n.REQUEST_URI_NOT_SUPPORTED="request_uri_not_supported",n.REGISTRATION_NOT_SUPPORTED="registration_not_supported",n.ACCOUNT_FREEZE="account_freeze",n.CANNOT_UNLOCK="cannot_unlock",n.USER_NOT_EXIST="user_not_exist"},"./src/models/error/index.ts":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./src/models/error/error.ts");Object.defineProperty(r,"ErrorType",{enumerable:!0,get:function(){return n.ErrorType}});var o=t("./src/models/error/error-code.ts");Object.defineProperty(r,"ErrorCodeType",{enumerable:!0,get:function(){return o.ErrorCodeType}});var i=t("./src/models/error/error-details.ts");Object.defineProperty(r,"ErrorDetailType",{enumerable:!0,get:function(){return i.ErrorDetailType}}),Object.defineProperty(r,"ErrorInfoDetailReasonType",{enumerable:!0,get:function(){return i.ErrorInfoDetailReasonType}})}}))},"../common-sdk/dist/simple-interfaces/simple-browser.js":function(e,r){!function(e,r){for(var t in r)e[t]=r[t]}(r,function(e){var r={};function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(n,o,function(r){return e[r]}.bind(null,o));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="./",t.h="6e316588907199161614",t.cn="simple-interfaces/simple-browser",t(t.s="./src/simple-interfaces/simple-browser.ts")}({"./src/simple-interfaces/simple-browser.ts":function(e,r,t){"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),r.SimpleBrowserWindowEvent=void 0,(n=r.SimpleBrowserWindowEvent||(r.SimpleBrowserWindowEvent={})).DID_NAVIGATE="did-navigate",n.DID_FINISH_LOAD="did-finish-load",n.CLOSED="closed"}}))},"../common-sdk/dist/utilites/request/index.js":function(e,r){!function(e,r){for(var t in r)e[t]=r[t]}(r,function(e){var r={};function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(n,o,function(r){return e[r]}.bind(null,o));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="./",t.h="6e316588907199161614",t.cn="utilites/request/index",t(t.s="./src/utilites/request/index.ts")}({"./src/default-plugin/default-console.ts":function(e,r,t){"use strict";var n=this&&this.__spreadArrays||function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;var n=Array(e),o=0;for(r=0;r<t;r++)for(var i=arguments[r],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n};Object.defineProperty(r,"__esModule",{value:!0}),r.DefaultConsole=void 0;var o=function(){function e(){}return e.prototype.error=function(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];"function"==typeof console.error&&console.error.apply(console,n([e],r))},e.prototype.info=function(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];"function"==typeof console.info&&console.info.apply(console,n([e],r))},e.prototype.log=function(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];"function"==typeof console.log&&console.log.apply(console,n([e],r))},e.prototype.warn=function(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];"function"==typeof console.warn&&console.warn.apply(console,n([e],r))},e}();r.DefaultConsole=o},"./src/log/index.ts":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./src/log/interfaces.ts");Object.defineProperty(r,"LogLevel",{enumerable:!0,get:function(){return n.LogLevel}});var o=t("./src/log/log-function-call-info.ts");Object.defineProperty(r,"logInfoFunctionCallInfo",{enumerable:!0,get:function(){return o.logInfoFunctionCallInfo}}),Object.defineProperty(r,"logDebugFunctionCallInfo",{enumerable:!0,get:function(){return o.logDebugFunctionCallInfo}}),Object.defineProperty(r,"logInfoSyncFunctionCallInfo",{enumerable:!0,get:function(){return o.logInfoSyncFunctionCallInfo}}),Object.defineProperty(r,"logDebugSyncFunctionCallInfo",{enumerable:!0,get:function(){return o.logDebugSyncFunctionCallInfo}});var i=t("./src/log/logger.ts");Object.defineProperty(r,"Logger",{enumerable:!0,get:function(){return i.Logger}})},"./src/log/interfaces.ts":function(e,r,t){"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),r.LogLevel=void 0,(n=r.LogLevel||(r.LogLevel={})).OFF="off",n.ERROR="error",n.WARN="warn",n.INFO="info",n.DEBUG="debug",n.TRACE="trace",n.ALL="all"},"./src/log/log-function-call-info.ts":function(e,r,t){"use strict";var n=this&&this.__awaiter||function(e,r,t,n){return new(t||(t=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var r;e.done?o(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(a,s)}c((n=n.apply(e,r||[])).next())}))},o=this&&this.__generator||function(e,r){var t,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=r.call(e,a)}catch(e){i=[6,e],n=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function i(e,r,t,i){return n(this,void 0,void 0,(function(){var n,a,s,c;return o(this,(function(o){switch(o.label){case 0:null==t||t[i](e+" in"),n=void 0,a=!1,s=void 0,o.label=1;case 1:return o.trys.push([1,3,4,5]),[4,r()];case 2:return n=o.sent(),[3,5];case 3:return c=o.sent(),a=!0,s=c,null==t||t.error(e+" error:",s),[3,5];case 4:return a?[2,Promise.reject(s)]:(null==t||t.debug(e+" out",n),[2,n]);case 5:return[2]}}))}))}function a(e,r,t,n){null==t||t[n](e+" in");var o=void 0,i=!1,a=void 0;try{o=r()}catch(r){i=!0,a=r,null==t||t.error(e+" error:",a)}finally{if(i)throw a;return null==t||t[n](e+" out",o),o}}Object.defineProperty(r,"__esModule",{value:!0}),r.logDebugSyncFunctionCallInfo=r.logInfoSyncFunctionCallInfo=r.logDebugFunctionCallInfo=r.logInfoFunctionCallInfo=void 0,r.logInfoFunctionCallInfo=function(e,r,t){return n(this,void 0,void 0,(function(){return o(this,(function(n){return[2,i(e,r,t||null,"info")]}))}))},r.logDebugFunctionCallInfo=function(e,r,t){return n(this,void 0,void 0,(function(){return o(this,(function(n){return[2,i(e,r,t||null,"debug")]}))}))},r.logInfoSyncFunctionCallInfo=function(e,r,t){return a(e,r,t||null,"info")},r.logDebugSyncFunctionCallInfo=function(e,r,t){return a(e,r,t||null,"debug")}},"./src/log/logger.ts":function(e,r,t){"use strict";var n=this&&this.__spreadArrays||function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;var n=Array(e),o=0;for(r=0;r<t;r++)for(var i=arguments[r],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n};Object.defineProperty(r,"__esModule",{value:!0}),r.Logger=void 0;var o=t("./src/default-plugin/default-console.ts"),i=t("./src/log/interfaces.ts");function a(e){switch(e){case i.LogLevel.OFF:return 6;case i.LogLevel.ERROR:return 5;case i.LogLevel.WARN:return 4;case i.LogLevel.INFO:return 3;case i.LogLevel.DEBUG:return 2;case i.LogLevel.TRACE:return 1;case i.LogLevel.ALL:default:return 0}}var s=function(){function e(e){var r=e.logLevel||i.LogLevel.OFF;this._config={packageName:e.packageName,logLevel:r,logLevelNumber:a(r),className:e.className,console:e.console||new o.DefaultConsole}}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._config.logLevel},set:function(e){this._config.logLevel=e,this._config.logLevelNumber=a(e)},enumerable:!1,configurable:!0}),e.prototype.error=function(e){for(var r,t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];this._config.console&&this._canLog(i.LogLevel.ERROR)&&(r=this._config.console).error.apply(r,n([""+this._getPreLog(i.LogLevel.ERROR),e],t))},e.prototype.warn=function(e){for(var r,t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];this._config.console&&this._canLog(i.LogLevel.WARN)&&(r=this._config.console).warn.apply(r,n([""+this._getPreLog(i.LogLevel.WARN),e],t))},e.prototype.info=function(e){for(var r,t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];this._config.console&&this._canLog(i.LogLevel.INFO)&&(r=this._config.console).info.apply(r,n([""+this._getPreLog(i.LogLevel.INFO),e],t))},e.prototype.debug=function(e){for(var r,t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];this._config.console&&this._canLog(i.LogLevel.DEBUG)&&(r=this._config.console).log.apply(r,n([""+this._getPreLog(i.LogLevel.DEBUG),e],t))},e.prototype.trace=function(e){for(var r,t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];this._config.console&&this._canLog(i.LogLevel.TRACE)&&(r=this._config.console).log.apply(r,n([""+this._getPreLog(i.LogLevel.TRACE),e],t))},e.prototype._getPreLog=function(e){return"["+this._date2DateString(new Date)+"]["+e+"]["+this._config.packageName+"]["+(this._config.className?this._config.className:"")+"]"},e.prototype._paddingZero=function(e,r){return r>e.length?new Array(r-e.length+1).join("0")+e:e},e.prototype._date2DateString=function(e){var r=e.getFullYear().toString(),t=(e.getMonth()+1).toString(),n=e.getDate().toString(),o=e.getHours().toString(),i=e.getMinutes().toString(),a=e.getSeconds().toString(),s=e.getMilliseconds().toString();return r+"-"+this._paddingZero(t,2)+"-"+this._paddingZero(n,2)+" "+this._paddingZero(o,2)+":"+this._paddingZero(i,2)+":"+this._paddingZero(a,2)+":"+this._paddingZero(s,3)},e.prototype._canLog=function(e){return this._config.logLevelNumber<=a(e)},e}();r.Logger=s},"./src/models/error/error-code.ts":function(e,r,t){"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),r.ErrorCodeType=void 0,(n=r.ErrorCodeType||(r.ErrorCodeType={}))[n.OK=0]="OK",n[n.CANCELLED=1]="CANCELLED",n[n.UNKNOWN=2]="UNKNOWN",n[n.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",n[n.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",n[n.NOT_FOUND=5]="NOT_FOUND",n[n.ALREADY_EXISTS=6]="ALREADY_EXISTS",n[n.PERMISSION_DENIED=7]="PERMISSION_DENIED",n[n.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",n[n.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",n[n.ABORTED=10]="ABORTED",n[n.OUT_OF_RANGE=11]="OUT_OF_RANGE",n[n.UNIMPLEMENTED=12]="UNIMPLEMENTED",n[n.INTERNAL=13]="INTERNAL",n[n.UNAVAILABLE=14]="UNAVAILABLE",n[n.DATA_LOSS=15]="DATA_LOSS",n[n.UNAUTHENTICATED=16]="UNAUTHENTICATED",n[n.CAPTCHA_REQUIRED=4001]="CAPTCHA_REQUIRED",n[n.CAPTCHA_INVALID=4002]="CAPTCHA_INVALID",n[n.INVALID_PASSWORD=4010]="INVALID_PASSWORD",n[n.INVALID_STATUS=4011]="INVALID_STATUS",n[n.USER_PENDING=4012]="USER_PENDING",n[n.USER_BLOCKED=4013]="USER_BLOCKED",n[n.INVALID_VERIFICATION_CODE=4014]="INVALID_VERIFICATION_CODE",n[n.TWO_FACTOR_REQUIRED=4015]="TWO_FACTOR_REQUIRED",n[n.INVALID_TWO_FACTOR=4016]="INVALID_TWO_FACTOR",n[n.INVALID_TWO_FACTOR_RECOVERY=4017]="INVALID_TWO_FACTOR_RECOVERY",n[n.UNDER_REVIEW=4018]="UNDER_REVIEW",n[n.PROVIDER_ERROR=4019]="PROVIDER_ERROR",n[n.VALIDATE_REQUIRED=4020]="VALIDATE_REQUIRED",n[n.PASSWORD_RESET_REQUIRED=4021]="PASSWORD_RESET_REQUIRED",n[n.INVALID_ACCOUNT_OR_PASSWORD=4022]="INVALID_ACCOUNT_OR_PASSWORD",n[n.EXPIRED_VERIFICATION_CODE=4024]="EXPIRED_VERIFICATION_CODE",n[n.INVALID_REQUEST=4121]="INVALID_REQUEST",n[n.UNAUTHORIZED_CLIENT=4122]="UNAUTHORIZED_CLIENT",n[n.ACCESS_DENIED=4123]="ACCESS_DENIED",n[n.UNSUPPORTED_RESPONSE_TYPE=4124]="UNSUPPORTED_RESPONSE_TYPE",n[n.INVALID_SCOPE=4125]="INVALID_SCOPE",n[n.INVALID_GRANT=4126]="INVALID_GRANT",n[n.SERVER_ERROR=5026]="SERVER_ERROR",n[n.TEMPORARILY_UNAVAILABLE=5027]="TEMPORARILY_UNAVAILABLE",n[n.authorization_pending=4050]="authorization_pending",n[n.slow_down=4051]="slow_down",n[n.expired_token=4052]="expired_token",n[n.INTERACTION_REQUIRED=4031]="INTERACTION_REQUIRED",n[n.LOGIN_REQUIRED=4032]="LOGIN_REQUIRED",n[n.ACCOUNT_SELECTION_REQUIRED=4033]="ACCOUNT_SELECTION_REQUIRED",n[n.CONSENT_REQUIRED=4034]="CONSENT_REQUIRED",n[n.INVALID_REQUEST_URI=4035]="INVALID_REQUEST_URI",n[n.INVALID_REQUEST_OBJECT=4036]="INVALID_REQUEST_OBJECT",n[n.REQUEST_NOT_SUPPORTED=4037]="REQUEST_NOT_SUPPORTED",n[n.REQUEST_URI_NOT_SUPPORTED=4038]="REQUEST_URI_NOT_SUPPORTED",n[n.REGISTRATION_NOT_SUPPORTED=4039]="REGISTRATION_NOT_SUPPORTED",n[n.ACCOUNT_FREEZE=50]="ACCOUNT_FREEZE",n[n.CANNOT_UNLOCK=38]="CANNOT_UNLOCK",n[n.USER_NOT_EXIST=4023]="USER_NOT_EXIST",n[n.UNREACHABLE=8e3]="UNREACHABLE",n[n.LOCAL=8001]="LOCAL",n[n.LOCAL_THIRD_PARTY_ERROR=8002]="LOCAL_THIRD_PARTY_ERROR",n[n.LOCAL_PROVIDER_ACCOUNT_ERROR=8003]="LOCAL_PROVIDER_ACCOUNT_ERROR"},"./src/models/error/error-details.ts":function(e,r,t){"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),r.ErrorInfoDetailReasonType=r.ErrorDetailType=void 0,(n=r.ErrorDetailType||(r.ErrorDetailType={})).ErrorInfo="type.googleapis.com/google.rpc.ErrorInfo",n.LocalizedMessage="type.googleapis.com/google.rpc.LocalizedMessage",(r.ErrorInfoDetailReasonType||(r.ErrorInfoDetailReasonType={})).CAPTCHA_REJECT="CAPTCHA_REJECT"},"./src/models/error/error.ts":function(e,r,t){"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),r.ErrorType=void 0,(n=r.ErrorType||(r.ErrorType={})).UNREACHABLE="unreachable",n.LOCAL="local",n.CANCELLED="cancelled",n.UNKNOWN="unknown",n.INVALID_ARGUMENT="invalid_argument",n.DEADLINE_EXCEEDED="deadline_exceeded",n.NOT_FOUND="not_found",n.ALREADY_EXISTS="already_exists",n.PERMISSION_DENIED="permission_denied",n.UNAUTHENTICATED="unauthenticated",n.RESOURCE_EXHAUSTED="resource_exhausted",n.FAILED_PRECONDITION="failed_precondition",n.ABORTED="aborted",n.OUT_OF_RANGE="out_of_range",n.UNIMPLEMENTED="unimplemented",n.INTERNAL="internal",n.UNAVAILABLE="unavailable",n.DATA_LOSS="data_loss",n.CAPTCHA_REQUIRED="captcha_required",n.CAPTCHA_INVALID="captcha_invalid",n.INVALID_PASSWORD="invalid_password",n.INVALID_STATUS="invalid_status",n.USER_PENDING="user_pending",n.USER_BLOCKED="user_blocked",n.INVALID_VERIFICATION_CODE="invalid_verification_code",n.TWO_FACTOR_REQUIRED="two_factor_required",n.INVALID_TWO_FACTOR="invalid_two_factor",n.INVALID_TWO_FACTOR_RECOVERY="invalid_two_factor_recovery",n.UNDER_REVIEW="under_review",n.PROVIDER_ERROR="provider_error",n.VALIDATE_REQUIRED="validate_required",n.PASSWORD_RESET_REQUIRED="password_reset_required",n.INVALID_ACCOUNT_OR_PASSWORD="invalid_account_or_password",n.EXPIRED_VERIFICATION_CODE="expired_verification_code",n.INVALID_REQUEST="invalid_request",n.UNAUTHORIZED_CLIENT="unauthorized_client",n.ACCESS_DENIED="access_denied",n.UNSUPPORTED_RESPONSE_TYPE="unsupported_response_type",n.INVALID_SCOPE="invalid_scope",n.INVALID_GRANT="invalid_grant",n.SERVER_ERROR="server_error",n.TEMPORARILY_UNAVAILABLE="temporarily_unavailable",n.AUTHORIZATION_PENDING="authorization_pending",n.SLOW_DOWN="slow_down",n.EXPIRED_TOKEN="expired_token",n.INTERACTION_REQUIRED="interaction_required",n.LOGIN_REQUIRED="login_required",n.ACCOUNT_SELECTION_REQUIRED="account_selection_required",n.CONSENT_REQUIRED="consent_required",n.INVALID_REQUEST_URI="invalid_request_uri",n.INVALID_REQUEST_OBJECT="invalid_request_object",n.REQUEST_NOT_SUPPORTED="request_not_supported",n.REQUEST_URI_NOT_SUPPORTED="request_uri_not_supported",n.REGISTRATION_NOT_SUPPORTED="registration_not_supported",n.ACCOUNT_FREEZE="account_freeze",n.CANNOT_UNLOCK="cannot_unlock",n.USER_NOT_EXIST="user_not_exist"},"./src/models/error/index.ts":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./src/models/error/error.ts");Object.defineProperty(r,"ErrorType",{enumerable:!0,get:function(){return n.ErrorType}});var o=t("./src/models/error/error-code.ts");Object.defineProperty(r,"ErrorCodeType",{enumerable:!0,get:function(){return o.ErrorCodeType}});var i=t("./src/models/error/error-details.ts");Object.defineProperty(r,"ErrorDetailType",{enumerable:!0,get:function(){return i.ErrorDetailType}}),Object.defineProperty(r,"ErrorInfoDetailReasonType",{enumerable:!0,get:function(){return i.ErrorInfoDetailReasonType}})},"./src/utilites/clone/index.ts":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.cloneDeep=void 0,r.cloneDeep=function(e){return void 0===e?void 0:null===e?null:JSON.parse(JSON.stringify(e))}},"./src/utilites/request/index.ts":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./src/utilites/request/utilites.ts");Object.defineProperty(r,"isTargetUrlUnreachable",{enumerable:!0,get:function(){return n.isTargetUrlUnreachable}}),Object.defineProperty(r,"isURIStartWithApiOrigins",{enumerable:!0,get:function(){return n.isURIStartWithApiOrigins}});var o=t("./src/utilites/request/request-client.ts");Object.defineProperty(r,"RequestClient",{enumerable:!0,get:function(){return o.RequestClient}})},"./src/utilites/request/request-client.ts":function(e,r,t){"use strict";var n=this&&this.__awaiter||function(e,r,t,n){return new(t||(t=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var r;e.done?o(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(a,s)}c((n=n.apply(e,r||[])).next())}))},o=this&&this.__generator||function(e,r){var t,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=r.call(e,a)}catch(e){i=[6,e],n=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(r,"__esModule",{value:!0}),r.RequestClient=void 0;var i=t("./src/models/error/index.ts"),a=t("./src/utilites/request/utilites.ts"),s=t("./src/utilites/response-error/index.ts"),c=t("./src/utilites/clone/index.ts"),u=t("./src/log/index.ts"),l=function(){function e(r){this._config={apiOrigins:r.apiOrigins,requestFunction:r.requestFunction,beforeRequestOfRequestClientCallback:r.beforeRequestOfRequestClientCallback,retry:this._formatRetry(r.retry,e._defaultRetry)},this._logger=new u.Logger({packageName:"@xbase/common",className:"RequestClient",logLevel:r.logLevel,console:r.console})}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logger.logLevel},set:function(e){this._logger.logLevel=e},enumerable:!1,configurable:!0}),e.prototype.request=function(e){return n(this,void 0,void 0,(function(){var r=this;return o(this,(function(t){switch(t.label){case 0:return[4,u.logDebugFunctionCallInfo("request",(function(){return n(r,void 0,void 0,(function(){var r,t,n,i,u,l,_,d,f,E,p,g,h,R,I,T,O,v,A;return o(this,(function(o){switch(o.label){case 0:r=null,t=this._formatRetry(null===(A=e.requestOptions)||void 0===A?void 0:A.retry,this._config.retry),n=t+1,i=void 0,u=0,l=!1,o.label=1;case 1:if(!(u<n))return[3,15];l=!1,i=void 0,_=this._getRequestUri(e.url,this._config.apiOrigins,u),d=e.requestOptions,f=_,E=void 0,o.label=2;case 2:return o.trys.push([2,7,8,12]),(p=this._getBeforeRequestOfRequestClientCallback(e.beforeRequestOfRequestClientCallback))?[4,p({originUrl:e.url,url:_,requestOptions:d})]:[3,4];case 3:return g=o.sent(),f=g.url,E=g.requestOptions,[3,5];case 4:E=c.cloneDeep(e.requestOptions)||void 0,o.label=5;case 5:return E&&(E.retry=0),[4,this._config.requestFunction(f,E)];case 6:return r=o.sent(),l=!0,[3,12];case 7:return h=o.sent(),i=s.toResponseError(h),[3,12];case 8:return R=!0,(I=this._getAfterRequestOfRequestClientCallback(e.afterRequestOfRequestClientCallback))?[4,I({originUrl:e.url,originRequestOptions:d,url:f,requestOptions:E,response:r||i||void 0,requestSuccess:l})]:[3,10];case 9:return!0===(T=o.sent()).costRetry||(u-=1),v=u>=t,R=T.needRetry&&!v,s.isResponseErrorOrError(T.result)?(r=null,i=T.result):(r=T.result||null,i=void 0),[3,11];case 10:l?R=!1:(O=s.isResponseError(i)&&a.isTargetUrlUnreachable(f,i),i&&O||(R=!1)),(v=u>=t)&&(R=!1),o.label=11;case 11:return R?[7]:[3,15];case 12:return[4,this._sleep(u)];case 13:o.sent(),o.label=14;case 14:return u++,[3,1];case 15:return s.isResponseErrorOrError(i)?[2,Promise.reject(i)]:[2,r]}}))}))}),this._logger)];case 1:return[2,t.sent()]}}))}))},e.prototype._formatRetry=function(e,r){return"number"!=typeof e?this._checkRetry(r):this._checkRetry(e)},e.prototype._checkRetry=function(r){var t=null;if(("number"!=typeof r||r<e._minRetry||r>e._maxRetry)&&(t={error:i.ErrorType.LOCAL,error_description:"wrong options param: retry"}),t)throw t;return r},e.prototype._sleep=function(e){return n(this,void 0,void 0,(function(){return o(this,(function(r){return[2,new Promise((function(r){setTimeout((function(){r()}),1e3*Math.pow(2,e))}))]}))}))},e.prototype._getBeforeRequestOfRequestClientCallback=function(e){return"function"==typeof e?e:"function"==typeof this._config.beforeRequestOfRequestClientCallback?this._config.beforeRequestOfRequestClientCallback:void 0},e.prototype._getAfterRequestOfRequestClientCallback=function(e){return"function"==typeof e?e:"function"==typeof this._config.afterRequestOfRequestClientCallback?this._config.afterRequestOfRequestClientCallback:void 0},e.prototype._getRequestUri=function(e,r,t){var n,o=r[t%r.length];if(e.startsWith("/")){n=new URL(""+o+e);var i=new URL(o);return i.pathname=n.pathname,i.search=n.search,i.href}return(n=new URL(e)).href},e._defaultRetry=2,e._minRetry=0,e._maxRetry=5,e}();r.RequestClient=l},"./src/utilites/request/utilites.ts":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isURIStartWithApiOrigins=r.isTargetUrlUnreachable=void 0;var n=t("./src/models/error/index.ts");r.isTargetUrlUnreachable=function(e,r){return r.error===n.ErrorType.UNREACHABLE&&r.error_uri===new URL(e).pathname},r.isURIStartWithApiOrigins=function(e,r){var t=!1;try{for(var n=new URL(e),o=0,i=r;o<i.length;o++){var a=i[o];if(n.origin===a){t=!0;break}}}catch(e){t=!1}return t}},"./src/utilites/response-error/index.ts":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.appendErrorDetail=r.isI18nInfoErrorInfoDetailMetaData=r.filterResponseErrorErrorInfoDetailByDomain=r.filterResponseErrorErrorDetail=r.isTargetErrorDetail=r.toResponseError=r.isResponseErrorOrError=r.isResponseError=void 0;var n=t("./src/models/error/index.ts");function o(e){return e&&void 0!==e.error}function i(e){return e&&void 0!==e}r.isResponseError=o,r.isResponseErrorOrError=function(e){return e instanceof Error||o(e)},r.toResponseError=function(e,r){var t,o=r||{};if(e instanceof Error)t={error:o.error||n.ErrorType.LOCAL,error_code:"number"==typeof o.error_code?o.error_code:n.ErrorCodeType.LOCAL,error_description:o.error_description||e.message+"\n\n\n"+e.stack,error_uri:o.error_uri,details:o.details||[]};else{var i=e||{};t={error:o.error||i.error||n.ErrorType.LOCAL,error_code:"number"==typeof o.error_code?o.error_code:i.error_code,error_description:o.error_description||i.error_description,error_uri:o.error_uri||i.error_uri,details:o.details||i.details}}return t},r.isTargetErrorDetail=i,r.filterResponseErrorErrorDetail=function(e){var r=[];if(e&&Array.isArray(e.details))for(var t=0,n=e.details;t<n.length;t++){var o=n[t];i(o)&&r.push(o)}return r},r.filterResponseErrorErrorInfoDetailByDomain=function(e,r){var t=[];if(e&&Array.isArray(e.details))for(var n=0,o=e.details;n<o.length;n++){var a=o[n];i(a)&&a.domain===r&&t.push(a)}return t},r.isI18nInfoErrorInfoDetailMetaData=function(e){return e&&void 0!==e.resource_id},r.appendErrorDetail=function(e,r){e&&(Array.isArray(e.details)||(e.details=[]),e.details.push(r))}}}))},"../common-sdk/dist/utilites/response-error/index.js":function(e,r){!function(e,r){for(var t in r)e[t]=r[t]}(r,function(e){var r={};function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(n,o,function(r){return e[r]}.bind(null,o));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="./",t.h="6e316588907199161614",t.cn="utilites/response-error/index",t(t.s="./src/utilites/response-error/index.ts")}({"./src/models/error/error-code.ts":function(e,r,t){"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),r.ErrorCodeType=void 0,(n=r.ErrorCodeType||(r.ErrorCodeType={}))[n.OK=0]="OK",n[n.CANCELLED=1]="CANCELLED",n[n.UNKNOWN=2]="UNKNOWN",n[n.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",n[n.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",n[n.NOT_FOUND=5]="NOT_FOUND",n[n.ALREADY_EXISTS=6]="ALREADY_EXISTS",n[n.PERMISSION_DENIED=7]="PERMISSION_DENIED",n[n.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",n[n.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",n[n.ABORTED=10]="ABORTED",n[n.OUT_OF_RANGE=11]="OUT_OF_RANGE",n[n.UNIMPLEMENTED=12]="UNIMPLEMENTED",n[n.INTERNAL=13]="INTERNAL",n[n.UNAVAILABLE=14]="UNAVAILABLE",n[n.DATA_LOSS=15]="DATA_LOSS",n[n.UNAUTHENTICATED=16]="UNAUTHENTICATED",n[n.CAPTCHA_REQUIRED=4001]="CAPTCHA_REQUIRED",n[n.CAPTCHA_INVALID=4002]="CAPTCHA_INVALID",n[n.INVALID_PASSWORD=4010]="INVALID_PASSWORD",n[n.INVALID_STATUS=4011]="INVALID_STATUS",n[n.USER_PENDING=4012]="USER_PENDING",n[n.USER_BLOCKED=4013]="USER_BLOCKED",n[n.INVALID_VERIFICATION_CODE=4014]="INVALID_VERIFICATION_CODE",n[n.TWO_FACTOR_REQUIRED=4015]="TWO_FACTOR_REQUIRED",n[n.INVALID_TWO_FACTOR=4016]="INVALID_TWO_FACTOR",n[n.INVALID_TWO_FACTOR_RECOVERY=4017]="INVALID_TWO_FACTOR_RECOVERY",n[n.UNDER_REVIEW=4018]="UNDER_REVIEW",n[n.PROVIDER_ERROR=4019]="PROVIDER_ERROR",n[n.VALIDATE_REQUIRED=4020]="VALIDATE_REQUIRED",n[n.PASSWORD_RESET_REQUIRED=4021]="PASSWORD_RESET_REQUIRED",n[n.INVALID_ACCOUNT_OR_PASSWORD=4022]="INVALID_ACCOUNT_OR_PASSWORD",n[n.EXPIRED_VERIFICATION_CODE=4024]="EXPIRED_VERIFICATION_CODE",n[n.INVALID_REQUEST=4121]="INVALID_REQUEST",n[n.UNAUTHORIZED_CLIENT=4122]="UNAUTHORIZED_CLIENT",n[n.ACCESS_DENIED=4123]="ACCESS_DENIED",n[n.UNSUPPORTED_RESPONSE_TYPE=4124]="UNSUPPORTED_RESPONSE_TYPE",n[n.INVALID_SCOPE=4125]="INVALID_SCOPE",n[n.INVALID_GRANT=4126]="INVALID_GRANT",n[n.SERVER_ERROR=5026]="SERVER_ERROR",n[n.TEMPORARILY_UNAVAILABLE=5027]="TEMPORARILY_UNAVAILABLE",n[n.authorization_pending=4050]="authorization_pending",n[n.slow_down=4051]="slow_down",n[n.expired_token=4052]="expired_token",n[n.INTERACTION_REQUIRED=4031]="INTERACTION_REQUIRED",n[n.LOGIN_REQUIRED=4032]="LOGIN_REQUIRED",n[n.ACCOUNT_SELECTION_REQUIRED=4033]="ACCOUNT_SELECTION_REQUIRED",n[n.CONSENT_REQUIRED=4034]="CONSENT_REQUIRED",n[n.INVALID_REQUEST_URI=4035]="INVALID_REQUEST_URI",n[n.INVALID_REQUEST_OBJECT=4036]="INVALID_REQUEST_OBJECT",n[n.REQUEST_NOT_SUPPORTED=4037]="REQUEST_NOT_SUPPORTED",n[n.REQUEST_URI_NOT_SUPPORTED=4038]="REQUEST_URI_NOT_SUPPORTED",n[n.REGISTRATION_NOT_SUPPORTED=4039]="REGISTRATION_NOT_SUPPORTED",n[n.ACCOUNT_FREEZE=50]="ACCOUNT_FREEZE",n[n.CANNOT_UNLOCK=38]="CANNOT_UNLOCK",n[n.USER_NOT_EXIST=4023]="USER_NOT_EXIST",n[n.UNREACHABLE=8e3]="UNREACHABLE",n[n.LOCAL=8001]="LOCAL",n[n.LOCAL_THIRD_PARTY_ERROR=8002]="LOCAL_THIRD_PARTY_ERROR",n[n.LOCAL_PROVIDER_ACCOUNT_ERROR=8003]="LOCAL_PROVIDER_ACCOUNT_ERROR"},"./src/models/error/error-details.ts":function(e,r,t){"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),r.ErrorInfoDetailReasonType=r.ErrorDetailType=void 0,(n=r.ErrorDetailType||(r.ErrorDetailType={})).ErrorInfo="type.googleapis.com/google.rpc.ErrorInfo",n.LocalizedMessage="type.googleapis.com/google.rpc.LocalizedMessage",(r.ErrorInfoDetailReasonType||(r.ErrorInfoDetailReasonType={})).CAPTCHA_REJECT="CAPTCHA_REJECT"},"./src/models/error/error.ts":function(e,r,t){"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),r.ErrorType=void 0,(n=r.ErrorType||(r.ErrorType={})).UNREACHABLE="unreachable",n.LOCAL="local",n.CANCELLED="cancelled",n.UNKNOWN="unknown",n.INVALID_ARGUMENT="invalid_argument",n.DEADLINE_EXCEEDED="deadline_exceeded",n.NOT_FOUND="not_found",n.ALREADY_EXISTS="already_exists",n.PERMISSION_DENIED="permission_denied",n.UNAUTHENTICATED="unauthenticated",n.RESOURCE_EXHAUSTED="resource_exhausted",n.FAILED_PRECONDITION="failed_precondition",n.ABORTED="aborted",n.OUT_OF_RANGE="out_of_range",n.UNIMPLEMENTED="unimplemented",n.INTERNAL="internal",n.UNAVAILABLE="unavailable",n.DATA_LOSS="data_loss",n.CAPTCHA_REQUIRED="captcha_required",n.CAPTCHA_INVALID="captcha_invalid",n.INVALID_PASSWORD="invalid_password",n.INVALID_STATUS="invalid_status",n.USER_PENDING="user_pending",n.USER_BLOCKED="user_blocked",n.INVALID_VERIFICATION_CODE="invalid_verification_code",n.TWO_FACTOR_REQUIRED="two_factor_required",n.INVALID_TWO_FACTOR="invalid_two_factor",n.INVALID_TWO_FACTOR_RECOVERY="invalid_two_factor_recovery",n.UNDER_REVIEW="under_review",n.PROVIDER_ERROR="provider_error",n.VALIDATE_REQUIRED="validate_required",n.PASSWORD_RESET_REQUIRED="password_reset_required",n.INVALID_ACCOUNT_OR_PASSWORD="invalid_account_or_password",n.EXPIRED_VERIFICATION_CODE="expired_verification_code",n.INVALID_REQUEST="invalid_request",n.UNAUTHORIZED_CLIENT="unauthorized_client",n.ACCESS_DENIED="access_denied",n.UNSUPPORTED_RESPONSE_TYPE="unsupported_response_type",n.INVALID_SCOPE="invalid_scope",n.INVALID_GRANT="invalid_grant",n.SERVER_ERROR="server_error",n.TEMPORARILY_UNAVAILABLE="temporarily_unavailable",n.AUTHORIZATION_PENDING="authorization_pending",n.SLOW_DOWN="slow_down",n.EXPIRED_TOKEN="expired_token",n.INTERACTION_REQUIRED="interaction_required",n.LOGIN_REQUIRED="login_required",n.ACCOUNT_SELECTION_REQUIRED="account_selection_required",n.CONSENT_REQUIRED="consent_required",n.INVALID_REQUEST_URI="invalid_request_uri",n.INVALID_REQUEST_OBJECT="invalid_request_object",n.REQUEST_NOT_SUPPORTED="request_not_supported",n.REQUEST_URI_NOT_SUPPORTED="request_uri_not_supported",n.REGISTRATION_NOT_SUPPORTED="registration_not_supported",n.ACCOUNT_FREEZE="account_freeze",n.CANNOT_UNLOCK="cannot_unlock",n.USER_NOT_EXIST="user_not_exist"},"./src/models/error/index.ts":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./src/models/error/error.ts");Object.defineProperty(r,"ErrorType",{enumerable:!0,get:function(){return n.ErrorType}});var o=t("./src/models/error/error-code.ts");Object.defineProperty(r,"ErrorCodeType",{enumerable:!0,get:function(){return o.ErrorCodeType}});var i=t("./src/models/error/error-details.ts");Object.defineProperty(r,"ErrorDetailType",{enumerable:!0,get:function(){return i.ErrorDetailType}}),Object.defineProperty(r,"ErrorInfoDetailReasonType",{enumerable:!0,get:function(){return i.ErrorInfoDetailReasonType}})},"./src/utilites/response-error/index.ts":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.appendErrorDetail=r.isI18nInfoErrorInfoDetailMetaData=r.filterResponseErrorErrorInfoDetailByDomain=r.filterResponseErrorErrorDetail=r.isTargetErrorDetail=r.toResponseError=r.isResponseErrorOrError=r.isResponseError=void 0;var n=t("./src/models/error/index.ts");function o(e){return e&&void 0!==e.error}function i(e){return e&&void 0!==e}r.isResponseError=o,r.isResponseErrorOrError=function(e){return e instanceof Error||o(e)},r.toResponseError=function(e,r){var t,o=r||{};if(e instanceof Error)t={error:o.error||n.ErrorType.LOCAL,error_code:"number"==typeof o.error_code?o.error_code:n.ErrorCodeType.LOCAL,error_description:o.error_description||e.message+"\n\n\n"+e.stack,error_uri:o.error_uri,details:o.details||[]};else{var i=e||{};t={error:o.error||i.error||n.ErrorType.LOCAL,error_code:"number"==typeof o.error_code?o.error_code:i.error_code,error_description:o.error_description||i.error_description,error_uri:o.error_uri||i.error_uri,details:o.details||i.details}}return t},r.isTargetErrorDetail=i,r.filterResponseErrorErrorDetail=function(e){var r=[];if(e&&Array.isArray(e.details))for(var t=0,n=e.details;t<n.length;t++){var o=n[t];i(o)&&r.push(o)}return r},r.filterResponseErrorErrorInfoDetailByDomain=function(e,r){var t=[];if(e&&Array.isArray(e.details))for(var n=0,o=e.details;n<o.length;n++){var a=o[n];i(a)&&a.domain===r&&t.push(a)}return t},r.isI18nInfoErrorInfoDetailMetaData=function(e){return e&&void 0!==e.resource_id},r.appendErrorDetail=function(e,r){e&&(Array.isArray(e.details)||(e.details=[]),e.details.push(r))}}}))},"./src/auth/apis.ts":function(e,r,t){"use strict";var n=this&&this.__awaiter||function(e,r,t,n){return new(t||(t=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var r;e.done?o(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(a,s)}c((n=n.apply(e,r||[])).next())}))},o=this&&this.__generator||function(e,r){var t,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=r.call(e,a)}catch(e){i=[6,e],n=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(r,"__esModule",{value:!0}),r.Auth=void 0;var i=t("../common-sdk/dist/default-plugin/default-storage.js"),a=t("../common-sdk/dist/log/index.js"),s=t("./src/auth/consts.ts"),c=function(){function e(e){var r=this;this._config={clientId:e.clientId,clientSecret:e.clientSecret,apiOrigins:e.apiOrigins,request:e.request||function(e,t){return r._config.credentialsClient.request(e,t)},credentialsClient:e.credentialsClient,storage:e.storage||new i.DefaultStorage,locale:e.locale},this._logger=new a.Logger({packageName:"@xbase/sdk",className:"Auth",logLevel:e.logLevel,console:e.console})}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logger.logLevel},set:function(e){this._logger.logLevel=e},enumerable:!1,configurable:!0}),e.prototype.signIn=function(e){return n(this,void 0,void 0,(function(){var r,t,n;return o(this,(function(o){switch(o.label){case 0:this._logger.debug("signIn in",e),o.label=1;case 1:return o.trys.push([1,4,,5]),t={},e.username&&(e.username.startsWith("+")?t.phone_number=e.username:e.username.includes("@")?t.email=e.username:t.username=e.username),e.client_id=this._config.clientId,[4,this._innerRequest(s.ApiUrls.AUTH_SIGN_IN_URL,{method:"POST",body:e,withCaptcha:!0,withCaptchaMeta:t})];case 2:return r=o.sent(),[4,this._config.credentialsClient.setCredentials(r)];case 3:return o.sent(),[3,5];case 4:throw n=o.sent(),this._logger.error("signIn out",n),n;case 5:return this._logger.debug("signIn out",r),[2,r]}}))}))},e.prototype.signUp=function(e){return n(this,void 0,void 0,(function(){var r,t;return o(this,(function(n){switch(n.label){case 0:this._logger.debug("signUp in",e),n.label=1;case 1:return n.trys.push([1,4,,5]),e.client_id=this._config.clientId,"string"==typeof this._config.clientSecret&&(e.client_secret=this._config.clientSecret),[4,this._innerRequest(s.ApiUrls.AUTH_SIGN_UP_URL,{method:"POST",body:e})];case 2:return r=n.sent(),[4,this._config.credentialsClient.setCredentials(r)];case 3:return n.sent(),[3,5];case 4:throw t=n.sent(),this._logger.error("signUp out",t),t;case 5:return this._logger.debug("signUp out",r),[2,r]}}))}))},e.prototype.signInWithToken=function(e){return n(this,void 0,void 0,(function(){var r,t;return o(this,(function(n){switch(n.label){case 0:this._logger.debug("signInWithToken in",e),e.client_id=this._config.clientId,"string"==typeof this._config.clientSecret&&(e.client_secret=this._config.clientSecret),n.label=1;case 1:return n.trys.push([1,4,,5]),[4,this._innerRequest(s.ApiUrls.AUTH_SIGN_IN_TOKEN_URL,{method:"POST",body:e})];case 2:return r=n.sent(),[4,this._config.credentialsClient.setCredentials(r)];case 3:return n.sent(),[3,5];case 4:throw t=n.sent(),this._logger.error("signInWithToken out",t),t;case 5:return this._logger.debug("signInWithToken out",r),[2,r]}}))}))},e.prototype.signOut=function(e){return n(this,void 0,void 0,(function(){var r,t;return o(this,(function(n){switch(n.label){case 0:this._logger.debug("signOut in"),n.label=1;case 1:return n.trys.push([1,4,5,8]),[4,this._config.credentialsClient.getCredentials()];case 2:return r=n.sent(),t={token:"refresh_token"===e?null==r?void 0:r.refresh_token:null==r?void 0:r.access_token,token_type_hint:e},[4,this._innerRequest(s.ApiUrls.AUTH_REVOKE_URL,{method:"POST",body:t})];case 3:case 4:return n.sent(),[3,8];case 5:return"access_token"===e?[3,7]:[4,this._config.credentialsClient.setCredentials()];case 6:n.sent(),n.label=7;case 7:return[7];case 8:return this._logger.debug("signOut out"),[2]}}))}))},e.prototype.getVerification=function(e){return n(this,void 0,void 0,(function(){var r,t,n;return o(this,(function(o){switch(o.label){case 0:this._logger.debug("getVerification in",e),o.label=1;case 1:return o.trys.push([1,3,,4]),t={},e.phone_number?t.phone_number=e.phone_number:e.email&&(t.email=e.email),e.client_id=this._config.clientId,[4,this._innerRequest(s.ApiUrls.VERIFICATION_URL,{method:"POST",body:e,withCredentials:"CUR_USER"===e.target,withCaptcha:!0,withCaptchaMeta:t})];case 2:return r=o.sent(),[3,4];case 3:throw n=o.sent(),this._logger.error("getVerification out",n),n;case 4:return this._logger.debug("getVerification out",r),[2,r]}}))}))},e.prototype.verify=function(e){return n(this,void 0,void 0,(function(){var r,t;return o(this,(function(n){switch(n.label){case 0:this._logger.debug("verify in",e),n.label=1;case 1:return n.trys.push([1,3,,4]),e.client_id=this._config.clientId,[4,this._innerRequest(s.ApiUrls.VERIFY_URL,{method:"POST",body:e})];case 2:return r=n.sent(),[3,4];case 3:throw t=n.sent(),this._logger.error("verify out",t),t;case 4:return this._logger.debug("verify out",r),[2,r]}}))}))},e.prototype.genProviderRedirectUri=function(e){return n(this,void 0,void 0,(function(){var r,t,n,i;return o(this,(function(o){switch(o.label){case 0:this._logger.debug("genProviderRedirectUri in",e),o.label=1;case 1:return o.trys.push([1,3,,4]),t=s.ApiUrls.PROVIDER_URI_URL+"?client_id="+this._config.clientId+"&provider_id="+e.provider_id+"&redirect_uri="+encodeURIComponent(e.provider_redirect_uri)+"&state="+e.state,(n=e.other_params)&&"string"==typeof n.sign_out_uri&&n.sign_out_uri.length>0&&(t+="&other_params[sign_out_uri]="+n.sign_out_uri),[4,this._innerRequest(t,{method:"GET"})];case 2:return r=o.sent(),[3,4];case 3:throw i=o.sent(),this._logger.error("genProviderRedirectUri out",i),i;case 4:return this._logger.debug("genProviderRedirectUri out",r),[2,r]}}))}))},e.prototype.genDeviceCode=function(e){return n(this,void 0,void 0,(function(){var r,t;return o(this,(function(n){switch(n.label){case 0:this._logger.debug("genDeviceCode in",e),n.label=1;case 1:return n.trys.push([1,3,,4]),e.client_id=this._config.clientId,[4,this._innerRequest(s.ApiUrls.AUTH_DEVICE_CODE,{method:"POST",body:e})];case 2:return r=n.sent(),[3,4];case 3:throw t=n.sent(),this._logger.error("genDeviceCode out",t),t;case 4:return this._logger.debug("genDeviceCode out",r),[2,r]}}))}))},e.prototype.deviceAuthorize=function(e,r){return n(this,void 0,void 0,(function(){var t,n;return o(this,(function(o){switch(o.label){case 0:this._logger.debug("deviceAuthorize in",e),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this._innerRequest(s.ApiUrls.USER_DEVICE_AUTHORIZE,{method:"POST",body:e,withCredentials:r})];case 2:return t=o.sent(),[3,4];case 3:throw n=o.sent(),this._logger.error("deviceAuthorize out",n),n;case 4:return this._logger.debug("deviceAuthorize out"),[2,t]}}))}))},e.prototype.grantProviderToken=function(e){return n(this,void 0,void 0,(function(){var r,t;return o(this,(function(n){switch(n.label){case 0:this._logger.debug("grantProviderToken in",e),n.label=1;case 1:return n.trys.push([1,3,,4]),e.client_id=this._config.clientId,[4,this._innerRequest(s.ApiUrls.PROVIDER_TOKEN_URL,{method:"POST",body:e})];case 2:return r=n.sent(),[3,4];case 3:throw t=n.sent(),this._logger.error("grantProviderToken out",t),t;case 4:return this._logger.debug("grantProviderToken out"),[2,r]}}))}))},e.prototype.patchProviderToken=function(e){return n(this,void 0,void 0,(function(){var r,t;return o(this,(function(n){switch(n.label){case 0:this._logger.debug("patchProviderToken in",e),n.label=1;case 1:return n.trys.push([1,3,,4]),e.client_id=this._config.clientId,[4,this._innerRequest(s.ApiUrls.PROVIDER_TOKEN_URL,{method:"PATCH",body:e})];case 2:return r=n.sent(),[3,4];case 3:throw t=n.sent(),this._logger.error("patchProviderToken out",t),t;case 4:return this._logger.debug("patchProviderToken out"),[2,r]}}))}))},e.prototype.signInWithProvider=function(e){return n(this,void 0,void 0,(function(){var r,t;return o(this,(function(n){switch(n.label){case 0:this._logger.debug("signInWithProvider in",e),n.label=1;case 1:return n.trys.push([1,4,,5]),e.client_id=this._config.clientId,[4,this._innerRequest(s.ApiUrls.AUTH_SIGN_IN_WITH_PROVIDER_URL,{method:"POST",body:e})];case 2:return r=n.sent(),[4,this._config.credentialsClient.setCredentials(r)];case 3:return n.sent(),[3,5];case 4:throw t=n.sent(),this._logger.error("signInWithProvider out",t),t;case 5:return this._logger.debug("signInWithProvider out"),[2,r]}}))}))},e.prototype.bindWithProvider=function(e){return n(this,void 0,void 0,(function(){var r;return o(this,(function(t){switch(t.label){case 0:this._logger.debug("bindWithProvider in",e),t.label=1;case 1:return t.trys.push([1,3,,4]),e.client_id=this._config.clientId,[4,this._innerRequest(s.ApiUrls.PROVIDER_BIND_URL,{method:"POST",body:e,withCredentials:!0})];case 2:return t.sent(),[3,4];case 3:throw r=t.sent(),this._logger.error("bindWithProvider out",r),r;case 4:return this._logger.debug("bindWithProvider out"),[2]}}))}))},e.prototype.getUserProfile=function(){return n(this,void 0,void 0,(function(){var e,r;return o(this,(function(t){switch(t.label){case 0:this._logger.debug("getUserProfile in"),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this._innerRequest(s.ApiUrls.USER_ME_URL,{method:"GET",withCredentials:!0})];case 2:return e=t.sent(),[3,4];case 3:throw r=t.sent(),this._logger.error("getUserProfile out",r),r;case 4:return this._logger.debug("getUserProfile out",e),[2,e]}}))}))},e.prototype.transByProvider=function(e){return n(this,void 0,void 0,(function(){var r,t;return o(this,(function(n){switch(n.label){case 0:this._logger.debug("transByProvider in"),n.label=1;case 1:return n.trys.push([1,4,,5]),[4,this._innerRequest(s.ApiUrls.USER_TRANS_BY_PROVIDER_URL,{method:"PATCH",body:e,withCredentials:!0})];case 2:return r=n.sent(),[4,this._config.credentialsClient.setCredentials(r)];case 3:return n.sent(),[3,5];case 4:throw t=n.sent(),this._logger.error("transByProvider out",t),t;case 5:return this._logger.debug("transByProvider out",r),[2,r]}}))}))},e.prototype.grantToken=function(e){return n(this,void 0,void 0,(function(){var r,t;return o(this,(function(n){switch(n.label){case 0:this._logger.debug("grantToken in"),n.label=1;case 1:return n.trys.push([1,4,,5]),e.client_id=this._config.clientId,"string"==typeof this._config.clientSecret&&(e.client_secret=this._config.clientSecret),[4,this._innerRequest(s.ApiUrls.AUTH_TOKEN_URL,{method:"POST",body:e})];case 2:return r=n.sent(),[4,this._config.credentialsClient.setCredentials(r)];case 3:return n.sent(),[3,5];case 4:throw t=n.sent(),this._logger.error("grantToken out",t),t;case 5:return this._logger.debug("grantToken out",r),[2,r]}}))}))},e.prototype.getProviders=function(){return n(this,void 0,void 0,(function(){return o(this,(function(e){return[2,this._innerRequest(s.ApiUrls.PROVIDER_LIST,{method:"GET",withCredentials:!0})]}))}))},e.prototype.unbindProvider=function(e){return n(this,void 0,void 0,(function(){var r;return o(this,(function(t){return e.client_id=this._config.clientId,r={},[2,this._innerRequest(s.ApiUrls.PROVIDER_UNBIND_URL+"/"+e.provider_id,{method:"DELETE",withCredentials:!0,withCaptcha:!0,withCaptchaMeta:r})]}))}))},e.prototype.checkPassword=function(e){return n(this,void 0,void 0,(function(){return o(this,(function(r){return[2,this._innerRequest(""+s.ApiUrls.USER_SUDO_URL,{method:"POST",withCredentials:!0,body:e})]}))}))},e.prototype.grantSudoToken=function(e){return n(this,void 0,void 0,(function(){return o(this,(function(r){return[2,this._innerRequest(""+s.ApiUrls.USER_SUDO_URL,{method:"POST",withCredentials:!0,body:e})]}))}))},e.prototype.bindPhone=function(e){return n(this,void 0,void 0,(function(){return o(this,(function(r){return[2,this._innerRequest(""+s.ApiUrls.BIND_PHONE_URL,{method:"PATCH",withCredentials:!0,body:e})]}))}))},e.prototype.setPassword=function(e){return n(this,void 0,void 0,(function(){return o(this,(function(r){return[2,this._innerRequest(""+s.ApiUrls.AUTH_SET_PASSWORD_URL,{method:"PATCH",withCredentials:!0,body:e})]}))}))},e.prototype.resetPassword=function(e){return n(this,void 0,void 0,(function(){return o(this,(function(r){return e.client_id=this._config.clientId,[2,this._innerRequest(""+s.ApiUrls.AUTH_RESET_URL,{method:"POST",body:e})]}))}))},e.prototype.getCurUserVerification=function(e){return n(this,void 0,void 0,(function(){var r;return o(this,(function(t){return r={},e.client_id=this._config.clientId,e.target="CUR_USER",[2,this._innerRequest(s.ApiUrls.VERIFICATION_URL,{method:"POST",body:e,withCredentials:!0,withCaptcha:!0,withCaptchaMeta:r})]}))}))},e.prototype.changeBindedProvider=function(e){return n(this,void 0,void 0,(function(){return o(this,(function(r){return e.client_id=this._config.clientId,[2,this._innerRequest(s.ApiUrls.PROVIDER_LIST+"/"+e.provider_id+"/trans",{method:"POST",body:{provider_trans_token:e.trans_token},withCredentials:!0})]}))}))},e.prototype.setUserProfile=function(e){return n(this,void 0,void 0,(function(){return o(this,(function(r){return[2,this._innerRequest(s.ApiUrls.USER_PRIFILE_URL,{method:"PATCH",body:e,withCredentials:!0})]}))}))},e.prototype.queryUserProfile=function(e){return n(this,void 0,void 0,(function(){var r;return o(this,(function(t){return r=""+s.ApiUrls.USER_QUERY_URL+e,[2,this._innerRequest(r,{method:"GET",withCredentials:!0})]}))}))},e.prototype.signUpAnonymously=function(){return n(this,void 0,void 0,(function(){var e,r,t;return o(this,(function(n){switch(n.label){case 0:this._logger.debug("signInWithAnonymous in"),n.label=1;case 1:return n.trys.push([1,4,,5]),r={client_id:this._config.clientId,client_secret:this._config.clientSecret||""},[4,this._innerRequest(s.ApiUrls.AUTH_SIGN_UP_ANONYMOUSLY_URL,{method:"POST",body:r})];case 2:return e=n.sent(),[4,this._config.credentialsClient.setCredentials(e)];case 3:return n.sent(),[3,5];case 4:throw t=n.sent(),this._logger.error("signInWithAnonymous out",t),t;case 5:return this._logger.debug("signInWithAnonymous out"),[2,e]}}))}))},e.prototype.userAuthorize=function(e){return n(this,void 0,void 0,(function(){var r,t;return o(this,(function(n){switch(n.label){case 0:this._logger.debug("userAuthorize in",e),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this._innerRequest(s.ApiUrls.USER_AUTHORIZE_URL,{method:"POST",body:e,withCredentials:!0})];case 2:return r=n.sent(),[3,4];case 3:throw t=n.sent(),this._logger.error("userAuthorize out",t),t;case 4:return this._logger.debug("userAuthorize out"),[2,r]}}))}))},e.prototype.getUserAuthorizeInfo=function(e){return n(this,void 0,void 0,(function(){var r,t,n,i;return o(this,(function(o){switch(o.label){case 0:this._logger.debug("getUserAuthorizeInfo in",e),o.label=1;case 1:return o.trys.push([1,3,,4]),(t=new URLSearchParams).set("client_id",e.client_id),e.response_type&&t.set("response_type",e.response_type),e.redirect_uri&&t.set("redirect_uri",e.redirect_uri),e.state&&t.set("state",e.state),e.scope&&t.set("scope",e.scope),e.sign_out_uri&&t.set("sign_out_uri",e.sign_out_uri),e.locale&&t.set("locale",e.locale),n=s.ApiUrls.USER_AUTHORIZE_INFO_URL+"?"+t.toString(),[4,this._innerRequest(n,{method:"GET",withCredentials:!0})];case 2:return r=o.sent(),[3,4];case 3:throw i=o.sent(),this._logger.error("getUserAuthorizeInfo out",i),i;case 4:return this._logger.debug("getUserAuthorizeInfo out"),[2,r]}}))}))},e.prototype.userAuthorizeDetect=function(e){return n(this,void 0,void 0,(function(){var r,t,n;return o(this,(function(o){switch(o.label){case 0:this._logger.debug("userAuthorizeDetect in",e),o.label=1;case 1:return o.trys.push([1,3,,4]),r=new URLSearchParams,e.client_id&&r.set("client_id",e.client_id),e.redirect_uri&&r.set("redirect_uri",e.redirect_uri),e.scope&&r.set("scope",e.scope),e.sign_out_uri&&r.set("sign_out_uri",e.sign_out_uri),t=s.ApiUrls.USER_AUTHORIZE_DETECT_URL+"?"+r.toString(),[4,this._innerRequest(t,{method:"GET",withCredentials:1==e.with_credentials})];case 2:return o.sent(),[3,4];case 3:throw n=o.sent(),this._logger.error("userAuthorizeDetect out",n),n;case 4:return this._logger.debug("userAuthorizeDetect out"),[2]}}))}))},e.prototype.deleteUser=function(e){return n(this,void 0,void 0,(function(){var r=this;return o(this,(function(t){switch(t.label){case 0:return[4,a.logDebugFunctionCallInfo("deleteUser",(function(){return n(r,void 0,void 0,(function(){var r;return o(this,(function(t){switch(t.label){case 0:return r=s.ApiUrls.USER_ME_URL+"?sudo_token="+e.sudo_token,[4,this._innerRequest(r,{method:"DELETE",withCredentials:!0})];case 1:return t.sent(),[2]}}))}))}),this._logger)];case 1:return[2,t.sent()]}}))}))},e.prototype._innerRequest=function(e,r){return n(this,void 0,void 0,(function(){var t=this;return o(this,(function(i){return[2,a.logDebugFunctionCallInfo("_innerRequest",(function(){return n(t,void 0,void 0,(function(){return o(this,(function(t){return this._config.locale&&(r||(r={}),r.headers||(r.headers={}),void 0===r.headers["accept-language"]&&(r.headers["accept-language"]=this._config.locale)),[2,this._config.request(e,r)]}))}))}),this._logger)]}))}))},e}();r.Auth=c},"./src/auth/consts.ts":function(e,r,t){"use strict";var n,o;Object.defineProperty(r,"__esModule",{value:!0}),r.VerificationUsages=r.ApiUrls=void 0,(o=r.ApiUrls||(r.ApiUrls={})).AUTH_SIGN_IN_URL="/v1/auth/signin",o.AUTH_SIGN_IN_WITH_PROVIDER_URL="/v1/auth/signin/with/provider",o.AUTH_SIGN_UP_URL="/v1/auth/signup",o.AUTH_SIGN_UP_ANONYMOUSLY_URL="/v1/auth/signup/anonymously",o.AUTH_TOKEN_URL="/v1/auth/token",o.AUTH_DEVICE_CODE="/v1/auth/device/code",o.AUTH_REVOKE_URL="/v1/auth/revoke",o.PROVIDER_BIND_URL="/v1/user/provider/bind",o.PROVIDER_TOKEN_URL="/v1/auth/provider/token",o.PROVIDER_URI_URL="/v1/auth/provider/uri",o.USER_DEVICE_AUTHORIZE="/v1/user/device/authorize",o.USER_ME_URL="/v1/user/me",o.USER_QUERY_URL="/v1/user/query",o.USER_PRIFILE_URL="/v1/user/profile",o.USER_TRANS_BY_PROVIDER_URL="/v1/user/trans/by/provider",o.VERIFICATION_URL="/v1/auth/verification",o.VERIFY_URL="/v1/auth/verification/verify",o.PROVIDER_LIST="/v1/user/provider",o.PROVIDER_UNBIND_URL="/v1/user/provider",o.USER_SUDO_URL="/v1/user/sudo",o.BIND_PHONE_URL="/v1/user/contact",o.AUTH_SET_PASSWORD_URL="/v1/user/password",o.AUTH_RESET_URL="/v1/auth/reset",o.USER_AUTHORIZE_URL="/v1/user/authorize",o.USER_AUTHORIZE_INFO_URL="/v1/user/authorize/info",o.USER_AUTHORIZE_DETECT_URL="/v1/user/authorize/detect",o.AUTH_SIGN_IN_TOKEN_URL="/v1/auth/signin/token",o.AUTH_TOKEN_INTROSPECT_URL="/v1/auth/token/introspect",(n=r.VerificationUsages||(r.VerificationUsages={})).REGISTER="REGISTER",n.SIGN_IN="SIGN_IN",n.PASSWORD_RESET="PASSWORD_RESET",n.EMAIL_ADDRESS_CHANGE="EMAIL_ADDRESS_CHANGE",n.PHONE_NUMBER_CHANGE="PHONE_NUMBER_CHANGE",n.DEFAULT="DEFAULT",n.EMAIL_ADDRESS_VERIFICATION="EMAIL_ADDRESS_VERIFICATION",n.REGISTER_SIGN_IN="REGISTER_SIGN_IN",n.PHONE_NUMBER_VERIFICATION="PHONE_NUMBER_VERIFICATION"},"./src/auth/models.ts":function(e,r,t){"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),r.VerificationChannelType=void 0,(n=r.VerificationChannelType||(r.VerificationChannelType={}))[n.UNKNOWN=0]="UNKNOWN",n[n.PHONE=1]="PHONE",n[n.EMAIL=2]="EMAIL",n[n.INAPP=3]="INAPP"},"./src/common/utils.ts":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.combineJsonObject=void 0,r.combineJsonObject=function e(r,t){return function(r,t){var n=r;for(var o in t){var i=t[o];if("object"==typeof i){var a=n[o];n[o]=null==a?i:e(n[o],i)}else void 0!==i&&(n[o]=i)}return n}(JSON.parse(JSON.stringify(r)),JSON.parse(JSON.stringify(t)))}},"./src/common/uuid.ts":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.uuidv4=void 0,r.uuidv4=function(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var r=16*Math.random()|0;return("x"==e?r:3&r|8).toString(16)}))}},"./src/i18n/i18n.ts":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Internationalization=void 0;var n=t("./src/common/utils.ts"),o=t("./src/i18n/interface.ts"),i=t("./src/i18n/locales/index.ts"),a=function(){function e(e){switch(e.locale){case o.Locale.EN:case o.Locale.EN_AU:case o.Locale.EN_BZ:case o.Locale.EN_CA:case o.Locale.EN_CB:case o.Locale.EN_GB:case o.Locale.EN_IE:case o.Locale.EN_JM:case o.Locale.EN_NZ:case o.Locale.EN_PH:case o.Locale.EN_TT:case o.Locale.EN_US:case o.Locale.EN_ZA:case o.Locale.EN_ZW:this._localePackage=i.enLocalePackage;break;case o.Locale.ID:case o.Locale.ID_ID:case o.Locale.IN_ID:this._localePackage=i.idLocalePackage;break;case o.Locale.KO:this._localePackage=i.koLocalePackage;break;case o.Locale.MS:this._localePackage=i.msLocalePackage;break;case o.Locale.ZH_HANT:case o.Locale.ZH_CHT:case o.Locale.ZH_HK:case o.Locale.ZH_MO:case o.Locale.ZH_TW:this._localePackage=i.zhHantLocalePackage;break;case o.Locale.ZH:case o.Locale.ZH_CHS:case o.Locale.ZH_CN:case o.Locale.ZH_HANS:case o.Locale.UNKNOWN:default:this._localePackage=i.zhHansLocalePackage}e.localePackage&&(this._localePackage=n.combineJsonObject(this._localePackage,e.localePackage))}return e.prototype.translate=function(e,r,t){var n=void 0,o=this._localePackage[e];if(o&&(n=o[r]),t&&"string"==typeof n){var i=n;if("string"==typeof i&&i.length>0)for(var a in t){var s=this._escapeRegExp("${"+a+"}"),c=new RegExp(s,"g");i=i.replace(c,t[a].toString())}n=i}return n},e.prototype._escapeRegExp=function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},e}();r.Internationalization=a},"./src/i18n/index.ts":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./src/i18n/interface.ts");Object.defineProperty(r,"Locale",{enumerable:!0,get:function(){return n.Locale}}),Object.defineProperty(r,"stringToLocale",{enumerable:!0,get:function(){return n.stringToLocale}});var o=t("./src/i18n/i18n.ts");Object.defineProperty(r,"Internationalization",{enumerable:!0,get:function(){return o.Internationalization}});var i=t("./src/i18n/text-handler/error-text-handler.ts");Object.defineProperty(r,"ErrorTextHandler",{enumerable:!0,get:function(){return i.ErrorTextHandler}})},"./src/i18n/interface.ts":function(e,r,t){"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),r.stringToLocale=r.Locale=void 0,function(e){e.EN="en",e.EN_AU="en-au",e.EN_BZ="en-bz",e.EN_CA="en-ca",e.EN_CB="en-cb",e.EN_GB="en-gb",e.EN_IE="en-ie",e.EN_JM="en-jm",e.EN_NZ="en-nz",e.EN_PH="en-ph",e.EN_TT="en-tt",e.EN_US="en-us",e.EN_ZA="en-za",e.EN_ZW="en-zw",e.ID="id",e.ID_ID="id-id",e.IN_ID="in-id",e.KO="ko",e.MS="ms",e.ZH="zh",e.ZH_HANT="zh-hant",e.ZH_CHT="zh-cht",e.ZH_HK="zh-hk",e.ZH_MO="zh-mo",e.ZH_TW="zh-tw",e.ZH_CHS="zh-chs",e.ZH_CN="zh-cn",e.ZH_HANS="zh-hans",e.UNKNOWN="unknown"}(n=r.Locale||(r.Locale={})),r.stringToLocale=function(e){for(var r in n)if(n[r].toLowerCase()===e.toLowerCase())return n[r];return n.UNKNOWN}},"./src/i18n/locales/en.ts":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.enLocalePackage=void 0,r.enLocalePackage={error:{error_code_0:"Operate successfully",error_code_1:"Operate cancelled",error_code_2:"Unknown error",error_code_3:"Invalid parameter",error_code_4:"Request timeout",error_code_5:"Request not found",error_code_6:"Already exist",error_code_7:"No permission to access",error_code_8:"Insufficient resources",error_code_9:"The operation was rejected",error_code_10:"Operation terminated",error_code_11:"The operation is outside the valid range",error_code_12:"The operation is not supported",error_code_13:"Internal error",error_code_14:"The operation is currently unavailable",error_code_15:"Irrecoverable data loss or corruption",error_code_16:"Unauthorized",error_code_4001:"Please enter the verification code",error_code_4002:"Verification code is incorrect",error_code_4010:"Invalid password",error_code_4011:"Account is locked. Please try again later",error_code_4012:"Account not activated",error_code_4013:"Account is locked. Please try again later",error_code_4014:"Verification code is incorrect",error_code_4015:"Need a second verification code",error_code_4016:"The secondary verification code is incorrect",error_code_4017:"The secondary verification recovery code is incorrect.",error_code_4018:"Under review",error_code_4019:"Tripartite unknown error",error_code_4020:"Please enter SMS verification code",error_code_4021:"Please try to retrieve the password",error_code_4022:"Wrong account number or password, please re-enter",error_code_4024:"Verification code is expired",error_code_4121:"Invalid request",error_code_4122:"The client is not authorized",error_code_4123:"Access denied",error_code_4124:"The server is not authorized",error_code_4125:"The scope of the request is invalid",error_code_4126:"The refresh token is incorrect or expired",error_code_5026:"Server error",error_code_5027:"The authorization service is temporarily unavailable",error_code_4050:"Authorization in progress",error_code_4051:"Authorization polling in progress",error_code_4052:"Token expired",error_code_4031:"Interactive request",error_code_4032:"Please log in first",error_code_4033:"Please select an account to complete authentication",error_code_4034:"Please agree to authorize",error_code_4035:"Invalid URI",error_code_4036:"Invalid request object",error_code_4037:"Invalid request",error_code_4038:"The current URI is not supported",error_code_4039:"Signup is not supported",error_code_50:"The account is in the period of cancellation audit and cannot be used",error_code_38:"Account is frozen, please try again later",error_code_4023:"Wrong account number or password, please re-enter",unreachable:"unreachable",default:"",your_operation_is_too_frequent__please_try_again_later:"Your operation is too frequent, please try again later"}}},"./src/i18n/locales/id.ts":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.idLocalePackage=void 0,r.idLocalePackage={error:{error_code_0:"Operasi berhasil",error_code_1:"Permintaan dibatalkan",error_code_2:"Terjadi kesalahan yang tidak diketahui",error_code_3:"Parameter tidak valid",error_code_4:"Waktu permintaan habis",error_code_5:"Permintaan tidak ditemukan",error_code_6:"Sudah ada",error_code_7:"Tidak ada akses",error_code_8:"Sumber daya tidak cukup",error_code_9:"Operasi ditolak",error_code_10:"Operasi dihentikan",error_code_11:"Operasi di luar rentang yang valid",error_code_12:"Operasi tidak didukung",error_code_13:"Terjadi kesalahan internal ",error_code_14:"Operasi saat ini tidak tersedia",error_code_15:"Kehilangan atau kerusakan data yang tidak dapat dipulihkan",error_code_16:"Tidak sah",error_code_4001:"Silakan masukkan kode verifikasi",error_code_4002:"Kode verifikasi salah",error_code_4010:"Kata laluan tidak sah",error_code_4011:"Akun terkunci, silakan coba lagi nanti",error_code_4012:"Akun Anda tidak diaktifkan",error_code_4013:"Akun terkunci, silakan coba lagi nanti",error_code_4014:"Kode verifikasi salah",error_code_4015:"Butuh kode verifikasi kedua",error_code_4016:"Kode verifikasi kedua salah",error_code_4017:"Kode pemulihan verifikasi kedua salah",error_code_4018:"Sedang ditinjau",error_code_4019:"Terjadi kesalahan pihak ketiga yang tidak diketahui",error_code_4020:"Silakan masukkan kode verifikasi SMS",error_code_4021:"Silakan coba untuk mendapatkan kembali kata sandi Anda",error_code_4022:"Informasi akun atau kata sandi salah, silakan masukkan kembali",error_code_4024:"Kod penentusahan telah tamat tempoh.",error_code_4121:"Permintaan tidak valid",error_code_4122:"Klien tidak berwenang",error_code_4123:"Akses ditolak",error_code_4124:"Server tidak berwenang",error_code_4125:"Permintaan cakupan tidak valid",error_code_4126:"Token penyegaran salah atau kedaluwarsa;",error_code_5026:"Terjadi kesalahan server",error_code_5027:"Layanan otorisasi tidak tersedia untuk sementara",error_code_4050:"Pengotorisasian",error_code_4051:"Pengotorisasian jajak pendapat",error_code_4052:"Token kedaluwarsa",error_code_4031:"Permintaan interaktif",error_code_4032:"Harap masuk terlebih dulu",error_code_4033:"Pilih akun untuk menyelesaikan autentikasi identitas",error_code_4034:"Harap setuju untuk memberi otorisasi",error_code_4035:"Uri tidak valid",error_code_4036:"Objek permintaan tidak valid",error_code_4037:"Permintaan tidak valid",error_code_4038:"Tidak mendukung uri saat ini",error_code_4039:"Tidak mendukung pendaftaran",error_code_50:"Akun sedang dalam periode tinjauan pembatalan dan tidak dapat digunakan",error_code_38:"Akun ini ditangguhkan, silakan coba lagi nanti",error_code_4023:"Informasi akun atau kata sandi salah, silakan masukkan kembali",unreachable:"Waktu jaringan habis, silakan coba lagi",default:"",your_operation_is_too_frequent__please_try_again_later:"Operasi terlalu kerap. Sila cuba lagi kemudian."}}},"./src/i18n/locales/index.ts":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./src/i18n/locales/en.ts");Object.defineProperty(r,"enLocalePackage",{enumerable:!0,get:function(){return n.enLocalePackage}});var o=t("./src/i18n/locales/id.ts");Object.defineProperty(r,"idLocalePackage",{enumerable:!0,get:function(){return o.idLocalePackage}});var i=t("./src/i18n/locales/ko.ts");Object.defineProperty(r,"koLocalePackage",{enumerable:!0,get:function(){return i.koLocalePackage}});var a=t("./src/i18n/locales/ms.ts");Object.defineProperty(r,"msLocalePackage",{enumerable:!0,get:function(){return a.msLocalePackage}});var s=t("./src/i18n/locales/zh-Hans.ts");Object.defineProperty(r,"zhHansLocalePackage",{enumerable:!0,get:function(){return s.zhHansLocalePackage}});var c=t("./src/i18n/locales/zh-Hant.ts");Object.defineProperty(r,"zhHantLocalePackage",{enumerable:!0,get:function(){return c.zhHantLocalePackage}})},"./src/i18n/locales/ko.ts":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.koLocalePackage=void 0,r.koLocalePackage={error:{error_code_0:" ",error_code_1:" ",error_code_2:"   ",error_code_3:"  ",error_code_4:"  ",error_code_5:"   .",error_code_6:" ",error_code_7:"   ",error_code_8:" ",error_code_9:" ",error_code_10:" ",error_code_11:"    .",error_code_12:"   .",error_code_13:" ",error_code_14:"     .",error_code_15:"      ",error_code_16:" ",error_code_4001:"   ",error_code_4002:"  .  .",error_code_4010:"  ",error_code_4011:"   .    .",error_code_4012:"   .",error_code_4013:"   .    .",error_code_4014:"  ",error_code_4015:"2   .",error_code_4016:"2    .",error_code_4017:"2     .",error_code_4018:" ",error_code_4019:"    ",error_code_4020:"SMS   .",error_code_4021:"  .",error_code_4022:"     .   .",error_code_4024:"  .",error_code_4121:" ",error_code_4122:"  .",error_code_4123:" ",error_code_4124:"  .",error_code_4125:"  .",error_code_4126:"   .",error_code_5026:" ",error_code_5027:"     .",error_code_4050:"",error_code_4051:" ",error_code_4052:" .",error_code_4031:" ",error_code_4032:" .",error_code_4033:"    .",error_code_4034:"  .",error_code_4035:" URI",error_code_4036:"  ",error_code_4037:" ",error_code_4038:" URI  .",error_code_4039:"  .",error_code_50:"       .",error_code_38:" .    .",error_code_4023:"     .   .",unreachable:"   .",default:"",your_operation_is_too_frequent__please_try_again_later:"  .   ."}}},"./src/i18n/locales/ms.ts":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.msLocalePackage=void 0,r.msLocalePackage={error:{error_code_0:"Operasi berjaya",error_code_1:"Operasi dibatalkan",error_code_2:"Ralat tidak diketahui",error_code_3:"Parameter tidak sah",error_code_4:"Permintaan ini sudah tamat tempoh.",error_code_5:"Permintaan tidak dijumpai.",error_code_6:"Wujud",error_code_7:"Akses tidak ditentusahkan",error_code_8:"Sumber tidak mencukupi",error_code_9:"Operasi ditolak",error_code_10:"Operasi ditamatkan",error_code_11:"Operasi ini melebihi skop yang sah.",error_code_12:"Operasi ini tidak disokong.",error_code_13:"Ralat dalaman",error_code_14:"Operasi ini tidak tersedia ketika ini.",error_code_15:"Kehilangan data atau korupsi yang tidak boleh dipulihkan",error_code_16:"Tidak disahkan",error_code_4001:"Sila lengkapkan penentusahan keselamatan.",error_code_4002:"Penentusahan gagal. Sila cuba lagi.",error_code_4010:"Kata laluan tidak sah",error_code_4011:"Akaun ini telah dikunci. Sila cuba lagi kemudian.",error_code_4012:"Akaun ini masih belum diaktifkan.",error_code_4013:"Akaun ini telah dikunci. Sila cuba lagi kemudian.",error_code_4014:"Kod penentusahan tidak betul",error_code_4015:"Kod penentusahan kedua diperlukan.",error_code_4016:"Kod penentusahan kedua tidak betul.",error_code_4017:"Kod pemulihan penentusahan kedua tidak betul.",error_code_4018:"Dalam penilaian",error_code_4019:"Ralat pihak ketiga tidak diketahui",error_code_4020:"Sila masukkan kod penentusahan SMS.",error_code_4021:"Sila cuba untuk memulihkan kata laluan anda.",error_code_4022:"Maklumat akaun atau kata laluan tidak betul. Sila masukkan semula.",error_code_4024:"Kod penentusahan telah tamat tempoh.",error_code_4121:"Permintaan tidak sah",error_code_4122:"Klien ini belum ditentusahkan.",error_code_4123:"Akses ditolak",error_code_4124:"Pelayan masih belum ditentusahkan.",error_code_4125:"Skop permintaan tidak sah.",error_code_4126:"Token segar semula tidak betul atau tamat tempoh.",error_code_5026:"Ralat pelayan",error_code_5027:"Perkhidmatan penentusahan tidak tersedia ketika ini.",error_code_4050:"Menentusah",error_code_4051:"Undian penentusahan",error_code_4052:"Token ini telah tamat tempoh.",error_code_4031:"Permintaan interaksi",error_code_4032:"Sila log masuk dahulu.",error_code_4033:"Sila pilih akaun anda untuk melengkapkan penentusahan identiti.",error_code_4034:"Sila setuju dengan penentusahan.",error_code_4035:"Uri tidak sah",error_code_4036:"Objek permintaan tidak sah",error_code_4037:"Permintaan tidak sah",error_code_4038:"Uri semasa tidak disokong.",error_code_4039:"Pendaftaran tidak disokong.",error_code_50:"Akaun ini telah dilog keluar dan sedang dinilai. Ia tidak boleh digunakan.",error_code_38:"Akaun ini telah dibekukan. Sila cuba lagi kemudian.",error_code_4023:"Maklumat akaun atau kata laluan tidak betul. Sila masukkan semula.",unreachable:"Rangkaian ini tidak boleh disambungkan.",default:"",your_operation_is_too_frequent__please_try_again_later:"Operasi terlalu kerap. Sila cuba lagi kemudian."}}},"./src/i18n/locales/zh-Hans.ts":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.zhHansLocalePackage=void 0,r.zhHansLocalePackage={error:{error_code_0:"",error_code_1:"",error_code_2:"",error_code_3:"",error_code_4:"",error_code_5:"",error_code_6:"",error_code_7:"",error_code_8:"",error_code_9:"",error_code_10:"",error_code_11:"",error_code_12:"",error_code_13:"",error_code_14:"",error_code_15:"",error_code_16:"",error_code_4001:"",error_code_4002:"",error_code_4010:"",error_code_4011:", ",error_code_4012:"",error_code_4013:", ",error_code_4014:"",error_code_4015:"",error_code_4016:"",error_code_4017:"",error_code_4018:"",error_code_4019:"",error_code_4020:"",error_code_4021:"",error_code_4022:"",error_code_4024:"",error_code_4121:"",error_code_4122:"",error_code_4123:"",error_code_4124:"",error_code_4125:"",error_code_4126:"refresh token ;",error_code_5026:"",error_code_5027:"",error_code_4050:"",error_code_4051:"",error_code_4052:"token",error_code_4031:"",error_code_4032:"",error_code_4033:"",error_code_4034:"",error_code_4035:"uri",error_code_4036:"",error_code_4037:"",error_code_4038:"uri",error_code_4039:"",error_code_50:"",error_code_38:", ",error_code_4023:"",unreachable:"",default:"",your_operation_is_too_frequent__please_try_again_later:""}}},"./src/i18n/locales/zh-Hant.ts":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.zhHantLocalePackage=void 0,r.zhHantLocalePackage={error:{error_code_0:"",error_code_1:"",error_code_2:"",error_code_3:"",error_code_4:"",error_code_5:"",error_code_6:"",error_code_7:"",error_code_8:"",error_code_9:"",error_code_10:"",error_code_11:"",error_code_12:"",error_code_13:"",error_code_14:"",error_code_15:"",error_code_16:"",error_code_4001:"",error_code_4002:"",error_code_4010:"",error_code_4011:", ",error_code_4012:"",error_code_4013:", ",error_code_4014:"",error_code_4015:"",error_code_4016:"",error_code_4017:"",error_code_4018:"",error_code_4019:"",error_code_4020:"",error_code_4021:"",error_code_4022:"",error_code_4024:"",error_code_4121:"",error_code_4122:"",error_code_4123:"",error_code_4124:"",error_code_4125:"",error_code_4126:"refresh token ;",error_code_5026:"",error_code_5027:"",error_code_4050:"",error_code_4051:"",error_code_4052:"token",error_code_4031:"",error_code_4032:"",error_code_4033:"",error_code_4034:"",error_code_4035:"uri",error_code_4036:"",error_code_4037:"",error_code_4038:"uri",error_code_4039:"",error_code_50:"",error_code_38:", ",error_code_4023:"",unreachable:"",default:"",your_operation_is_too_frequent__please_try_again_later:""}}},"./src/i18n/package-interface/error-module-package.ts":function(e,r,t){"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),r.ErrorModuleFieldType=void 0,(n=r.ErrorModuleFieldType||(r.ErrorModuleFieldType={}))[n.error_code_0=0]="error_code_0",n[n.error_code_1=1]="error_code_1",n[n.error_code_2=2]="error_code_2",n[n.error_code_3=3]="error_code_3",n[n.error_code_4=4]="error_code_4",n[n.error_code_5=5]="error_code_5",n[n.error_code_6=6]="error_code_6",n[n.error_code_7=7]="error_code_7",n[n.error_code_8=8]="error_code_8",n[n.error_code_9=9]="error_code_9",n[n.error_code_10=10]="error_code_10",n[n.error_code_11=11]="error_code_11",n[n.error_code_12=12]="error_code_12",n[n.error_code_13=13]="error_code_13",n[n.error_code_14=14]="error_code_14",n[n.error_code_15=15]="error_code_15",n[n.error_code_16=16]="error_code_16",n[n.error_code_4001=17]="error_code_4001",n[n.error_code_4002=18]="error_code_4002",n[n.invalid_password=4010]="invalid_password",n[n.error_code_4011=4011]="error_code_4011",n[n.error_code_4012=4012]="error_code_4012",n[n.error_code_4013=4013]="error_code_4013",n[n.error_code_4014=4014]="error_code_4014",n[n.error_code_4015=4015]="error_code_4015",n[n.error_code_4016=4016]="error_code_4016",n[n.error_code_4017=4017]="error_code_4017",n[n.error_code_4018=4018]="error_code_4018",n[n.error_code_4019=4019]="error_code_4019",n[n.error_code_4020=4020]="error_code_4020",n[n.error_code_4021=4021]="error_code_4021",n[n.error_code_4022=4022]="error_code_4022",n[n.error_code_4024=4023]="error_code_4024",n[n.error_code_4121=4024]="error_code_4121",n[n.error_code_4122=4025]="error_code_4122",n[n.error_code_4123=4026]="error_code_4123",n[n.error_code_4124=4027]="error_code_4124",n[n.error_code_4125=4028]="error_code_4125",n[n.error_code_4126=4029]="error_code_4126",n[n.error_code_5026=4030]="error_code_5026",n[n.error_code_5027=4031]="error_code_5027",n[n.error_code_4050=4032]="error_code_4050",n[n.error_code_4051=4033]="error_code_4051",n[n.error_code_4052=4034]="error_code_4052",n[n.error_code_4031=4035]="error_code_4031",n[n.error_code_4032=4036]="error_code_4032",n[n.error_code_4033=4037]="error_code_4033",n[n.error_code_4034=4038]="error_code_4034",n[n.error_code_4035=4039]="error_code_4035",n[n.error_code_4036=4040]="error_code_4036",n[n.error_code_4037=4041]="error_code_4037",n[n.error_code_4038=4042]="error_code_4038",n[n.error_code_4039=4043]="error_code_4039",n[n.error_code_50=4044]="error_code_50",n[n.error_code_38=4045]="error_code_38",n[n.error_code_4023=4046]="error_code_4023",n[n.unreachable=4047]="unreachable",n[n.default=4048]="default",n[n.your_operation_is_too_frequent__please_try_again_later=4049]="your_operation_is_too_frequent__please_try_again_later"},"./src/i18n/text-handler/error-text-handler.ts":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ErrorTextHandler=void 0;var n=t("../common-sdk/dist/models/error/index.js"),o=t("./src/i18n/package-interface/error-module-package.ts"),i=t("../common-sdk/dist/utilites/response-error/index.js"),a=function(){function e(e){this._internationalization=e,this._handleFuncMap=this._initHandleFuncMap()}return e.prototype.getText=function(e){var r="";do{if(e instanceof Error){r=this._getDefaultText(e);break}if("string"==typeof(r=this._handleErrorTextByLocalizedMessageDetail(e))&&r.length>0)break;if("string"==typeof(r=this._handleErrorTextByErrorError(e))&&r.length>0)break;if(e&&"string"==typeof e.error&&"number"==typeof e.error_code){var t=this._handleErrorTextByErrorCode(e,!1);if("string"==typeof t){r=t;break}}var n=this._handleFuncMap.get(null==e?void 0:e.error_uri);r="function"==typeof n?n.call(this,e):this._getDefaultText(e)}while(0);return r||""},e.prototype._initHandleFuncMap=function(){return new Map},e.prototype._getDefaultText=function(e){var r="",t=!1;return e&&(e instanceof Error||e.error)&&(t=!0),t&&0===(r=this._handleErrorTextByErrorCode(e,!0)||"").length&&(r=this._internationalization.translate("error",o.ErrorModuleFieldType[o.ErrorModuleFieldType.default].toString())+" "+this._handleDefaultErrorText(e)),r},e.prototype._handleDefaultErrorText=function(e){var r="";return e instanceof Error?r+="["+(e.message?e.message:"*")+"]":r+="["+(e.error?e.error:"*")+"]["+(e.error_description?e.error_description:"*")+"]",r},e.prototype._handleErrorTextByLocalizedMessageDetail=function(e){if(e&&e.error)for(var r=0,t=i.filterResponseErrorErrorDetail(e);r<t.length;r++){var n=t[r];if(n.message&&n.message.length>0)return n.message}},e.prototype._handleErrorTextByErrorError=function(e){var r=void 0;if(e&&e.error)switch(e.error){case n.ErrorType.UNREACHABLE:r=""+this._internationalization.translate("error",o.ErrorModuleFieldType[o.ErrorModuleFieldType.unreachable].toString());break;case n.ErrorType.CAPTCHA_INVALID:if(Array.isArray(e.details)&&e.details.length>0){var t=e.details[0];if(i.isTargetErrorDetail(t)&&t.reason===n.ErrorInfoDetailReasonType.CAPTCHA_REJECT){r=""+this._internationalization.translate("error",o.ErrorModuleFieldType[o.ErrorModuleFieldType.your_operation_is_too_frequent__please_try_again_later].toString());break}}}return r},e.prototype._handleErrorTextByErrorCode=function(e,r){if(e&&"number"==typeof e.error_code&&(e.error_code>=17||r))return this._internationalization.translate("error","error_code_"+e.error_code)},e}();r.ErrorTextHandler=a},"./src/index.ts":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.PACKAGE_VERSION=void 0,r.PACKAGE_VERSION="5.2.0";var n=t("../common-sdk/dist/utilites/response-error/index.js");Object.defineProperty(r,"toResponseError",{enumerable:!0,get:function(){return n.toResponseError}});var o=t("../common-sdk/dist/models/error/index.js");Object.defineProperty(r,"ErrorType",{enumerable:!0,get:function(){return o.ErrorType}}),Object.defineProperty(r,"ErrorCodeType",{enumerable:!0,get:function(){return o.ErrorCodeType}});var i=t("../common-sdk/dist/common/syntax/index.js");Object.defineProperty(r,"Syntax",{enumerable:!0,get:function(){return i.Syntax}});var a=t("../common-sdk/dist/simple-interfaces/simple-browser.js");Object.defineProperty(r,"SimpleBrowserWindowEvent",{enumerable:!0,get:function(){return a.SimpleBrowserWindowEvent}});var s=t("../common-sdk/dist/default-plugin/default-storage.js");Object.defineProperty(r,"DefaultStorage",{enumerable:!0,get:function(){return s.DefaultStorage}});var c=t("../common-sdk/dist/default-plugin/default-console.js");Object.defineProperty(r,"DefaultConsole",{enumerable:!0,get:function(){return c.DefaultConsole}});var u=t("../common-sdk/dist/log/index.js");Object.defineProperty(r,"LogLevel",{enumerable:!0,get:function(){return u.LogLevel}}),Object.defineProperty(r,"Logger",{enumerable:!0,get:function(){return u.Logger}});var l=t("../common-sdk/dist/default-plugin/default-request.js");Object.defineProperty(r,"defaultRequest",{enumerable:!0,get:function(){return l.defaultRequest}});var _=t("../common-sdk/dist/lock/index.js");Object.defineProperty(r,"Lock",{enumerable:!0,get:function(){return _.Lock}});var d=t("./src/oauth2client/interface.ts");Object.defineProperty(r,"AuthClient",{enumerable:!0,get:function(){return d.AuthClient}});var f=t("./src/oauth2client/models.ts");Object.defineProperty(r,"RefreshTokenActionType",{enumerable:!0,get:function(){return f.RefreshTokenActionType}});var E=t("./src/oauth2client/oauth2client.ts");Object.defineProperty(r,"generateRequestId",{enumerable:!0,get:function(){return E.generateRequestId}}),Object.defineProperty(r,"OAuth2Client",{enumerable:!0,get:function(){return E.OAuth2Client}});var p=t("./src/oauth2client/utility.ts");Object.defineProperty(r,"migrateSingleSubData2MultipleSubData",{enumerable:!0,get:function(){return p.migrateSingleSubData2MultipleSubData}});var g=t("./src/auth/consts.ts");Object.defineProperty(r,"ApiUrls",{enumerable:!0,get:function(){return g.ApiUrls}}),Object.defineProperty(r,"VerificationUsages",{enumerable:!0,get:function(){return g.VerificationUsages}});var h=t("./src/auth/models.ts");Object.defineProperty(r,"VerificationChannelType",{enumerable:!0,get:function(){return h.VerificationChannelType}});var R=t("./src/auth/apis.ts");Object.defineProperty(r,"Auth",{enumerable:!0,get:function(){return R.Auth}});var I=t("./src/i18n/index.ts");Object.defineProperty(r,"Locale",{enumerable:!0,get:function(){return I.Locale}}),Object.defineProperty(r,"stringToLocale",{enumerable:!0,get:function(){return I.stringToLocale}}),Object.defineProperty(r,"Internationalization",{enumerable:!0,get:function(){return I.Internationalization}}),Object.defineProperty(r,"ErrorTextHandler",{enumerable:!0,get:function(){return I.ErrorTextHandler}})},"./src/oauth2client/interface.ts":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AuthClient=void 0;r.AuthClient=function(){}},"./src/oauth2client/local-credentials.ts":function(e,r,t){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var o in r=arguments[t])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e},n.apply(this,arguments)},o=this&&this.__awaiter||function(e,r,t,n){return new(t||(t=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var r;e.done?o(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(a,s)}c((n=n.apply(e,r||[])).next())}))},i=this&&this.__generator||function(e,r){var t,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=r.call(e,a)}catch(e){i=[6,e],n=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(r,"__esModule",{value:!0}),r.LocalCredentials=r.isCredentialsExpired=void 0;var a=t("../common-sdk/dist/lock/index.js"),s=t("../common-sdk/dist/log/index.js");function c(e){var r=!0;return e&&e.expires_at&&e.access_token&&(r=e.expires_at<new Date),r}r.isCredentialsExpired=c;var u=function(){function e(r){this._credentials=null,this._hadGetStorageCurrentSub=!1,this._logger=new s.Logger({packageName:"@xbase/sdk",className:"LocalCredentials",logLevel:r.logLevel,console:r.console}),this._config=n({},r),this._lock=new a.Lock({lockType:"reentrant",name:e._lockName,logLevel:r.logLevel,console:r.console})}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logger.logLevel},set:function(e){this._logger.logLevel=e,this._lock.logLevel=e},enumerable:!1,configurable:!0}),e.prototype.switchSub=function(e){return o(this,void 0,void 0,(function(){var r=this;return i(this,(function(t){switch(t.label){case 0:return[4,s.logDebugFunctionCallInfo("switchSub",(function(){return o(r,void 0,void 0,(function(){var r=this;return i(this,(function(t){switch(t.label){case 0:return[4,this._lock.safeLock({action:"switchSub",callBack:function(t){return o(r,void 0,void 0,(function(){return i(this,(function(r){switch(r.label){case 0:return[4,this._getCredentials(t,e)];case 1:return r.sent(),[2]}}))}))}})];case 1:return[2,t.sent()]}}))}))}),this._logger)];case 1:return[2,t.sent()]}}))}))},e.prototype.getCurrentSub=function(){return o(this,void 0,void 0,(function(){var e=this;return i(this,(function(r){switch(r.label){case 0:return[4,s.logDebugFunctionCallInfo("getCurrentSub",(function(){return o(e,void 0,void 0,(function(){var e;return i(this,(function(r){switch(r.label){case 0:return[4,this.getCredentials()];case 1:return[2,null==(e=r.sent())?void 0:e.sub]}}))}))}),this._logger)];case 1:return[2,r.sent()]}}))}))},e.prototype.getSubList=function(){return o(this,void 0,void 0,(function(){var e=this;return i(this,(function(r){switch(r.label){case 0:return[4,s.logDebugFunctionCallInfo("getSubList",(function(){return o(e,void 0,void 0,(function(){var e=this;return i(this,(function(r){switch(r.label){case 0:return[4,this._lock.safeLock({action:"getSubList",callBack:function(r){return o(e,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,this._getSubList(-1,r)];case 1:return[2,e.sent()]}}))}))}})];case 1:return[2,r.sent()]}}))}))}),this._logger)];case 1:return[2,r.sent()]}}))}))},e.prototype.hasCredentials=function(){return o(this,void 0,void 0,(function(){var e=this;return i(this,(function(r){switch(r.label){case 0:return[4,s.logDebugFunctionCallInfo("hasCredentials",(function(){return o(e,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,this.getCredentials()];case 1:return[2,!!e.sent()]}}))}))}),this._logger)];case 1:return[2,r.sent()]}}))}))},e.prototype.setCredentials=function(e,r){return o(this,void 0,void 0,(function(){var t=this;return i(this,(function(n){switch(n.label){case 0:return[4,s.logDebugFunctionCallInfo("setCredentials",(function(){return o(t,void 0,void 0,(function(){var t=this;return i(this,(function(n){switch(n.label){case 0:return[4,this._lock.safeLock({action:"setCredentials",session:r,callBack:function(r){return o(t,void 0,void 0,(function(){var t,n;return i(this,(function(o){switch(o.label){case 0:return t=this._setCredentials,n=[r,e],[4,this._getCurrentSub(r)];case 1:return[4,t.apply(this,n.concat([o.sent()]))];case 2:return[2,o.sent()]}}))}))}})];case 1:return[2,n.sent()]}}))}))}),this._logger)];case 1:return[2,n.sent()]}}))}))},e.prototype.getCredentials=function(e){return o(this,void 0,void 0,(function(){var r=this;return i(this,(function(t){switch(t.label){case 0:return[4,s.logDebugFunctionCallInfo("getCredentials",(function(){return o(r,void 0,void 0,(function(){var r=this;return i(this,(function(t){switch(t.label){case 0:return[4,this._lock.safeLock({action:"getCredentials",session:e,callBack:function(e){return o(r,void 0,void 0,(function(){var r,t;return i(this,(function(n){switch(n.label){case 0:return r=this._getCredentials,t=[e],[4,this._getCurrentSub(e)];case 1:return[4,r.apply(this,t.concat([n.sent()]))];case 2:return[2,n.sent()]}}))}))}})];case 1:return[2,t.sent()]}}))}))}),this._logger)];case 1:return[2,t.sent()]}}))}))},e.prototype.safeLock=function(e){return o(this,void 0,void 0,(function(){var r=this;return i(this,(function(t){switch(t.label){case 0:return[4,s.logDebugFunctionCallInfo("safeLock",(function(){return o(r,void 0,void 0,(function(){return i(this,(function(r){return[2,this._lock.safeLock({action:"safeLock: "+e.action,session:e.session,timeout:e.timeout,callBack:e.callBack})]}))}))}),this._logger)];case 1:return[2,t.sent()]}}))}))},e.prototype._getCurrentSub=function(e){return o(this,void 0,void 0,(function(){var r=this;return i(this,(function(t){switch(t.label){case 0:return[4,s.logDebugFunctionCallInfo("_getCurrentSub",(function(){return o(r,void 0,void 0,(function(){var r=this;return i(this,(function(t){switch(t.label){case 0:return[4,this._lock.safeLock({action:"_getCurrentSub",session:e,callBack:function(e){return o(r,void 0,void 0,(function(){var r;return i(this,(function(t){switch(t.label){case 0:return this._credentials?(r=this._credentials.sub,[3,3]):[3,1];case 1:return[4,this._getStorageCurrentSub(e)];case 2:r=t.sent(),t.label=3;case 3:return[2,r]}}))}))}})];case 1:return[2,t.sent()]}}))}))}),this._logger)];case 1:return[2,t.sent()]}}))}))},e.prototype._getStorageCurrentSub=function(r){return o(this,void 0,void 0,(function(){var t=this;return i(this,(function(n){switch(n.label){case 0:return[4,s.logDebugFunctionCallInfo("_getStorageCurrentSub",(function(){return o(t,void 0,void 0,(function(){var t=this;return i(this,(function(n){switch(n.label){case 0:return[4,this._lock.safeLock({action:"_getStorageCurrentSub",session:r,callBack:function(r){return o(t,void 0,void 0,(function(){var t,n,o;return i(this,(function(i){switch(i.label){case 0:return this._hadGetStorageCurrentSub?[3,5]:this._config.multipleSub?[4,this._config.storage.getItem(e._currentSubSectionName)]:[3,2];case 1:return t=i.sent(),this._storageCurrentSub=t||void 0,[3,4];case 2:return[4,this._getSubList(1,r)];case 3:n=i.sent(),Array.isArray(n)&&n.length>0?(o=n[0],this._storageCurrentSub=o):this._storageCurrentSub=void 0,i.label=4;case 4:this._hadGetStorageCurrentSub=!0,i.label=5;case 5:return[2,this._storageCurrentSub]}}))}))}})];case 1:return[2,n.sent()]}}))}))}),this._logger)];case 1:return[2,n.sent()]}}))}))},e.prototype._getSubList=function(e,r){return o(this,void 0,void 0,(function(){var t=this;return i(this,(function(n){switch(n.label){case 0:return[4,s.logDebugFunctionCallInfo("_getSubList",(function(){return o(t,void 0,void 0,(function(){var t,n=this;return i(this,(function(a){switch(a.label){case 0:return t=e>0?e:0,[4,this._lock.safeLock({action:"_getSubList",session:r,callBack:function(e){return o(n,void 0,void 0,(function(){var e,r,n,o,a,s,c;return i(this,(function(i){switch(i.label){case 0:return this._logger.debug("_getSubList _lock in"),e=[],[4,this._config.storage.getLength()];case 1:r=i.sent(),n=0,i.label=2;case 2:return n<r&&(!(t>0)||e.length<=t)?[4,this._config.storage.key(n)]:[3,9];case 3:o=i.sent(),i.label=4;case 4:return o&&this._isCredentialsStorageSessionName(o)?"string"!=typeof(a=this._getSubFromCredentialsStorageSessionName(o))?[3,5]:(e.push(a),[3,7]):[3,8];case 5:return[4,this._config.storage.getItem(o)];case 6:if("string"!=typeof(s=i.sent()))return[3,8];(c=this._credentialsString2Credentials(s,!0))&&c.sub&&e.push(c.sub),i.label=7;case 7:i.label=8;case 8:return n++,[3,2];case 9:return[2,e]}}))}))}})];case 1:return[2,a.sent()]}}))}))}),this._logger)];case 1:return[2,n.sent()]}}))}))},e.prototype._setCredentials=function(r,t,n){return o(this,void 0,void 0,(function(){var a=this;return i(this,(function(c){switch(c.label){case 0:return[4,s.logDebugFunctionCallInfo("_setCredentials",(function(){return o(a,void 0,void 0,(function(){var a,s=this;return i(this,(function(c){switch(c.label){case 0:return t&&t.expires_in?(t.expires_at instanceof Date||("string"==typeof t.expires_at?t.expires_at=new Date(t.expires_at):(a=t.expires_in,a-=a>=600?120:30,t.expires_at=new Date(Date.now()+1e3*a))),[4,this._lock.safeLock({action:"_setCredentials 1",session:r,callBack:function(r){return o(s,void 0,void 0,(function(){return i(this,(function(r){switch(r.label){case 0:return this._logger.debug("_setCredentials _lock in"),[4,this._setStorageCredentials(t,t.sub)];case 1:return r.sent(),this._config.multipleSub&&t.sub?[4,this._config.storage.setItem(e._currentSubSectionName,t.sub)]:[3,3];case 2:r.sent(),r.label=3;case 3:return this._credentials=t,this._storageCurrentSub=t.sub,this._logger.debug("_setCredentials _lock out"),[2]}}))}))}})]):[3,2];case 1:return c.sent(),[3,4];case 2:return[4,this._lock.safeLock({action:"_setCredentials 2",session:r,callBack:function(r){return o(s,void 0,void 0,(function(){return i(this,(function(r){switch(r.label){case 0:return this._logger.debug("_setCredentials _lock in"),[4,this._setStorageCredentials(null,n)];case 1:return r.sent(),this._config.multipleSub?[4,this._config.storage.removeItem(e._currentSubSectionName)]:[3,3];case 2:r.sent(),r.label=3;case 3:return this._credentials=null,this._storageCurrentSub=void 0,this._logger.debug("_setCredentials _lock out"),[2]}}))}))}})];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}),this._logger)];case 1:return[2,c.sent()]}}))}))},e.prototype._getCredentials=function(r,t){return o(this,void 0,void 0,(function(){var n,a=this;return i(this,(function(u){switch(u.label){case 0:return n=function(){return o(a,void 0,void 0,(function(){var n=this;return i(this,(function(a){switch(a.label){case 0:return[4,this._lock.safeLock({action:"_getCredentials",session:r,callBack:function(r){return o(n,void 0,void 0,(function(){var n,o;return i(this,(function(i){switch(i.label){case 0:return this._logger.trace("_getCredentials _lock in",t,r),n=this._credentials,o=!1,n&&(n.sub?n.sub===t&&(o=!0):t||(o=!0)),this._logger.trace("_getCredential _lock 1",t,r),o&&(this._logger.trace("_getCredential _lock 2",t,r),o=!c(n)),this._logger.trace("_getCredential _lock 3",t,r),o?[3,7]:(this._logger.trace("_getCredential _lock 4",t,r),[4,this._getStorageCredentials(t)]);case 1:return n=i.sent(),this._logger.trace("_getCredential _lock 5",t,r),n?(this._logger.trace("_getCredential _lock 6",t,r),this._credentials=n,this._storageCurrentSub=n.sub,this._config.multipleSub&&n.sub?(this._logger.trace("_getCredential _lock 7",t,r),[4,this._config.storage.setItem(e._currentSubSectionName,n.sub)]):[3,3]):[3,4];case 2:i.sent(),i.label=3;case 3:return this._logger.trace("_getCredential _lock 8",t,r),[3,7];case 4:return this._logger.trace("_getCredential _lock 9",t,r),this._credentials=null,this._storageCurrentSub=void 0,this._config.multipleSub?(this._logger.trace("_getCredential _lock 10",t,r),[4,this._config.storage.removeItem(e._currentSubSectionName)]):[3,6];case 5:i.sent(),i.label=6;case 6:this._logger.trace("_getCredential _lock 11",t,r),i.label=7;case 7:return this._logger.trace("_getCredentials _lock out",n),[2,n]}}))}))}})];case 1:return[2,a.sent()]}}))}))},[4,s.logDebugFunctionCallInfo("_getCredentials",n,this._logger)];case 1:return[2,u.sent()]}}))}))},e.prototype._getStorageCredentials=function(e){return o(this,void 0,void 0,(function(){var r=this;return i(this,(function(t){switch(t.label){case 0:return[4,s.logDebugFunctionCallInfo("_getStorageCredentials",(function(){return o(r,void 0,void 0,(function(){var r,t;return i(this,(function(n){switch(n.label){case 0:return r=null,[4,this._config.storage.getItem(this._getCredentialsStorageSectionName(e))];case 1:if(null==(t=n.sent()))return[3,5];n.label=2;case 2:return n.trys.push([2,3,,5]),r=this._credentialsString2Credentials(t,!0),[3,5];case 3:return n.sent(),[4,this._config.storage.removeItem(this._getCredentialsStorageSectionName(e))];case 4:return n.sent(),r=null,[3,5];case 5:return[2,r]}}))}))}),this._logger)];case 1:return[2,t.sent()]}}))}))},e.prototype._setStorageCredentials=function(e,r){return o(this,void 0,void 0,(function(){var t=this;return i(this,(function(n){switch(n.label){case 0:return[4,s.logDebugFunctionCallInfo("_setStorageCredentials",(function(){return o(t,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return this._config.storage?e?(t=JSON.stringify(e),[4,this._config.storage.setItem(this._getCredentialsStorageSectionName(r),t)]):[3,2]:[3,4];case 1:return n.sent(),[3,4];case 2:return[4,this._config.storage.removeItem(this._getCredentialsStorageSectionName(r))];case 3:n.sent(),n.label=4;case 4:return[2]}}))}))}),this._logger)];case 1:return[2,n.sent()]}}))}))},e.prototype._credentialsString2Credentials=function(e,r){return s.logDebugSyncFunctionCallInfo("_credentialsString2Credentials",(function(){var t=null;try{(t=JSON.parse(e))&&t.expires_at&&(t.expires_at=new Date(t.expires_at))}catch(e){if(r)throw e}return t}),this._logger)},e.prototype._getCredentialsStorageSectionName=function(r){var t=this;return s.logDebugSyncFunctionCallInfo("_getCredentialsStorageSectionName",(function(){return t._config.multipleSub&&r?""+e._preCredentialsSectionName+t._config.clientId+e._credentialsSplitCharacter+r:""+e._preCredentialsSectionName+t._config.clientId}),this._logger)},e.prototype._isCredentialsStorageSessionName=function(e){var r=this;return s.logDebugSyncFunctionCallInfo("_isCredentialsStorageSessionName",(function(){return Array.isArray(r._spiltCredentialsSectionName(e))}),this._logger)},e.prototype._getSubFromCredentialsStorageSessionName=function(e){var r=this;return s.logDebugSyncFunctionCallInfo("_getSubFromCredentialsStorageSessionName",(function(){var t=void 0,n=r._spiltCredentialsSectionName(e);return Array.isArray(n)&&2===n.length&&n[0]===r._config.clientId&&"string"==typeof n[1]&&(t=n[1]),t}),this._logger)},e.prototype._spiltCredentialsSectionName=function(r){return s.logDebugSyncFunctionCallInfo("_spiltCredentialsSectionName",(function(){var t=null;do{if("string"!=typeof r||!r.startsWith(e._preCredentialsSectionName))break;t=r.substr(e._preCredentialsSectionName.length).split(e._credentialsSplitCharacter)}while(0);return t}),this._logger)},e._lockName="LocalCredentials-lock",e._preCredentialsSectionName="credentials_",e._currentSubSectionName="current_sub",e._credentialsSplitCharacter="@",e}();r.LocalCredentials=u},"./src/oauth2client/models.ts":function(e,r,t){"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),r.RefreshTokenActionType=void 0,(n=r.RefreshTokenActionType||(r.RefreshTokenActionType={}))[n.USER_AUTO_LOGIN=400]="USER_AUTO_LOGIN",n[n.AUTO_REFRESH=401]="AUTO_REFRESH",n[n.RECONNECT=402]="RECONNECT"},"./src/oauth2client/oauth2client.ts":function(e,r,t){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var o in r=arguments[t])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e},n.apply(this,arguments)},o=this&&this.__awaiter||function(e,r,t,n){return new(t||(t=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var r;e.done?o(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(a,s)}c((n=n.apply(e,r||[])).next())}))},i=this&&this.__generator||function(e,r){var t,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=r.call(e,a)}catch(e){i=[6,e],n=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(r,"__esModule",{value:!0}),r.OAuth2Client=r.generateRequestId=void 0;var a=t("../common-sdk/dist/utilites/response-error/index.js"),s=t("../common-sdk/dist/models/error/index.js"),c=t("../common-sdk/dist/utilites/request/index.js"),u=t("../common-sdk/dist/default-plugin/default-storage.js"),l=t("../common-sdk/dist/log/index.js"),_=t("../common-sdk/dist/default-plugin/default-request.js"),d=t("./src/common/uuid.ts"),f=t("./src/oauth2client/models.ts"),E=t("./src/oauth2client/local-credentials.ts"),p=t("./src/oauth2client/stat-info-utils.ts"),g=t("./src/auth/consts.ts"),h=t("./src/index.ts"),R=t("../common-sdk/dist/utilites/request/index.js");function I(){return d.uuidv4()}r.generateRequestId=I;var T=function(){function e(e){this._lastRefreshTokenTime=0,this._config={devMode:!0===e.devMode,statInfo:e.statInfo?e.statInfo:{},apiOrigins:e.apiOrigins,clientId:e.clientId,clientSecret:e.clientSecret,baseRequest:"function"==typeof e.baseRequest?e.baseRequest:_.defaultRequest,headers:e.headers,storage:e.storage||new u.DefaultStorage,refreshTokenFunc:"function"==typeof e.refreshTokenFunc?e.refreshTokenFunc:this._defaultRefreshTokenFunc.bind(this)},this._requestClient=new c.RequestClient({apiOrigins:this._config.apiOrigins,requestFunction:this._config.baseRequest,retry:e.retry,logLevel:e.logLevel,console:e.console}),this._localCredentials=new E.LocalCredentials({multipleSub:e.multipleSub,clientId:e.clientId,storage:this._config.storage,console:e.console,logLevel:e.logLevel}),this._logger=new l.Logger({packageName:"@xbase/sdk",className:"OAuth2Client",logLevel:e.logLevel,console:e.console})}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logger.logLevel},set:function(e){this._logger.logLevel=e,this._localCredentials.logLevel=e},enumerable:!1,configurable:!0}),e.prototype.hasCredentials=function(){return o(this,void 0,void 0,(function(){var e=this;return i(this,(function(r){switch(r.label){case 0:return[4,l.logDebugFunctionCallInfo("hasCredentials",(function(){return o(e,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,this._localCredentials.hasCredentials()];case 1:return[2,e.sent()]}}))}))}),this._logger)];case 1:return[2,r.sent()]}}))}))},e.prototype.getCredentials=function(){return o(this,void 0,void 0,(function(){var e=this;return i(this,(function(r){switch(r.label){case 0:return[4,l.logDebugFunctionCallInfo("getCredentials",(function(){return o(e,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,this._localCredentials.getCredentials()];case 1:return[2,e.sent()]}}))}))}),this._logger)];case 1:return[2,r.sent()]}}))}))},e.prototype.autoLogin=function(e){return o(this,void 0,void 0,(function(){var r=this;return i(this,(function(t){switch(t.label){case 0:return[4,l.logDebugFunctionCallInfo("autoLogin",(function(){return o(r,void 0,void 0,(function(){return i(this,(function(r){switch(r.label){case 0:return[4,this._getCredentials(!1,!0,e)];case 1:return r.sent().credentials?[2]:[2,Promise.reject({error:s.ErrorType.UNAUTHENTICATED,error_code:s.ErrorCodeType.UNAUTHENTICATED})]}}))}))}),this._logger)];case 1:return[2,t.sent()]}}))}))},e.prototype.isAnonymous=function(){return o(this,void 0,void 0,(function(){var e=this;return i(this,(function(r){switch(r.label){case 0:return[4,l.logDebugFunctionCallInfo("isAnonymous",(function(){return o(e,void 0,void 0,(function(){var e;return i(this,(function(r){switch(r.label){case 0:return[4,this._localCredentials.getCredentials()];case 1:return[2,!!((e=r.sent())&&"string"==typeof e.sub&&e.sub.length>5&&e.sub.startsWith("AMS="))]}}))}))}),this._logger)];case 1:return[2,r.sent()]}}))}))},e.prototype.switchSub=function(e){return o(this,void 0,void 0,(function(){var r=this;return i(this,(function(t){switch(t.label){case 0:return[4,l.logDebugFunctionCallInfo("switchSub",(function(){return o(r,void 0,void 0,(function(){return i(this,(function(r){switch(r.label){case 0:return[4,this._localCredentials.switchSub(e)];case 1:return[2,r.sent()]}}))}))}),this._logger)];case 1:return[2,t.sent()]}}))}))},e.prototype.getCurrentSub=function(){return o(this,void 0,void 0,(function(){var e=this;return i(this,(function(r){switch(r.label){case 0:return[4,l.logDebugFunctionCallInfo("getCurrentSub",(function(){return o(e,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,this._localCredentials.getCurrentSub()];case 1:return[2,e.sent()]}}))}))}),this._logger)];case 1:return[2,r.sent()]}}))}))},e.prototype.getSubList=function(){return o(this,void 0,void 0,(function(){var e=this;return i(this,(function(r){switch(r.label){case 0:return[4,l.logDebugFunctionCallInfo("getSubList",(function(){return o(e,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,this._localCredentials.getSubList()];case 1:return[2,e.sent()]}}))}))}),this._logger)];case 1:return[2,r.sent()]}}))}))},e.prototype.setCredentials=function(e){return o(this,void 0,void 0,(function(){var r=this;return i(this,(function(t){switch(t.label){case 0:return[4,l.logDebugFunctionCallInfo("setCredentials",(function(){return o(r,void 0,void 0,(function(){return i(this,(function(r){switch(r.label){case 0:return[4,this._localCredentials.setCredentials(e)];case 1:return[2,r.sent()]}}))}))}),this._logger)];case 1:return[2,t.sent()]}}))}))},e.prototype.getSub=function(){return o(this,void 0,void 0,(function(){var e=this;return i(this,(function(r){switch(r.label){case 0:return[4,l.logDebugFunctionCallInfo("getSub",(function(){return o(e,void 0,void 0,(function(){var e;return i(this,(function(r){switch(r.label){case 0:return[4,this._localCredentials.getCredentials()];case 1:return(e=r.sent())?[2,Promise.resolve(e.sub)]:[2,Promise.reject({error:s.ErrorType.UNAUTHENTICATED,error_code:s.ErrorCodeType.UNAUTHENTICATED})]}}))}))}),this._logger)];case 1:return[2,r.sent()]}}))}))},e.prototype.getAccessToken=function(){return o(this,void 0,void 0,(function(){var e=this;return i(this,(function(r){switch(r.label){case 0:return[4,l.logDebugFunctionCallInfo("getAccessToken",(function(){return o(e,void 0,void 0,(function(){var e,r;return i(this,(function(t){switch(t.label){case 0:return[4,this._getCredentials(!1,!1)];case 1:return e=t.sent(),(r=e.credentials)&&r.access_token?[2,Promise.resolve(r.access_token)]:r?[4,this._localCredentials.setCredentials(null)]:[3,3];case 2:t.sent(),t.label=3;case 3:return[2,Promise.reject({error:s.ErrorType.UNAUTHENTICATED,error_code:s.ErrorCodeType.UNAUTHENTICATED})]}}))}))}),this._logger)];case 1:return[2,r.sent()]}}))}))},e.prototype.introspectCredentials=function(){return o(this,void 0,void 0,(function(){var e=this;return i(this,(function(r){switch(r.label){case 0:return[4,l.logDebugFunctionCallInfo("introspectCredentials",(function(){return o(e,void 0,void 0,(function(){var e,r,t,n;return i(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,7]),r=g.ApiUrls.AUTH_TOKEN_INTROSPECT_URL+"?token=",[4,this.getAccessToken()];case 1:return e=r+o.sent(),[4,this.request(e,{method:"GET"})];case 2:return o.sent(),[2,!0];case 3:return t=o.sent(),(n=h.toResponseError(t)).error!==s.ErrorType.UNAUTHENTICATED&&n.error!==s.ErrorType.INVALID_GRANT&&n.error!==s.ErrorType.UNAUTHORIZED_CLIENT?[3,5]:[4,this.setCredentials()];case 4:return o.sent(),[2,!1];case 5:return[2,Promise.reject(n)];case 6:return[3,7];case 7:return[2]}}))}))}),this._logger)];case 1:return[2,r.sent()]}}))}))},e.prototype.request=function(e,r){return o(this,void 0,void 0,(function(){var t=this;return i(this,(function(u){switch(u.label){case 0:return[4,l.logDebugFunctionCallInfo("request",(function(){return o(t,void 0,void 0,(function(){var t,u,l,_,d,f=this;return i(this,(function(E){return(t=r||{}).headers=t.headers||{},this._config.headers&&(t.headers=n(n({},this._config.headers),t.headers)),u=t.withCredentials||!1,l=!0===t.renewCredentials,_=!1,d=0,[2,this._requestClient.request({url:e,requestOptions:t,beforeRequestOfRequestClientCallback:function(e){return o(f,void 0,void 0,(function(){var r,t,o;return i(this,(function(i){switch(i.label){case 0:return(r=n({},e.requestOptions)).headers=r.headers||{},u?[4,this._getCredentials(!_&&l,!1)]:[3,2];case 1:(t=i.sent()).hadRefreshToken&&(_=!0),t.credentials&&(r.headers.Authorization=t.credentials.token_type+" "+t.credentials.access_token),i.label=2;case 2:return R.isURIStartWithApiOrigins(e.url,this._config.apiOrigins)&&(o=void 0,this._config.devMode&&(r.headers["x-request-id"]||(o=I())),r.headers=n(n({},p.statInfo2StatHeaders(this._config.statInfo,this._config.clientId,o)),r.headers)),[2,{url:e.url,requestOptions:r}]}}))}))},afterRequestOfRequestClientCallback:function(e){return o(f,void 0,void 0,(function(){var r,t;return i(this,(function(n){switch(n.label){case 0:return r=!1,t=!0,a.isResponseError(e.response)&&e.response?u&&e.response.error===s.ErrorType.UNAUTHENTICATED?0!==d?[3,1]:(_||(t=!1),l=!0,r=!0,[3,3]):[3,4]:[3,5];case 1:return[4,this._localCredentials.setCredentials(null)];case 2:n.sent(),n.label=3;case 3:return d++,[3,5];case 4:c.isTargetUrlUnreachable(e.url,e.response)&&(r=!0),n.label=5;case 5:return[2,{needRetry:r,costRetry:t,result:e.response}]}}))}))}})]}))}))}),this._logger)];case 1:return[2,u.sent()]}}))}))},e.prototype._refreshToken=function(e,r,t){return o(this,void 0,void 0,(function(){var n=this;return i(this,(function(a){switch(a.label){case 0:return[4,l.logDebugFunctionCallInfo("_refreshToken",(function(){return o(n,void 0,void 0,(function(){var n,o,a,c;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,6]),[4,this._config.refreshTokenFunc(e,r)];case 1:return n=i.sent(),[4,this._localCredentials.setCredentials(n,t)];case 2:return i.sent(),[3,6];case 3:return o=i.sent(),(a=h.toResponseError(o)).error!==s.ErrorType.UNAUTHENTICATED&&a.error!==s.ErrorType.INVALID_GRANT&&a.error!==s.ErrorType.UNAUTHORIZED_CLIENT?[3,5]:[4,this._localCredentials.setCredentials(null,t)];case 4:i.sent(),i.label=5;case 5:return a.error===s.ErrorType.INVALID_GRANT||a.error===s.ErrorType.UNAUTHORIZED_CLIENT?[2,Promise.reject({error:s.ErrorType.UNAUTHENTICATED,error_code:s.ErrorCodeType.UNAUTHENTICATED,error_description:"original error("+a.error+") | original error_description("+a.error_description+")"})]:[2,Promise.reject(o)];case 6:return[4,this._localCredentials.getCredentials(t)];case 7:return(c=i.sent())?[2,c]:[2,Promise.reject({error:s.ErrorType.UNAUTHENTICATED,error_code:s.ErrorCodeType.UNAUTHENTICATED})]}}))}))}),this._logger)];case 1:return[2,a.sent()]}}))}))},e.prototype._defaultRefreshTokenFunc=function(e,r){return o(this,void 0,void 0,(function(){var t=this;return i(this,(function(a){switch(a.label){case 0:return[4,l.logDebugFunctionCallInfo("_defaultRefreshTokenFunc",(function(){return o(t,void 0,void 0,(function(){var t;return i(this,(function(o){switch(o.label){case 0:if(!e||!e.refresh_token)throw{error:s.ErrorType.UNAUTHENTICATED,error_code:s.ErrorCodeType.UNAUTHENTICATED,error_description:"refresh token not found"};return(t=n({},p.statInfo2StatHeaders(this._config.statInfo,this._config.clientId,this._config.devMode?I():void 0)))["x-action"]=""+r,[4,this._requestClient.request({url:g.ApiUrls.AUTH_TOKEN_URL,requestOptions:{method:"POST",headers:t,body:{client_id:this._config.clientId,client_secret:this._config.clientSecret,grant_type:"refresh_token",refresh_token:e.refresh_token}}})];case 1:return[2,o.sent()]}}))}))}),this._logger)];case 1:return[2,a.sent()]}}))}))},e.prototype._getCredentials=function(e,r,t){return void 0===t&&(t=f.RefreshTokenActionType.AUTO_REFRESH),o(this,void 0,void 0,(function(){var n=this;return i(this,(function(a){switch(a.label){case 0:return[4,l.logDebugFunctionCallInfo("_getCredentials",(function(){return o(n,void 0,void 0,(function(){var n=this;return i(this,(function(a){switch(a.label){case 0:return this._logger.trace("_getCredentials 0"),[4,this._localCredentials.safeLock({action:"OAuth2Client::_getCredentials",callBack:function(a){return o(n,void 0,void 0,(function(){var n,o,s;return i(this,(function(i){switch(i.label){case 0:return this._logger.trace("_getCredentials 1"),n=!1,[4,this._localCredentials.getCredentials(a)];case 1:return o=i.sent(),this._logger.trace("_getCredentials 2"),o?(this._logger.trace("_getCredentials 3"),s=r||E.isCredentialsExpired(o),this._logger.trace("_getCredentials 4"),s||(this._logger.trace("_getCredentials 5"),((new Date).getTime()-this._lastRefreshTokenTime)/1e3<120&&(this._logger.trace("_getCredentials 6"),e=!1,this._logger.trace("_getCredentials 7")),this._logger.trace("_getCredentials 8")),this._logger.trace("_getCredentials 9"),e||s?(this._logger.trace("_getCredentials 10"),[4,this._refreshToken(o,t,a)]):[3,3]):[3,4];case 2:o=i.sent(),this._logger.trace("_getCredentials 11"),n=!0,this._lastRefreshTokenTime=(new Date).getTime(),this._logger.trace("_getCredentials 12"),i.label=3;case 3:this._logger.trace("_getCredentials 13"),i.label=4;case 4:return this._logger.trace("_getCredentials 14"),[2,{credentials:o,hadRefreshToken:n}]}}))}))}})];case 1:return[2,a.sent()]}}))}))}),this._logger)];case 1:return[2,a.sent()]}}))}))},e}();r.OAuth2Client=T},"./src/oauth2client/stat-info-utils.ts":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.statInfo2StatHeaders=void 0,r.statInfo2StatHeaders=function(e,r,t){var n={"x-client-id":r,"x-sdk-version":"5.2.0","x-protocol-version":"301"};return e&&("string"==typeof e.clientVersion&&(n["x-client-version"]=encodeURIComponent(e.clientVersion)),"string"==typeof e.deviceName&&(n["x-device-name"]=encodeURIComponent(e.deviceName)),"string"==typeof e.deviceModel&&(n["x-device-model"]=encodeURIComponent(e.deviceModel)),"string"==typeof e.netWorkType&&(n["x-net-work-type"]=encodeURIComponent(e.netWorkType)),"string"==typeof e.osVersion&&(n["x-os-version"]=encodeURIComponent(e.osVersion)),"string"==typeof e.platformVersion&&(n["x-platform-version"]=encodeURIComponent(e.platformVersion)),"string"==typeof e.providerName&&(n["x-provider-name"]=encodeURIComponent(e.providerName)),"string"==typeof e.deviceId&&(n["x-device-id"]=encodeURIComponent(e.deviceId)),"string"==typeof e.deviceSign&&(n["x-device-sign"]=encodeURIComponent(e.deviceSign)),"string"==typeof e.clientChannelId&&(n["x-client-channel-id"]=encodeURIComponent(e.clientChannelId)),"string"==typeof e.peerId&&(n["x-peer-id"]=encodeURIComponent(e.peerId))),"string"==typeof t&&(n["x-request-id"]=encodeURIComponent(t)),n}},"./src/oauth2client/utility.ts":function(e,r,t){"use strict";var n=this&&this.__awaiter||function(e,r,t,n){return new(t||(t=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var r;e.done?o(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(a,s)}c((n=n.apply(e,r||[])).next())}))},o=this&&this.__generator||function(e,r){var t,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=r.call(e,a)}catch(e){i=[6,e],n=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(r,"__esModule",{value:!0}),r.migrateSingleSubData2MultipleSubData=void 0;var i=t("./src/oauth2client/oauth2client.ts");r.migrateSingleSubData2MultipleSubData=function(e,r,t){return n(this,void 0,void 0,(function(){var n,a;return o(this,(function(o){switch(o.label){case 0:return[4,(n=new i.OAuth2Client({multipleSub:!1,apiOrigins:e,clientId:r,storage:t})).getCredentials()];case 1:return a=o.sent(),[4,n.setCredentials()];case 2:return o.sent(),a?[4,new i.OAuth2Client({multipleSub:!0,apiOrigins:e,clientId:r,storage:t}).setCredentials(a)]:[3,4];case 3:o.sent(),o.label=4;case 4:return[2]}}))}))}}}))},487:e=>{var r={utf8:{stringToBytes:function(e){return r.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(r.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var r=[],t=0;t<e.length;t++)r.push(255&e.charCodeAt(t));return r},bytesToString:function(e){for(var r=[],t=0;t<e.length;t++)r.push(String.fromCharCode(e[t]));return r.join("")}}};e.exports=r},1012:e=>{var r,t;r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t={rotl:function(e,r){return e<<r|e>>>32-r},rotr:function(e,r){return e<<32-r|e>>>r},endian:function(e){if(e.constructor==Number)return 16711935&t.rotl(e,8)|4278255360&t.rotl(e,24);for(var r=0;r<e.length;r++)e[r]=t.endian(e[r]);return e},randomBytes:function(e){for(var r=[];e>0;e--)r.push(Math.floor(256*Math.random()));return r},bytesToWords:function(e){for(var r=[],t=0,n=0;t<e.length;t++,n+=8)r[n>>>5]|=e[t]<<24-n%32;return r},wordsToBytes:function(e){for(var r=[],t=0;t<32*e.length;t+=8)r.push(e[t>>>5]>>>24-t%32&255);return r},bytesToHex:function(e){for(var r=[],t=0;t<e.length;t++)r.push((e[t]>>>4).toString(16)),r.push((15&e[t]).toString(16));return r.join("")},hexToBytes:function(e){for(var r=[],t=0;t<e.length;t+=2)r.push(parseInt(e.substr(t,2),16));return r},bytesToBase64:function(e){for(var t=[],n=0;n<e.length;n+=3)for(var o=e[n]<<16|e[n+1]<<8|e[n+2],i=0;i<4;i++)8*n+6*i<=8*e.length?t.push(r.charAt(o>>>6*(3-i)&63)):t.push("=");return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var t=[],n=0,o=0;n<e.length;o=++n%4)0!=o&&t.push((r.indexOf(e.charAt(n-1))&Math.pow(2,-2*o+8)-1)<<2*o|r.indexOf(e.charAt(n))>>>6-2*o);return t}},e.exports=t},8738:e=>{function r(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(r(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&r(e.slice(0,0))}(e)||!!e._isBuffer)}},2568:(e,r,t)=>{var n,o,i,a,s;n=t(1012),o=t(487).utf8,i=t(8738),a=t(487).bin,(s=function(e,r){e.constructor==String?e=r&&"binary"===r.encoding?a.stringToBytes(e):o.stringToBytes(e):i(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var t=n.bytesToWords(e),c=8*e.length,u=1732584193,l=-271733879,_=-1732584194,d=271733878,f=0;f<t.length;f++)t[f]=16711935&(t[f]<<8|t[f]>>>24)|4278255360&(t[f]<<24|t[f]>>>8);t[c>>>5]|=128<<c%32,t[14+(c+64>>>9<<4)]=c;var E=s._ff,p=s._gg,g=s._hh,h=s._ii;for(f=0;f<t.length;f+=16){var R=u,I=l,T=_,O=d;u=E(u,l,_,d,t[f+0],7,-680876936),d=E(d,u,l,_,t[f+1],12,-389564586),_=E(_,d,u,l,t[f+2],17,606105819),l=E(l,_,d,u,t[f+3],22,-1044525330),u=E(u,l,_,d,t[f+4],7,-176418897),d=E(d,u,l,_,t[f+5],12,1200080426),_=E(_,d,u,l,t[f+6],17,-1473231341),l=E(l,_,d,u,t[f+7],22,-45705983),u=E(u,l,_,d,t[f+8],7,1770035416),d=E(d,u,l,_,t[f+9],12,-1958414417),_=E(_,d,u,l,t[f+10],17,-42063),l=E(l,_,d,u,t[f+11],22,-1990404162),u=E(u,l,_,d,t[f+12],7,1804603682),d=E(d,u,l,_,t[f+13],12,-40341101),_=E(_,d,u,l,t[f+14],17,-1502002290),u=p(u,l=E(l,_,d,u,t[f+15],22,1236535329),_,d,t[f+1],5,-165796510),d=p(d,u,l,_,t[f+6],9,-1069501632),_=p(_,d,u,l,t[f+11],14,643717713),l=p(l,_,d,u,t[f+0],20,-373897302),u=p(u,l,_,d,t[f+5],5,-701558691),d=p(d,u,l,_,t[f+10],9,38016083),_=p(_,d,u,l,t[f+15],14,-660478335),l=p(l,_,d,u,t[f+4],20,-405537848),u=p(u,l,_,d,t[f+9],5,568446438),d=p(d,u,l,_,t[f+14],9,-1019803690),_=p(_,d,u,l,t[f+3],14,-187363961),l=p(l,_,d,u,t[f+8],20,1163531501),u=p(u,l,_,d,t[f+13],5,-1444681467),d=p(d,u,l,_,t[f+2],9,-51403784),_=p(_,d,u,l,t[f+7],14,1735328473),u=g(u,l=p(l,_,d,u,t[f+12],20,-1926607734),_,d,t[f+5],4,-378558),d=g(d,u,l,_,t[f+8],11,-2022574463),_=g(_,d,u,l,t[f+11],16,1839030562),l=g(l,_,d,u,t[f+14],23,-35309556),u=g(u,l,_,d,t[f+1],4,-1530992060),d=g(d,u,l,_,t[f+4],11,1272893353),_=g(_,d,u,l,t[f+7],16,-155497632),l=g(l,_,d,u,t[f+10],23,-1094730640),u=g(u,l,_,d,t[f+13],4,681279174),d=g(d,u,l,_,t[f+0],11,-358537222),_=g(_,d,u,l,t[f+3],16,-722521979),l=g(l,_,d,u,t[f+6],23,76029189),u=g(u,l,_,d,t[f+9],4,-640364487),d=g(d,u,l,_,t[f+12],11,-421815835),_=g(_,d,u,l,t[f+15],16,530742520),u=h(u,l=g(l,_,d,u,t[f+2],23,-995338651),_,d,t[f+0],6,-198630844),d=h(d,u,l,_,t[f+7],10,1126891415),_=h(_,d,u,l,t[f+14],15,-1416354905),l=h(l,_,d,u,t[f+5],21,-57434055),u=h(u,l,_,d,t[f+12],6,1700485571),d=h(d,u,l,_,t[f+3],10,-1894986606),_=h(_,d,u,l,t[f+10],15,-1051523),l=h(l,_,d,u,t[f+1],21,-2054922799),u=h(u,l,_,d,t[f+8],6,1873313359),d=h(d,u,l,_,t[f+15],10,-30611744),_=h(_,d,u,l,t[f+6],15,-1560198380),l=h(l,_,d,u,t[f+13],21,1309151649),u=h(u,l,_,d,t[f+4],6,-145523070),d=h(d,u,l,_,t[f+11],10,-1120210379),_=h(_,d,u,l,t[f+2],15,718787259),l=h(l,_,d,u,t[f+9],21,-343485551),u=u+R>>>0,l=l+I>>>0,_=_+T>>>0,d=d+O>>>0}return n.endian([u,l,_,d])})._ff=function(e,r,t,n,o,i,a){var s=e+(r&t|~r&n)+(o>>>0)+a;return(s<<i|s>>>32-i)+r},s._gg=function(e,r,t,n,o,i,a){var s=e+(r&n|t&~n)+(o>>>0)+a;return(s<<i|s>>>32-i)+r},s._hh=function(e,r,t,n,o,i,a){var s=e+(r^t^n)+(o>>>0)+a;return(s<<i|s>>>32-i)+r},s._ii=function(e,r,t,n,o,i,a){var s=e+(t^(r|~n))+(o>>>0)+a;return(s<<i|s>>>32-i)+r},s._blocksize=16,s._digestsize=16,e.exports=function(e,r){if(null==e)throw new Error("Illegal argument "+e);var t=n.wordsToBytes(s(e,r));return r&&r.asBytes?t:r&&r.asString?a.bytesToString(t):n.bytesToHex(t)}},6101:(e,r,t)=>{"use strict";t.d(r,{I4:()=>n,_B:()=>i,lI:()=>s,pD:()=>a,yh:()=>o});const n="Ypcug64Odf8hwuKB",o={apiOrigins:["https://user.mypikpak.com"],clientId:n},i="https://mypikpak.com",a="YUMx5nI8ZU8Ap8pm",s="https://api-drive.mypikpak.com"},7458:(e,r,t)=>{"use strict";var n,o,i,a,s,c,u;t.d(r,{BU:()=>o,Lg:()=>c,RG:()=>s,bC:()=>u,gd:()=>i,js:()=>a}),function(e){e.OPTIONS_UPDATED="OPTIONS_UPDATED"}(n||(n={})),function(e){e.OPTIONS_SETTING="OPTIONS_SETTING",e.OPTIONS_BAND_LIST="OPTIONS_BAND_LIST",e.PLUGIN_USER_INFO="PLUGIN_USER_INFO",e.PLUGIN_FAKER_STORAGE="PLUGIN_FAKER_STORAGE",e.FORBIDDEN_INFO="FORBIDDEN_INFO",e.INSTALL_INFO="INSTALL_INFO",e.INSTALL_REWARD="INSTALL_REWARD",e.BROWSER_FINGERPRINT="BROWSER_FINGERPRINT"}(o||(o={})),function(e){e.MAIN_CONTROL="mainControl",e.INSERT_BUTTON_CONDITION="insertButtonCondition",e.SELECTED_INSERT_BUTTON_SETTING="selectedInsertButtonSetting",e.ANALYZE_CLIPBOARD_CONTENT="analyzeClipboardContent",e.ANALYZE_BROWSER_DOWNLOAD_CONTENT="analyzeBrowserDownloadContent"}(i||(i={})),function(e){e.LOGIN_REQUEST="LOGIN_REQUEST",e.LOGIN_BY_CODE="LOGIN_BY_CODE",e.LANDING_PAGE_HEIGHT="LANDING_PAGE_HEIGHT",e.CHANGE_LANGUAGE="CHANGE_LANGUAGE",e.TASK_EVENT_TRACK="TASK_EVENT_TRACK",e.SHOW_LANDING_PAGE="SHOW_LANDING_PAGE",e.RELOAD_LANDING_PAGE="RELOAD_LANDING_PAGE",e.SHOW_ADD_RESOURCE_URL_MODAL="SHOW_ADD_RESOURCE_URL_MODAL",e.STOP_DOWNLOAD_LISTENER="STOP_DOWNLOAD_LISTENER",e.STOP_CLIPBOARD_LISTENER="STOP_CLIPBOARD_LISTENER",e.SEND_USERINFO="SEND_USERINFO",e.BOOKMARKS_LISTENER="BOOKMARKS_LISTENER",e.REQUEST="REQUEST",e.DETECT_BROWSER_EXTENSION="DETECT_BROWSER_EXTENSION",e.EXTENSION_IS_LOGIN_VALID="EXTENSION_IS_LOGIN_VALID",e.CHECK_EXTENSION_INSTALL="CHECK_EXTENSION_INSTALL",e.GET_AUTH_LOGIN_INFO="GET_AUTH_LOGIN_INFO",e.OPEN_OPTION_PAGE="OPEN_OPTION_PAGE",e.CLOSE_LANDING_PAGE="CLOSE_LANDING_PAGE"}(a||(a={})),function(e){e.AUTOMATIC="automatic",e.HOVER="hover",e.SELECT="select",e.RIGHT="right",e.DOWNLOAD_MONITOR="download_monitor",e.CLIPBOARD="clipboard",e.ADD_LINK_POPUP="add_link_popup",e.BOOKMARK_UPDATE_DONE="bookmark_update_done"}(s||(s={})),function(e){e.LoginByAuthorizeCode="LoginByAuthorizeCode",e.FetchedUserInfo="FetchedUserInfo",e.GetPluginUserInfo="GetPluginUserInfo",e.GetPluginAuthorizeCode="GetPluginAuthorizeCode",e.PluginLogout_Callback="PluginLogout_Callback",e.GetAuthorizeCode_Callback="GetAuthorizeCode_Callback",e.GetTaskInTransmissionNumber_Callback="GetTaskInTransmissionNumber_Callback",e.OpenOptionsPage="OpenOptionsPage",e.PluginAddTask="PluginAddTask",e.TransmissionTaskNumberUpdate="TransmissionTaskNumberUpdate",e.IsValidLoginStatus_Callback="IsValidLoginStatus_Callback",e.AddUrlToDrive="AddUrlToDrive",e.BrowserDownloadHook="BrowserDownloadHook",e.InstallRewardVip_Callback="InstallRewardVip_Callback",e.IsAccessibleIp_Callback="IsAccessibleIp_Callback",e.KEEP_HEART_BEAT="KEEP_HEART_BEAT",e.OAUTH_LOGIN_SUCCESS="OAUTH_LOGIN_SUCCESS",e.GET_USER_INFO_TIMEOUT="GET_USER_INFO_TIMEOUT",e.PLUGIN_ERROR_CODE="PLUGIN_ERROR_CODE",e.QUERY_PIKPAK_WINDOWS_STATUS="QUERY_PIKPAK_WINDOWS_STATUS",e.UseAppHandleResourceLinks_Callback="UseAppHandleResourceLinks_Callback",e.BOOKMARKS_UPDATE="BOOKMARKS_UPDATE",e.BookmarksInit_Callback="BookmarksInit_Callback",e.BOOKMARKS_UPDATE_CLICK="BOOKMARKS_UPDATE_CLICK"}(c||(c={})),function(e){e.TIME_OUT="PK_000001",e.INIT_PLUGIN_DATA="PK_000002",e.LOGIN_BY_AUTHORIZE_CODE="PK_000003",e.SEND_USER_INFO="PK_000004"}(u||(u={}))},7467:(e,r,t)=>{"use strict";var n;t.d(r,{Lw:()=>i,ip:()=>a,u7:()=>o}),function(e){e.BASIC_SETTING="basic-setting",e.USE_DOC="use-doc",e.ABOUT_PIKPAK="about-pikpak"}(n||(n={}));const o="my-site",i="My Links",a={mainControl:!0,insertButtonCondition:"auto",selectedInsertButtonSetting:!1,analyzeClipboardContent:!0,analyzeBrowserDownloadContent:!0,lastSelectFolder:i}},5141:(e,r,t)=>{"use strict";t.d(r,{$t:()=>_});var n=t(9890),o=t(6687),i=t(9594),a=t(8446),s=t(9192),c=t(7697);const u={"zh-CN":n,"zh-TW":o,"en-US":i,en:i,id:a,ms:s,ko:c},l=()=>"undefined"!=typeof window&&window.navigator?window.navigator.language:"undefined"!=typeof chrome?chrome.i18n.getUILanguage():"en",_=e=>Object.keys(u).includes(l())&&u[l()][e]?u[l()][e]:i[e]||e},692:(e,r,t)=>{"use strict";t.d(r,{r:()=>i});var n=t(3611);const o=e=>!!e.type,i={emit(e,r,t){t?chrome.runtime.sendMessage({type:e,data:r},t):chrome.runtime.sendMessage({type:e,data:r}).catch((()=>{(0,n.cn)()}))},on(e,r){const[t,n]=e.split("_");n?chrome.runtime.onMessage.addListener(((t,n,i)=>{if(!o(t))return!1;const{type:a,data:s}=t;return a===e&&(r(s).then((e=>{i({response:e})})),!0)})):chrome.runtime.onMessage.addListener((t=>{if(!o(t))return;const{type:n,data:i}=t;n===e&&r(i)}))}}},5096:(e,r,t)=>{"use strict";t.a(e,(async(e,n)=>{try{t.d(r,{AR:()=>I,DE:()=>_,De:()=>v,R2:()=>T,_T:()=>A,fT:()=>O,ff:()=>h,tX:()=>R});var o=t(7467),i=t(7458),a=t(5141),s=t(3611),c=t(4679),u=t(756),l=e([c,u]);[c,u]=l.then?(await l)():l;const _="pp-menu-bookmarks",d=()=>[{folder:o.Lw,list:[]}],f=async()=>{const e=JSON.stringify(d());try{const r=await(0,c.Yx)("bookmark"),t=r?.settings?.bookmark;return t||e}catch(r){return console.info("fetch bookmarks failure: ",r),e}},E=async()=>{try{const e=await f();return JSON.parse(e)}catch(e){return console.info("fetch bookmarks failure: ",e),d()}},p=async e=>{try{await(0,c.iW)("bookmark",JSON.stringify(e))}catch(e){console.info("save bookmarks failure: ",e)}};let g=!1;const h=()=>{g||(chrome.contextMenus.create({id:_,documentUrlPatterns:["*://*/*"],type:"normal",contexts:["page"],title:(0,a.$t)("bookmark-to-pp")},(()=>{chrome.runtime.lastError&&console.info("Create contextmenu error:",chrome.runtime.lastError.message)})),g=!0)},R=()=>{g&&chrome.contextMenus.update(_,{title:(0,a.$t)("bookmark-to-pp")})},I=()=>{chrome.contextMenus.remove(_),g=!1},T=async(e,r)=>{if(r?.id)try{let{title:t}=r,n=!1;const{url:c,favIconUrl:u}=r,l=(await(0,s.pp)(i.BU.OPTIONS_SETTING))[i.BU.OPTIONS_SETTING],d=await E(),f=[];let p=l.lastSelectFolder||d[0].folder||o.Lw;d.forEach((({folder:e,list:r})=>{f.push({value:e,label:e===o.Lw||e===o.u7?(0,a.$t)("my-site"):e});const i=r.find((e=>e.href===c));i&&(p=e,n=!0,t=i.title)})),chrome.contextMenus.update(_,{title:n?(0,a.$t)("bookmark-in-pp"):(0,a.$t)("bookmark-to-pp")}),await chrome.tabs.sendMessage(r.id,{type:i.js.BOOKMARKS_LISTENER,data:{...e,icon:u,href:c,title:t,folders:f,hasAdd:n,originFolder:p,belongFolder:p}})}catch(e){console.info("Failed to add bookmark by PikPak context menu: ",e)}},O=async()=>{try{const e=(await chrome.tabs.query({active:!0,currentWindow:!0}))[0];return await T({},e)}catch(e){console.info("handle bookmarks update click error: ",e)}},v=async e=>{try{const{icon:r,title:t,href:n,type:o,belongFolder:c,originFolder:l}=e,d={icon:r,title:t,href:n,date:`${Date.now()}`},f=await E();let g=!1;const h=f.reduce(((e,r)=>{const{folder:t}=r;let{list:i}=r;if(l!==c&&l===t)i=i.filter((e=>e.href!==n));else if(c===t)if("cancel"===o)i=i.filter((e=>e.href!==n));else{const e=i.findIndex((e=>e.href===n));if(-1===e)i.push(d);else{const r=i[e];i[e]={...r,...d}}g=!0}return e.push({folder:t,list:i}),e}),[]),R=(await(0,s.pp)(i.BU.OPTIONS_SETTING))[i.BU.OPTIONS_SETTING];R.lastSelectFolder=c,await(0,s.QZ)(i.BU.OPTIONS_SETTING,{...R}),p(h).finally((()=>{(0,u.J4)({type:i.js.BOOKMARKS_LISTENER,data:{scene:i.RG.BOOKMARK_UPDATE_DONE,...d}})})),chrome.contextMenus.update(_,{title:g?(0,a.$t)("bookmark-in-pp"):(0,a.$t)("bookmark-to-pp")})}catch(e){console.info("Failed to update bookmark: ",e)}},A=async()=>{const e={hasAdd:!1,bookmarks:d()};try{if(!await(0,u.wu)())return e;const r=(await chrome.tabs.query({active:!0,currentWindow:!0}))[0];if(!r)return e;const t=await E();return t&&t.length>0&&(e.bookmarks=t,t.forEach((({list:t})=>{t.some((e=>e.href===r.url))&&(e.hasAdd=!0)}))),h(),chrome.contextMenus.update(_,{title:e.hasAdd?(0,a.$t)("bookmark-in-pp"):(0,a.$t)("bookmark-to-pp")}),e}catch(r){return console.info("handle bookmarks init error: ",r),e}};n()}catch(e){n(e)}}))},3373:(e,r,t)=>{"use strict";t.d(r,{G:()=>n});const n=async()=>{try{const e=new Array(10).fill(0).map(((e,r)=>{const t=`http://127.0.0.1:${19998+r}/windows/client-status`;return new Promise((e=>{setTimeout((()=>e(void 0)),1e3),fetch(t).then((r=>{r.json().then(e).catch((()=>e(void 0)))})).catch((()=>e(void 0)))}))}));return(await Promise.all(e)).filter((e=>!!e))}catch{return[{}]}}},2064:(e,r,t)=>{"use strict";t.a(e,(async(e,n)=>{try{t.d(r,{Bj:()=>b,DL:()=>I,N9:()=>A,Nw:()=>v,OP:()=>T,OZ:()=>O,TJ:()=>C,Vb:()=>S,WY:()=>g,cv:()=>y,fD:()=>N,fc:()=>U,i9:()=>m,iK:()=>p,ih:()=>k,k6:()=>L,uf:()=>h,zz:()=>R});var o=t(7467),i=t(7458),a=t(5141),s=t(3611),c=t(4679),u=t(7688),l=t(692),_=t(5096),d=t(3373),f=t(756),E=e([c,_,f]);[c,_,f]=E.then?(await E)():E;const p=async()=>{try{await(0,u.B)();const e=await(0,c.CS)();if(null===e)return void console.log("not login!");l.r.emit(i.Lg.FetchedUserInfo,e),await(0,s.QZ)(i.BU.PLUGIN_USER_INFO,e)}catch(e){console.info("init plugin data error: ",e),l.r.emit(i.Lg.PLUGIN_ERROR_CODE,i.bC.INIT_PLUGIN_DATA)}},g=async()=>{chrome.contextMenus.create({id:"pp-menu-item",type:"normal",contexts:["link","selection"],title:(0,a.$t)("save_to_pikpak")},(()=>{chrome.runtime.lastError&&console.info("Create contextmenu error:",chrome.runtime.lastError.message)}));const e=(await(0,s.pp)(i.BU.OPTIONS_SETTING))[i.BU.OPTIONS_SETTING];(0,s.QZ)(i.BU.OPTIONS_SETTING,{...o.ip,...e}),await(0,f.wu)()&&(0,_.ff)()},h=async e=>{console.log("background.js chrome.runtime.onInstalled"),[chrome.runtime.OnInstalledReason.INSTALL,chrome.runtime.OnInstalledReason.UPDATE].includes(e.reason)&&await p()},R=async()=>{try{if(!await(0,f.wu)())return 0;const e=await(0,c.EH)(),r=e?.tasks?.length||0;return l.r.emit(i.Lg.TransmissionTaskNumberUpdate,r),r}catch(e){console.info("get task in transmission number error: ",e)}},I=async e=>{try{await(0,c.yQ)(e);const r=await(0,c.CS)();r&&(l.r.emit(i.Lg.FetchedUserInfo,r),(0,s.QZ)(i.BU.PLUGIN_USER_INFO,r)),await R()}catch(e){console.info("login by authorize code error: ",e),l.r.emit(i.Lg.PLUGIN_ERROR_CODE,i.bC.LOGIN_BY_AUTHORIZE_CODE)}},T=async()=>{try{const e=await chrome.storage.sync.get([i.BU.PLUGIN_USER_INFO,i.BU.PLUGIN_FAKER_STORAGE]),r=await(0,f.wu)();let t=e[i.BU.PLUGIN_USER_INFO];if(r){let e=!1;(t||"{}"!==JSON.stringify(t||{}))&&(l.r.emit(i.Lg.FetchedUserInfo,t),e=!0),t=await(0,c.CS)(),t&&(await(0,s.QZ)(i.BU.PLUGIN_USER_INFO,t),e||l.r.emit(i.Lg.FetchedUserInfo,t))}else await(0,s.QZ)(i.BU.PLUGIN_USER_INFO,{});return r}catch(e){return l.r.emit(i.Lg.PLUGIN_ERROR_CODE,i.bC.SEND_USER_INFO),!1}},O=async()=>{try{return await Promise.all([(0,c.kS)(),(0,s.QZ)(i.BU.PLUGIN_USER_INFO,{})]),(0,_.AR)(),"success"}catch(e){return console.info("handle plugin logout error: ",e),"failed"}},v=async()=>{try{let e=setTimeout((async()=>{await R(),clearTimeout(e),e=null}),500)}catch(e){console.info("handle plugin add task error: ",e)}},A=async()=>{try{const[e,r]=await Promise.all([(0,s.pp)(i.BU.INSTALL_REWARD),(0,f.wu)()]);if(e[i.BU.INSTALL_REWARD]||!r)return;const t=await(0,c.cT)({type:"install_web_pikpak_extension",data:{}});return t?.updated?(await(0,s.QZ)(i.BU.INSTALL_REWARD,!0),t.popup):void 0}catch(e){console.info("[install reward error: ]",e)}},N=async()=>chrome.runtime.openOptionsPage(),y=async e=>{e?chrome.tabs.sendMessage(e,{type:i.js.SHOW_ADD_RESOURCE_URL_MODAL}):chrome.tabs.query({active:!0,currentWindow:!0}).then((e=>{e[0].id&&chrome.tabs.sendMessage(e[0].id,{type:i.js.SHOW_ADD_RESOURCE_URL_MODAL})}))},D=new Map,S=async e=>{const{url:r,finalUrl:t,id:n}=e;D.set(n,e);try{const e=await(0,s.pp)(i.BU.OPTIONS_SETTING);e[i.BU.OPTIONS_SETTING]?.[i.gd.ANALYZE_BROWSER_DOWNLOAD_CONTENT]&&(0,f.J4)({type:i.js.SHOW_LANDING_PAGE,data:{scene:i.RG.DOWNLOAD_MONITOR,fileItem:{url:t||r}}})}catch(e){console.info("browser download hook throw error: ",e)}},C=async(e,r)=>{if(r?.id)try{if(e.menuItemId===_.DE)return await(0,_.R2)(e,r);chrome.tabs.sendMessage(r.id,{type:i.js.SHOW_LANDING_PAGE,data:{scene:i.RG.RIGHT,...e}})}catch(e){console.log("Failed to save by PikPak context menu: ",e)}},b=async()=>{try{return await(0,c.hG)()}catch{return{accessible:!1}}},L=(e=3e4)=>setInterval((()=>{try{l.r.emit(i.Lg.KEEP_HEART_BEAT,null)}catch{(0,s.cn)()}}),e),m=async(e,r,t)=>{try{if(!r.status||t.url?.startsWith("chrome"))return;await chrome.scripting.executeScript({target:{tabId:e},files:["content-scripts.js","ppa.min.js"]})}catch(e){console.info(e)}},U=async({filename:e,id:r})=>{try{const t=D.get(r);if(!e?.current||!t)return;const{url:n,finalUrl:o}=t;D.delete(r);const a=await(0,s.pp)(i.BU.OPTIONS_SETTING);a[i.BU.OPTIONS_SETTING]?.[i.gd.ANALYZE_BROWSER_DOWNLOAD_CONTENT]&&(0,f.J4)({type:i.js.SHOW_LANDING_PAGE,data:{scene:i.RG.DOWNLOAD_MONITOR,fileItem:{url:o||n,filename:e.current}}})}catch(e){console.info("dynamicTorrentFileListener error: ",e)}},k=async()=>{try{return(await(0,d.G)()).some((e=>e?.isReadClipboard))}catch(e){return console.info("handle query pikpak windows status error: ",e),!1}};n()}catch(e){n(e)}}))},6785:(e,r,t)=>{"use strict";t.a(e,(async(e,r)=>{try{var n=t(7458),o=t(3611),i=t(7688),a=t(1906),s=t(692),c=t(5096),u=t(3373),l=t(2064),_=t(756),d=e([a,c,l,_]);[a,c,l,_]=d.then?(await d)():d,setTimeout((()=>{(0,l.WY)(),(0,l.k6)(),(0,i.B)()}),0),chrome.runtime.onInstalled.addListener(l.uf),chrome.runtime.onStartup.addListener(l.iK),chrome.downloads.onCreated.addListener(l.Vb),chrome.tabs.onUpdated.addListener(l.i9),chrome.downloads.onChanged.addListener(l.fc),chrome.contextMenus.onClicked.addListener(l.TJ),chrome.tabs.onActivated.addListener(c.tX),s.r.on(n.Lg.GET_USER_INFO_TIMEOUT,l.iK),s.r.on(n.Lg.LoginByAuthorizeCode,(0,o.P2)(l.DL)),s.r.on(n.Lg.IsValidLoginStatus_Callback,_.wu),s.r.on(n.Lg.GetPluginUserInfo,l.OP),s.r.on(n.Lg.PluginLogout_Callback,l.OZ),s.r.on(n.Lg.GetAuthorizeCode_Callback,_.on),s.r.on(n.Lg.GetTaskInTransmissionNumber_Callback,(0,o.P2)(l.zz,1e3)),s.r.on(n.Lg.PluginAddTask,l.Nw),s.r.on(n.Lg.InstallRewardVip_Callback,l.N9),s.r.on(n.Lg.OpenOptionsPage,l.fD),s.r.on(n.Lg.AddUrlToDrive,l.cv),s.r.on(n.Lg.IsAccessibleIp_Callback,l.Bj),s.r.on(n.Lg.QUERY_PIKPAK_WINDOWS_STATUS,l.ih),s.r.on(n.Lg.UseAppHandleResourceLinks_Callback,(async()=>(await(0,u.G)()).some((e=>e?.isHandleDownloadLinkClick)))),s.r.on(n.Lg.FetchedUserInfo,(async e=>{(0,_.J4)({type:n.js.SEND_USERINFO,data:e})})),s.r.on(n.Lg.BOOKMARKS_UPDATE,c.De),s.r.on(n.Lg.BookmarksInit_Callback,c._T),s.r.on(n.Lg.BOOKMARKS_UPDATE_CLICK,c.fT);const f=e=>{try{console.log(e)}catch(e){console.info("handle change language error: ",e)}};chrome.runtime.onMessageExternal.addListener((async(e,r,t)=>{if(!r.origin?.includes("mypikpak.com"))return;const{type:o,data:i}=e;if(o===n.js.LOGIN_REQUEST)return t(await(0,_.on)());if(o===n.js.LOGIN_BY_CODE&&(await(0,l.DL)(i),s.r.emit(n.Lg.OAUTH_LOGIN_SUCCESS,!0),r.url&&new URL(r.url).pathname.includes("auth")))return(0,_.J4)({type:n.js.RELOAD_LANDING_PAGE});if(o===n.js.LANDING_PAGE_HEIGHT||o===n.js.TASK_EVENT_TRACK||o===n.js.CLOSE_LANDING_PAGE)return(0,_.J4)(e);if(o===n.js.CHANGE_LANGUAGE)return f(i);if([n.js.STOP_CLIPBOARD_LISTENER,n.js.STOP_DOWNLOAD_LISTENER].includes(o)){const e=(await chrome.storage.sync.get(n.BU.OPTIONS_SETTING))[n.BU.OPTIONS_SETTING],r=o===n.js.STOP_CLIPBOARD_LISTENER?n.gd.ANALYZE_CLIPBOARD_CONTENT:n.gd.ANALYZE_BROWSER_DOWNLOAD_CONTENT;return await chrome.storage.sync.set({[n.BU.OPTIONS_SETTING]:{...e,[r]:!1}}),void(0,_.J4)({type:o})}if(o!==n.js.REQUEST)if(o!==n.js.EXTENSION_IS_LOGIN_VALID){if(o===n.js.CHECK_EXTENSION_INSTALL)return t({status:!0});if(o===n.js.OPEN_OPTION_PAGE)return chrome.runtime.openOptionsPage();if(o===n.js.GET_AUTH_LOGIN_INFO)try{const{clientId:e,redirectURI:r}=i||{},n=await(0,_.yr)(e,r);t({success:Boolean(n?.authCode),...n})}catch(e){t({success:!1})}}else try{t({data:await(0,_.wu)(),version:chrome.runtime.getManifest().version})}catch(e){console.info("query extension login status failed: ",e),t({error:{value:e}})}else try{const e=i,{data:r,error:n}=await(0,a.Z)(e.url,e);t({data:r,error:n})}catch(e){console.info("fetch error: ",e),t({error:{value:e}})}})),r()}catch(e){r(e)}}))},756:(e,r,t)=>{"use strict";t.a(e,(async(e,n)=>{try{t.d(r,{J4:()=>c,on:()=>l,wu:()=>u,yr:()=>_});var o=t(7458),i=t(3611),a=t(4679),s=e([a]);a=(s.then?(await s)():s)[0];const c=async e=>{(await chrome.tabs.query({active:!0})).forEach((({id:r})=>{r&&chrome.tabs.sendMessage(r,e).catch((e=>console.info(e)))}))},u=async()=>{try{const e=(await(0,i.pp)([o.BU.PLUGIN_FAKER_STORAGE]))[o.BU.PLUGIN_FAKER_STORAGE],r=JSON.parse(Object.entries(e)?.find((([e])=>/credentials/i.test(e)))?.[1]||"{}"),t=new Date(r.expires_at).getTime(),n=new Date(t+(2592e6-r.expires_in)).getTime();return Boolean(r.expires_at&&n>Date.now())}catch{return!1}},l=async(e,r)=>{try{return(await(0,a.Wp)(e,r)).code||""}catch(e){return console.info("handle get authorize code error: ",e),""}},_=async(e,r)=>{try{const[{name:t,email:n,phone:o,picture:i},s]=await Promise.all([(0,a.CS)(),l(e,r)])||[{},{}];return{username:t,email:n,phone:o,avatar:i,authCode:s}}catch(e){return{}}};n()}catch(e){n(e)}}))},4679:(e,r,t)=>{"use strict";t.a(e,(async(e,n)=>{try{t.d(r,{CS:()=>E,EH:()=>u,Wp:()=>h,Yx:()=>_,cT:()=>d,hG:()=>f,iW:()=>l,kS:()=>p,yQ:()=>g});var o=t(6101),i=t(5707),a=(t(3611),t(5141),e([i]));i=(a.then?(await a)():a)[0];const c=async()=>(0,i.Xb)(`${o.lI}/drive/v1/privilege/vip`,{withCredentials:!0});var s;!function(e){e.PHASE_TYPE_RUNNING="PHASE_TYPE_RUNNING",e.PHASE_TYPE_ERROR="PHASE_TYPE_ERROR"}(s||(s={}));const u=async e=>{let r=e||[s.PHASE_TYPE_RUNNING];r=Array.isArray(r)?r:[r];const t=new URLSearchParams({type:"offline",thumbnail_size:"SIZE_SMALL",limit:"1000",filters:JSON.stringify({phase:{in:r.join()}})});return(0,i.Xb)(`${o.lI}/drive/v1/tasks?${t.toString()}`,{withCredentials:!0})},l=async(e,r)=>(0,i.Xb)(`${o.lI}/user/v1/settings`,{method:"POST",body:{item:e,value:r},withCredentials:!0}),_=async e=>(0,i.Xb)(`${o.lI}/user/v1/settings?items=${e}`,{withCredentials:!0}),d=async e=>(0,i.Xb)(`${o.lI}/vip/v1/activity/rewardVip`,{method:"POST",body:e,withCredentials:!0}),f=async()=>(0,i.Xb)("https://access.mypikpak.com/access_controller/v1/area_accessible",{headers:{"x-client-id":o.I4,"x-client-version":"0.0.0"},withCredentials:!1}),E=async()=>{try{const[e,r]=await Promise.all([(0,i.v0)().getUserProfile(),c()]);return{...e,isPremium:"ok"===r?.data.status}}catch(e){return null}},p=async()=>{try{return await(0,i.v0)().signOut()}catch{return null}},g=async e=>{await(0,i.v0)().grantToken({code:e,grant_type:"authorization_code"})},h=async(e,r)=>{try{return await(0,i.v0)().userAuthorize({client_id:e||o.pD,state:"ignored",scope:"user+pan+offline",response_type:"code",redirect_uri:r||o._B})}catch{return{}}};n()}catch(e){n(e)}}))},107:(e,r,t)=>{"use strict";t.d(r,{default:()=>n});const n={clientId:"Ypcug64Odf8hwuKB",clientVersion:"1.6.3",packageName:"mypikpak.com",timestamp:"1714381864712",algorithms:[{alg:"md5",salt:"q7"},{alg:"md5",salt:"nrlBCFrnAOq+8a2iR0a"},{alg:"md5",salt:"yM"},{alg:"md5",salt:"EZUpsmzmxJJfUId3sKh/ymbP71"},{alg:"md5",salt:"smYiKZVU27IGA6TSZDQ0Yxh6bqGd85FxSb2y+Zd8"},{alg:"md5",salt:"LJ+exEg8YOnbXcSvz4V"},{alg:"md5",salt:"rTMBTsUDCY8ZNY0aPJyh6yXJODA0pumb"},{alg:"md5",salt:"f1txyY7vIhV"},{alg:"md5",salt:"zB/wIIhoDt3jh"},{alg:"md5",salt:"giAZb"},{alg:"md5",salt:"qDydUse4d3XiIKT0jGqjXMq4tR6BPPM9jUGTu+I"},{alg:"md5",salt:"Yg9PJEV+27Y+i"},{alg:"md5",salt:"JZkNO5s2XfrlneBOsR7uv"},{alg:"md5",salt:"lF0O88rW"}]}},7688:(e,r,t)=>{"use strict";t.d(r,{B:()=>c});var n=t(7458),o=t(3611);let i={};const a={},s=async()=>{try{await(0,o.QZ)(n.BU.PLUGIN_FAKER_STORAGE,i)}catch(e){console.info("synchronizingInformationToStore error: ",e)}},c=async()=>{try{const e=await(0,o.pp)(n.BU.PLUGIN_FAKER_STORAGE);i=e[n.BU.PLUGIN_FAKER_STORAGE]||{}}catch(e){console.info("synchronizingInformationFromStore error: ",e)}};globalThis.window={screen:{width:1920,height:1080},location:{href:globalThis.location.href},localStorage:{length:Object.keys(i).length,getItem:e=>i[e]||null,setItem:(e,r)=>{i[e]=r;const t=Object.keys(a);t.includes(e)||(a[t.length]=e),s()},removeItem:e=>{delete i[e],s()},key:e=>a[e]||null,clear(){i={},s()}},addEventListener:()=>{},removeEventListener:()=>{}}},1906:(e,r,t)=>{"use strict";t.a(e,(async(e,n)=>{try{t.d(r,{Z:()=>s});var o=t(5707),i=e([o]);o=(i.then?(await i)():i)[0];const a=e=>({value:e,__v_isRef:!0}),s=(e,r)=>{const t={data:a(null),error:a(null)},n={...r.headers},i=(async()=>{try{t.data.value=await(0,o.Xb)(e,{withCaptcha:!0,...r,headers:n})}catch(e){const r=e.error_description?{...e,message:e.error_description}:e;t.error.value=r}return t})();return{...t,then:e=>i.then(e)}};n()}catch(e){n(e)}}))},3611:(e,r,t)=>{"use strict";t.d(r,{P2:()=>c,QZ:()=>d,Zz:()=>l,cn:()=>E,gI:()=>f,jQ:()=>u,pp:()=>_});var n=t(2568),o=t.n(n),i=t(8721),a=t(6101),s=t(7458);const c=(e,r=200)=>{let t=Date.now();return async(...n)=>{if(Date.now()-t<r)return;t=Date.now();let o=setTimeout((async()=>{const r=await e(...n);return clearTimeout(o),o=null,r}))}},u=()=>{try{const e=`credentials_${a.I4}`,r=window.localStorage.getItem(e),t="string"==typeof r?JSON.parse(r):r;return t?.sub||""}catch(e){return console.info("[get userId from localStorage error: ]",e),""}},l=(e,r)=>{try{const{salt:t}=e.reduce(((e,r)=>({salt:o()(e.salt+r.salt)})),{salt:r});return t}catch(e){return console.info("[calculateCaptchaSign:]",e),e}},_=async e=>{try{const r=Array.isArray(e)?e:[e];return await chrome.storage.sync.get(r)}catch(e){return console.info("[get ban list error: ]",e),{}}},d=async(e,r)=>{try{await chrome.storage.sync.set({[e]:r})}catch(e){throw new Error(`save info to store error!${e.message}`)}},f=async()=>{const e=(0,i.Z)(),r=o()(e);try{const e=(await _(s.BU.BROWSER_FINGERPRINT))[s.BU.BROWSER_FINGERPRINT];return e?o()(e):r}catch(e){return console.info("get origin deviceId error: ",e),r}},E=()=>{}},5707:(e,r,t)=>{"use strict";t.a(e,(async(e,n)=>{try{t.d(r,{Xb:()=>v,v0:()=>E});var o=t(7863),i=t(719),a=t(6101),s=t(3611),c=t(107);function u(e){console.info(e)}const l=await(0,s.gI)(),_={},d=()=>{if(_.oAuth2Client)return _.oAuth2Client;const e=new o.OAuth2Client(a.yh);return _.oAuth2Client=e,e},f=()=>{if(_.captcha)return _.captcha;const e=d(),r=new i.Captcha({apiOrigins:a.yh.apiOrigins,clientId:a.yh.clientId,originDeviceId:l,baseRequest:e.request.bind(e),acceptNewCTUri:window.location.href});return _.captcha=r,r},E=()=>{if(_.auth)return _.auth;const e=d(),r=f(),t={apiOrigins:a.yh.apiOrigins,clientId:a.yh.clientId,credentialsClient:e,request:r.request.bind(r)},n=new o.Auth(t);return _.auth=n,n},{algorithms:p,timestamp:g,clientVersion:h,packageName:R,clientId:I}=c.default,T=`${I}${h}${R}${l}${g}`,O=(0,s.Zz)(p,T),v=async(e,r)=>{try{const t={method:"GET",...r,withCaptchaMeta:{captcha_sign:`1.${O}`,client_version:h,package_name:R,user_id:(0,s.jQ)(),timestamp:g},retry:3,withCaptcha:!0,headers:{"x-device-id":l,...r?.headers}};return r?.withCredentials||(t.headers["x-client-id"]=I),await f().request(e,t)}catch(e){throw u(e),e}};n()}catch(A){n(A)}}),1)},8721:(e,r,t)=>{"use strict";t.d(r,{Z:()=>c});const n={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let o;const i=new Uint8Array(16);function a(){if(!o&&(o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!o))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(i)}const s=[];for(let e=0;e<256;++e)s.push((e+256).toString(16).slice(1));const c=function(e,r,t){if(n.randomUUID&&!r&&!e)return n.randomUUID();const o=(e=e||{}).random||(e.rng||a)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,r){t=t||0;for(let e=0;e<16;++e)r[t+e]=o[e];return r}return function(e,r=0){return(s[e[r+0]]+s[e[r+1]]+s[e[r+2]]+s[e[r+3]]+"-"+s[e[r+4]]+s[e[r+5]]+"-"+s[e[r+6]]+s[e[r+7]]+"-"+s[e[r+8]]+s[e[r+9]]+"-"+s[e[r+10]]+s[e[r+11]]+s[e[r+12]]+s[e[r+13]]+s[e[r+14]]+s[e[r+15]]).toLowerCase()}(o)}},9594:e=>{"use strict";e.exports=JSON.parse('{"ujhFKr4CEenmkYfiIuB":"Install PikPak Application","zGwBhTxJyjil8oLPbyx":"Phone Application","tgIkRbqC9fwGAqnsa8UfX":"Point camera towards the QR code to scan and install the app","tpYci8elLyB_3BzPrd8jT":"Desktop Application","rzKEd1G9k4TWlpaUfiPm":"Online Soon","adCxNuohBgAWp61KwuoFx":"PikPak Desktop","epVJm8uW7ahwhJiiNxjHp":"Go to PikPak Web Drive","88VeMisi2qAziNfqcKOO":"Contact Us","gNq5FiPn1zXn6g4ZdSsI3":"User Support","i3kfiZiDsuTs5695veCz8":"Join the Official Telegram Community:","vZ2os_4FcNzTHo9tUhw9r":"Join the Official WhatsApp Community:","uSnkWVqaGuyq1qheQ1wZj":"Go to the Discord server:","qXcgbkuTdVp39rRylu9c0":"Mailbox:","w7Nqm9ENsbNSkQ0RRa3Ia":"Official Channel","a4AmpeKaTwAqw9W3XMnr6":"Join the official Telegram Channel:","j1zEeXnWSjma7RuY0rrW9":"Go to the Facebook public page:","zQpReLh5Rn9IyPlmhStt":"Go to the Official X(Twitter) Account:","yfJewsk3aAkrb7PbicwDe":"official Website","fw2Jax8q6FDbwKtmL9AD":"Add the Save button for the download link on the website","zebUhKJLrMUsH0nl3dt":"Automatically identifies downloadable links in web pages and adds a one-click \'Save to my PikPak\' action option for links","5lXuCWxFYpHMzbPK8Ih":"The button is inserted into the page for display","ygkxUkD5kbIutx5eF1Kdr":"When a web page loads, PikPak displays a Save button next to content that it recognizes as a link","jCzIw_4UmWodOhTfaxyug":"Manage the domain names that does not automatically provide the Save option","rwTSuV3Givfj3VhxlCiR":"Mousehover displays option","0vzsy4FfWId_3guxeBqI":"When the mouse pointer hovers over an addable link, the Save button appears next to the pointer","sXmCkRbwo3nTmYl5Da4O":"Display button when link is selected","vxPvrprOwOyUm8x7l5":"When you swipe to select link content, the Save button appears next to the pointer","yFcaBkQxFo2qtEsHSf2g":"Please insert the domain name that needs to block the Insert option","rdvV0Iy9AxH4bIqi4OtUb":"Close","4K68HriqIFxFBg4mrpXSh":"Save","jw7nfCuQjq2VMd08RzaXt":"Invalid domain name","rG0DohM4kBez4WsU69l":"Save links conveniently. When you see a link you want to save on a web page, you can immediately save it to PikPak cloud storage.","8o2m2zPg30HvtUsZpGnp":"Intelligent Identification of Link","52H4oynAnSjqX8FejUhby":"Click the Save button on the page to safe the link","p7oi88MgAm7dl49XtHj5d":"Hover Link Identification","s9cp7Qs6edyl0eNeNrhe1":"Hover your mouse pointer over the link and click the button to save the link","vS9SvCXhlspCzjrl823lM":"Save the Selected Link","gFrc77SeyrNJe9diKn31O":"After sliding to select the link, click the button or right-click the menu to save the resource link","pGiEkHmbWkIAm0E2g5Y":"Basic Settings","mhe7mN4RYf3JZakzJmy1N":"Instructions For Use","egvpEzR8i4S3jSyAesTu":"About PikPak","sjrbywj2zNQjoyVdnWtYw":"Transferring Task","pDdzf7MdSViEOxFpMV0U":"Go to PikPak Web Drive","x6EUcRi6v8Xx3CvKCkC9j":"Automatically insert Save button for the current website","afTbGfqNiXcRKBLfiLf":"Using Help","settings":"Settings","xpwKdtDfoz7igy6Wr63ml":"Sign Out","save_to_pikpak":"Save to PikPak","save_and_watch":"Save & Watch","save_and_view":"Save & View","remove_inserted_icon":"Close button","disable_pp_extension":"Do not insert Save button for the current website","lwiCkNrC0TvrtShHpOgt":"Information synchronizing...","add_link":"Cloud Download","sjrbywj2zN3xjoyVdnWtYw":"Identify clipboard links","xasdl3alsd159asd1lxd":"After copying the downloadable link, PikPak will pop up a save confirmation window","kSkd4KDL892kclvedfs":"Track download links to click and download","Dk230olsaa023lkas3k":"When you click the download link or initiate a download, PikPak will pop up a save confirmation window","salaskdf23skladfdsA":"Enjoy 10TB cloud disk space","LSDKwe0s02LDlsdasdf":"Unlimited number of cloud transfers","SD0023lksadsdlDLFDs":"Hd original quality","sadfSDl24l23da121Ds":"Remove advertisements","input_placeholder":"Supports sharing links through Magnet, Twitter, TikTok, and Facebook; multiple feeds can be added","valid_message":"Please enter the correct link","cancel":"Cancel","add_now":"Add now","JDFKLSksaldf23alkJSADLf":"Click to retry","aSDSDL2390fjsadlkfjlkac":"Information synchronization failed!","SD23alskd9alskd21Ssdl3x":"Service connection timed out. Please check your network.","save_in_new_tab":"PikPak browser extension can save this linked file for you, click [OK] to view.","oCgfw3w6clmSmprlSvMr":"Download PikPak for Windows ","bookmarks":"Favorite Links","bookmark-to-pp":"Save this Website Link to PikPak","bookmark-in-pp":"Edit this Website Link in PikPak","create-bookmark":"Bookmarked this URL to PikPak","edit-bookmark":"Edit this Website Link in PikPak","done":"Done","cancel-favorite":"Delete this Link","name":"Name","tag":"Tag","my-site":"My Links","bookmarks-empty":"No Links","link-collection-hub":"Favorite Links Hub","sign-in-activity":"Check in for free Premium awards","qKHhVfefKyGmq7VoXPx":"Log in","zM8m9FGhRaJl6Y0mqQX":"Your browser extension is not logged in. New registered users logging into the browser extension for the first time will receive a {0} day membership reward. Please log in to your account immediately."}')},8446:e=>{"use strict";e.exports=JSON.parse('{"ujhFKr4CEenmkYfiIuB":"Instal Aplikasi PikPak","zGwBhTxJyjil8oLPbyx":"Aplikasi Telepon","tgIkRbqC9fwGAqnsa8UfX":"Arahkan kamera ke kode QR untuk memindai dan menginstal aplikasi","tpYci8elLyB_3BzPrd8jT":"Aplikasi Desktop","rzKEd1G9k4TWlpaUfiPm":"Segera Online","adCxNuohBgAWp61KwuoFx":"PikPak Desktop","epVJm8uW7ahwhJiiNxjHp":"Buka Drive Web PikPak","88VeMisi2qAziNfqcKOO":"Hubungi kami","gNq5FiPn1zXn6g4ZdSsI3":"Dukungan Pengguna","i3kfiZiDsuTs5695veCz8":"Bergabunglah dengan Komunitas Telegram Resmi:","vZ2os_4FcNzTHo9tUhw9r":"Bergabunglah dengan Komunitas WhatsApp Resmi:","uSnkWVqaGuyq1qheQ1wZj":"Pergi ke server Perselisihan:","qXcgbkuTdVp39rRylu9c0":"Kotak surat:","w7Nqm9ENsbNSkQ0RRa3Ia":"Saluran resmi","a4AmpeKaTwAqw9W3XMnr6":"Bergabunglah dengan Saluran Telegram Resmi:","j1zEeXnWSjma7RuY0rrW9":"Buka halaman publik Facebook:","zQpReLh5Rn9IyPlmhStt":"Buka Akun X(Twitter) Resmi:","yfJewsk3aAkrb7PbicwDe":"Situs Web Resmi","fw2Jax8q6FDbwKtmL9AD":"Tambahkan opsi \'Simpan\' untuk tautan unduhan di situs web","zebUhKJLrMUsH0nl3dt":"Secara otomatis mengidentifikasi tautan yang dapat diunduh di halaman web dan menambahkan opsi tindakan \'Simpan ke PikPak saya\' sekali klik untuk tautan","5lXuCWxFYpHMzbPK8Ih":"Tombol dimasukkan ke halaman untuk ditampilkan","ygkxUkD5kbIutx5eF1Kdr":"Saat halaman web dimuat, PikPak menampilkan opsi \'Simpan\' di sebelah konten yang dikenalinya sebagai tautan","jCzIw_4UmWodOhTfaxyug":"Kelola nama domain yang tidak secara otomatis menyediakan opsi \'Sisipkan\'","rwTSuV3Givfj3VhxlCiR":"Opsi tampilan kursor mouse","0vzsy4FfWId_3guxeBqI":"Saat penunjuk tetikus melayang di atas tautan yang dapat ditambahkan, tombol opsi \'Simpan\' muncul di sebelah penunjuk","sXmCkRbwo3nTmYl5Da4O":"Tampilkan tombol saat tautan dipilih","vxPvrprOwOyUm8x7l5":"Saat Anda menggesek untuk memilih konten tautan, tombol \'Simpan\' muncul di sebelah penunjuk","yFcaBkQxFo2qtEsHSf2g":"Harap masukkan nama domain yang perlu memblokir opsi \'Sisipkan\'","rdvV0Iy9AxH4bIqi4OtUb":"Menutup","4K68HriqIFxFBg4mrpXSh":"Menyimpan","jw7nfCuQjq2VMd08RzaXt":"Nama domain tidak valid","rG0DohM4kBez4WsU69l":"Nyaman untuk menghemat sumber daya tautan, ketika Anda melihat tautan yang ingin Anda simpan di halaman web, Anda dapat segera menyimpannya ke disk cloud PikPak","8o2m2zPg30HvtUsZpGnp":"Identifikasi Tautan yang Cerdas","52H4oynAnSjqX8FejUhby":"Klik opsi \'Simpan\' pada halaman untuk mengamankan tautan","p7oi88MgAm7dl49XtHj5d":"Identifikasi Tautan Arahkan","s9cp7Qs6edyl0eNeNrhe1":"Arahkan penunjuk mouse Anda ke tautan dan klik tombol untuk menyimpan tautan","vS9SvCXhlspCzjrl823lM":"Simpan Tautan yang Dipilih","gFrc77SeyrNJe9diKn31O":"Setelah geser untuk memilih tautan, klik tombol atau klik kanan menu untuk menyimpan tautan sumber daya","pGiEkHmbWkIAm0E2g5Y":"Pengaturan dasar","mhe7mN4RYf3JZakzJmy1N":"Petunjuk Penggunaan","egvpEzR8i4S3jSyAesTu":"Tentang PikPak","sjrbywj2zNQjoyVdnWtYw":"Mentransfer Tugas","pDdzf7MdSViEOxFpMV0U":"Buka Drive Web PikPak","x6EUcRi6v8Xx3CvKCkC9j":"Masukkan opsi \'Simpan\' secara otomatis untuk situs web saat ini","afTbGfqNiXcRKBLfiLf":"Menggunakan Bantuan","settings":"Pengaturan","xpwKdtDfoz7igy6Wr63ml":"Keluar Masuk","save_to_pikpak":"Simpan ke PikPak","save_and_watch":"Simpan & Tonton","save_and_view":"Simpan & Lihat","remove_inserted_icon":"Tutup tombol","disable_pp_extension":"Jangan masukkan tombol Simpan untuk situs web saat ini","lwiCkNrC0TvrtShHpOgt":"Sinkronisasi informasi...","add_link":"Unduh Awan","sjrbywj2zN3xjoyVdnWtYw":"Identifikasi tautan papan klip","xasdl3alsd159asd1lxd":"Setelah menyalin tautan yang dapat diunduh, PikPak akan memunculkan popup konfirmasi penyimpanan","kSkd4KDL892kclvedfs":"Kenali tautan unduhan untuk diklik dan diunduh","Dk230olsaa023lkas3k":"Saat Anda mengklik tautan unduhan atau memulai unduhan, PikPak akan memunculkan jendela konfirmasi penyimpanan","salaskdf23skladfdsA":"Nikmati ruang disk cloud 10TB","LSDKwe0s02LDlsdasdf":"Jumlah Pemindahan Awan Tanpa Batas","SD0023lksadsdlDLFDs":"Kualitas asli hd","sadfSDl24l23da121Ds":"hapus iklan","input_placeholder":"Mendukung tautan berbagi platform Magnet, Twitter, TikTok, Facebook, dan Instagram; beberapa baris dapat ditambahkan","valid_message":"Silakan masukkan tautan yang benar","cancel":"Batalkan","add_now":"Tambahkan sekarang","JDFKLSksaldf23alkJSADLf":"Klik untuk mencoba lagi","aSDSDL2390fjsadlkfjlkac":"Sinkronisasi informasi gagal!","SD23alskd9alskd21Ssdl3x":"Waktu koneksi layanan habis. Silakan periksa jaringan Anda.","save_in_new_tab":"Ekstensi browser PikPak dapat menyimpan file tertaut ini untuk Anda, klik [OK] untuk melihatnya.","oCgfw3w6clmSmprlSvMr":"Unduh PikPak untuk Windows","bookmarks":"Link Favorit","bookmark-to-pp":"Simpan Tautan Situs Web ini ke PikPak","bookmark-in-pp":"Edit Tautan Situs Web ini di PikPak","create-bookmark":"Menandai URL ini ke PikPak","edit-bookmark":"Edit Tautan Situs Web ini di PikPak","done":"Selesai","cancel-favorite":"Hapus Tautan ini","name":"Nama","tag":"Menandai","my-site":"Situs web saya","bookmarks-empty":"Tidak Ada Tautan","link-collection-hub":"Pusat Koleksi Tautan","sign-in-activity":"Check-in untuk penghargaan Premium gratis","qKHhVfefKyGmq7VoXPx":"Masuk","zM8m9FGhRaJl6Y0mqQX":"Ekstensi browser Anda belum login. Pengguna terdaftar baru yang login ke ekstensi browser untuk pertama kalinya akan menerima hadiah keanggotaan {0} hari. Silakan login ke akun Anda segera."}')},7697:e=>{"use strict";e.exports=JSON.parse('{"ujhFKr4CEenmkYfiIuB":"  ","zGwBhTxJyjil8oLPbyx":" ","tgIkRbqC9fwGAqnsa8UfX":" QR     ","tpYci8elLyB_3BzPrd8jT":" ","rzKEd1G9k4TWlpaUfiPm":"  ","adCxNuohBgAWp61KwuoFx":"  ","epVJm8uW7ahwhJiiNxjHp":"   ","88VeMisi2qAziNfqcKOO":"","gNq5FiPn1zXn6g4ZdSsI3":" ","i3kfiZiDsuTs5695veCz8":"   :","vZ2os_4FcNzTHo9tUhw9r":"WhatsApp   ","uSnkWVqaGuyq1qheQ1wZj":"Discord  ","qXcgbkuTdVp39rRylu9c0":"","w7Nqm9ENsbNSkQ0RRa3Ia":" ","a4AmpeKaTwAqw9W3XMnr6":"   :","j1zEeXnWSjma7RuY0rrW9":"Facebook   ","zQpReLh5Rn9IyPlmhStt":"X(Twitter)  : ","yfJewsk3aAkrb7PbicwDe":"  ","fw2Jax8q6FDbwKtmL9AD":"      ","zebUhKJLrMUsH0nl3dt":"         PikPak    .","5lXuCWxFYpHMzbPK8Ih":"   .","ygkxUkD5kbIutx5eF1Kdr":"    PikPak       .","jCzIw_4UmWodOhTfaxyug":"     ","rwTSuV3Givfj3VhxlCiR":" Hover  ","0vzsy4FfWId_3guxeBqI":"             .","sXmCkRbwo3nTmYl5Da4O":"   ","vxPvrprOwOyUm8x7l5":"         .","yFcaBkQxFo2qtEsHSf2g":"    . ","rdvV0Iy9AxH4bIqi4OtUb":"","4K68HriqIFxFBg4mrpXSh":"","jw7nfCuQjq2VMd08RzaXt":" ","rG0DohM4kBez4WsU69l":"               .","8o2m2zPg30HvtUsZpGnp":"  ","52H4oynAnSjqX8FejUhby":"      .","p7oi88MgAm7dl49XtHj5d":"Hover  ","s9cp7Qs6edyl0eNeNrhe1":"        ","vS9SvCXhlspCzjrl823lM":"  ","gFrc77SeyrNJe9diKn31O":"    /      ","pGiEkHmbWkIAm0E2g5Y":" ","mhe7mN4RYf3JZakzJmy1N":" ","egvpEzR8i4S3jSyAesTu":" ","sjrbywj2zNQjoyVdnWtYw":"  ","pDdzf7MdSViEOxFpMV0U":"   ","x6EUcRi6v8Xx3CvKCkC9j":"      ","afTbGfqNiXcRKBLfiLf":" ","settings":"","xpwKdtDfoz7igy6Wr63ml":"","save_to_pikpak":" ","save_and_watch":"  ","save_and_view":"  ","remove_inserted_icon":" ","disable_pp_extension":"    ","lwiCkNrC0TvrtShHpOgt":"  ","add_link":" ","sjrbywj2zN3xjoyVdnWtYw":"  ","xasdl3alsd159asd1lxd":"     PikPak    . ","kSkd4KDL892kclvedfs":"     ","Dk230olsaa023lkas3k":"          .","salaskdf23skladfdsA":"10TB    ","LSDKwe0s02LDlsdasdf":"   ","SD0023lksadsdlDLFDs":"  ","sadfSDl24l23da121Ds":" ","input_placeholder":"Magnet  Twitter, TikTok, Facebook    ;     ","valid_message":"  ","cancel":"","add_now":" ","JDFKLSksaldf23alkJSADLf":" ","aSDSDL2390fjsadlkfjlkac":"  !","SD23alskd9alskd21Ssdl3x":"   ,  .","save_in_new_tab":"         . []  .","oCgfw3w6clmSmprlSvMr":"Windows  ","bookmarks":" ","bookmark-to-pp":"     ","bookmark-in-pp":"   ","create-bookmark":"    ","edit-bookmark":"   ","done":"","cancel-favorite":" ","name":"","tag":"","my-site":" ","bookmarks-empty":"  ","link-collection-hub":"  ","sign-in-activity":"   ","qKHhVfefKyGmq7VoXPx":"","zM8m9FGhRaJl6Y0mqQX":"     .        {0}     .  . "}')},9192:e=>{"use strict";e.exports=JSON.parse('{"ujhFKr4CEenmkYfiIuB":"Pasang Aplikasi PikPak","zGwBhTxJyjil8oLPbyx":"Aplikasi Telefon","tgIkRbqC9fwGAqnsa8UfX":"Halakan kamera ke arah kod QR untuk mengimbas dan memasang apl","tpYci8elLyB_3BzPrd8jT":"Aplikasi Desktop","rzKEd1G9k4TWlpaUfiPm":"Dalam Talian Tidak Lama Lagi","adCxNuohBgAWp61KwuoFx":"Desktop PikPak","epVJm8uW7ahwhJiiNxjHp":"Pergi ke Pemacu Web PikPak","88VeMisi2qAziNfqcKOO":"Hubungi Kami","gNq5FiPn1zXn6g4ZdSsI3":"Sokongan Pengguna","i3kfiZiDsuTs5695veCz8":"Sertai Komuniti Telegram Rasmi:","vZ2os_4FcNzTHo9tUhw9r":"Sertai Komuniti WhatsApp Rasmi:","uSnkWVqaGuyq1qheQ1wZj":"Pergi ke pelayan Discord:","qXcgbkuTdVp39rRylu9c0":"Peti surat:","w7Nqm9ENsbNSkQ0RRa3Ia":"Saluran rasmi","a4AmpeKaTwAqw9W3XMnr6":"Sertai Saluran Telegram Rasmi:","j1zEeXnWSjma7RuY0rrW9":"Pergi ke halaman awam Facebook:","zQpReLh5Rn9IyPlmhStt":"Pergi ke Akaun X(Twitter) Rasmi:","yfJewsk3aAkrb7PbicwDe":"Laman Web Rasmi","fw2Jax8q6FDbwKtmL9AD":"Tambahkan pilihan \'Simpan\' untuk pautan muat turun di tapak web","zebUhKJLrMUsH0nl3dt":"Mengenal pasti pautan yang boleh dimuat turun dalam halaman web secara automatik dan menambah satu klik pilihan tindakan \'Simpan ke PikPak saya\' untuk pautan","5lXuCWxFYpHMzbPK8Ih":"Butang dimasukkan ke dalam halaman untuk paparan","ygkxUkD5kbIutx5eF1Kdr":"Apabila halaman web dimuatkan, PikPak memaparkan pilihan \'Simpan\' di sebelah kandungan yang dikenalinya sebagai pautan","jCzIw_4UmWodOhTfaxyug":"Uruskan nama domain yang tidak menyediakan pilihan \'Sisipkan\' secara automatik","rwTSuV3Givfj3VhxlCiR":"Tuding tetikus memaparkan pilihan","0vzsy4FfWId_3guxeBqI":"Apabila penuding tetikus melayang di atas pautan yang boleh ditambah, butang pilihan \'Simpan\' muncul di sebelah penuding","sXmCkRbwo3nTmYl5Da4O":"Paparkan butang apabila pautan dipilih","vxPvrprOwOyUm8x7l5":"Apabila anda meleret untuk memilih kandungan pautan, butang \'Simpan\' muncul di sebelah penuding","yFcaBkQxFo2qtEsHSf2g":"Sila masukkan nama domain yang perlu menyekat pilihan \'Sisipkan\'","rdvV0Iy9AxH4bIqi4OtUb":"Tutup","4K68HriqIFxFBg4mrpXSh":"Jimat","jw7nfCuQjq2VMd08RzaXt":"Nama domain tidak sah","rG0DohM4kBez4WsU69l":"Mudah untuk menyimpan sumber pautan, apabila anda melihat pautan yang ingin anda simpan di halaman web, anda boleh segera menyimpannya ke cakera awan PikPak","8o2m2zPg30HvtUsZpGnp":"Pengenalpastian Pintar Pautan","52H4oynAnSjqX8FejUhby":"Klik pilihan \'Simpan\' pada halaman untuk menyelamatkan pautan","p7oi88MgAm7dl49XtHj5d":"Tuding Pautan Pengenalan","s9cp7Qs6edyl0eNeNrhe1":"Tuding penunjuk tetikus anda pada pautan dan klik butang untuk menyimpan pautan","vS9SvCXhlspCzjrl823lM":"Simpan Pautan yang Dipilih","gFrc77SeyrNJe9diKn31O":"Selepas meluncur untuk memilih pautan, klik butang atau klik kanan menu untuk menyimpan pautan sumber","pGiEkHmbWkIAm0E2g5Y":"Tetapan Asas","mhe7mN4RYf3JZakzJmy1N":"Arahan Untuk Penggunaan","egvpEzR8i4S3jSyAesTu":"Mengenai PikPak","sjrbywj2zNQjoyVdnWtYw":"Memindahkan Tugas","pDdzf7MdSViEOxFpMV0U":"Pergi ke Pemacu Web PikPak","x6EUcRi6v8Xx3CvKCkC9j":"Masukkan pilihan \'Simpan\' secara automatik untuk tapak web semasa","afTbGfqNiXcRKBLfiLf":"Menggunakan Bantuan","settings":"Tetapan","xpwKdtDfoz7igy6Wr63ml":"Keluar Log Masuk","save_to_pikpak":"Simpan ke PikPak","save_and_watch":"Simpan & Tonton","save_and_view":"Simpan & Lihat","remove_inserted_icon":"Butang tutup","disable_pp_extension":"Jangan masukkan butang Simpan untuk tapak web semasa","lwiCkNrC0TvrtShHpOgt":"Penyegerakan maklumat...","add_link":"Muat Turun Awan","sjrbywj2zN3xjoyVdnWtYw":"Kenal pasti pautan papan keratan","xasdl3alsd159asd1lxd":"Selepas menyalin pautan yang boleh dimuat turun, PikPak akan memaparkan pop timbul pengesahan simpan","kSkd4KDL892kclvedfs":"Kenali pautan muat turun untuk klik dan muat turun","Dk230olsaa023lkas3k":"Apabila anda mengklik pautan muat turun atau memulakan muat turun, PikPak akan memaparkan tetingkap pengesahan simpan","salaskdf23skladfdsA":"Nikmati ruang cakera awan 10TB","LSDKwe0s02LDlsdasdf":"Bilangan Pemindahan Awan Tanpa Had","SD0023lksadsdlDLFDs":"Kualiti asli Hd","sadfSDl24l23da121Ds":"keluarkan iklan","input_placeholder":"Mendukung tautan berbagi platform Magnet, Twitter, TikTok, Facebook, dan Instagram; beberapa baris dapat ditambahkan","valid_message":"Sila masukkan pautan yang betul","cancel":"Batalkan","add_now":"Tambahkan sekarang","JDFKLSksaldf23alkJSADLf":"Klik untuk mencuba semula","aSDSDL2390fjsadlkfjlkac":"Penyegerakan maklumat gagal!","SD23alskd9alskd21Ssdl3x":"Sambungan perkhidmatan tamat masa. Sila semak rangkaian anda.","save_in_new_tab":"Sambungan penyemak imbas PikPak boleh menyimpan fail terpaut ini untuk anda, klik [OK] untuk melihatnya.","oCgfw3w6clmSmprlSvMr":"Muat turun PikPak untuk Windows","bookmarks":"Pautan Kegemaran","bookmark-to-pp":"Simpan Pautan Laman Web ini ke PikPak","bookmark-in-pp":"Edit Pautan Laman Web ini dalam PikPak","create-bookmark":"Menanda halaman URL ini kepada PikPak","edit-bookmark":"Edit Pautan Laman Web ini dalam PikPak","done":"Selesai","cancel-favorite":"Padamkan Pautan ini","name":"Nama","tag":"Tag","my-site":"Laman Web Saya","bookmarks-empty":"Tiada Pautan","link-collection-hub":"Pusat Koleksi Pautan","sign-in-activity":"Daftar masuk untuk ganjaran Premium percuma","qKHhVfefKyGmq7VoXPx":"Log masuk","zM8m9FGhRaJl6Y0mqQX":"Sambungan pelayar anda belum log masuk. Pengguna baru yang berdaftar log masuk ke sambungan pelayar untuk kali pertama akan menerima ganjaran keahlian {0} hari. Sila log masuk ke akaun anda segera."}')},9890:e=>{"use strict";e.exports=JSON.parse('{"ujhFKr4CEenmkYfiIuB":"PikPak","zGwBhTxJyjil8oLPbyx":"App","tgIkRbqC9fwGAqnsa8UfX":" QR Code App","tpYci8elLyB_3BzPrd8jT":"","rzKEd1G9k4TWlpaUfiPm":"","adCxNuohBgAWp61KwuoFx":"PikPak","epVJm8uW7ahwhJiiNxjHp":"PikPak","88VeMisi2qAziNfqcKOO":"","gNq5FiPn1zXn6g4ZdSsI3":"","i3kfiZiDsuTs5695veCz8":" Telegram ","vZ2os_4FcNzTHo9tUhw9r":" WhatsApp ","uSnkWVqaGuyq1qheQ1wZj":" Discord ","qXcgbkuTdVp39rRylu9c0":"","w7Nqm9ENsbNSkQ0RRa3Ia":"","a4AmpeKaTwAqw9W3XMnr6":" Telegram ","j1zEeXnWSjma7RuY0rrW9":" Facebook ","zQpReLh5Rn9IyPlmhStt":" X(Twitter) :","yfJewsk3aAkrb7PbicwDe":"","fw2Jax8q6FDbwKtmL9AD":"","zebUhKJLrMUsH0nl3dt":"PikPak","5lXuCWxFYpHMzbPK8Ih":"","ygkxUkD5kbIutx5eF1Kdr":"PikPak","jCzIw_4UmWodOhTfaxyug":"...","rwTSuV3Givfj3VhxlCiR":"Hover","0vzsy4FfWId_3guxeBqI":"","sXmCkRbwo3nTmYl5Da4O":"","vxPvrprOwOyUm8x7l5":"","yFcaBkQxFo2qtEsHSf2g":"","rdvV0Iy9AxH4bIqi4OtUb":"","4K68HriqIFxFBg4mrpXSh":"","jw7nfCuQjq2VMd08RzaXt":"","rG0DohM4kBez4WsU69l":"PikPak","8o2m2zPg30HvtUsZpGnp":"","52H4oynAnSjqX8FejUhby":"","p7oi88MgAm7dl49XtHj5d":"Hover","s9cp7Qs6edyl0eNeNrhe1":"","vS9SvCXhlspCzjrl823lM":"","gFrc77SeyrNJe9diKn31O":"/","pGiEkHmbWkIAm0E2g5Y":"","mhe7mN4RYf3JZakzJmy1N":"","egvpEzR8i4S3jSyAesTu":"PikPak","sjrbywj2zNQjoyVdnWtYw":"","pDdzf7MdSViEOxFpMV0U":" PikPak ","x6EUcRi6v8Xx3CvKCkC9j":"","afTbGfqNiXcRKBLfiLf":"","settings":"","xpwKdtDfoz7igy6Wr63ml":"","save_to_pikpak":" PikPak","save_and_watch":"","save_and_view":"","remove_inserted_icon":"","disable_pp_extension":"","lwiCkNrC0TvrtShHpOgt":"...","add_link":"","sjrbywj2zN3xjoyVdnWtYw":"","xasdl3alsd159asd1lxd":"PikPak","kSkd4KDL892kclvedfs":"","Dk230olsaa023lkas3k":"PikPak","salaskdf23skladfdsA":"10TB","LSDKwe0s02LDlsdasdf":"","SD0023lksadsdlDLFDs":"","sadfSDl24l23da121Ds":"","input_placeholder":" Magnet  TwitterTikTokFacebook ","valid_message":"","cancel":"","add_now":"","JDFKLSksaldf23alkJSADLf":"","aSDSDL2390fjsadlkfjlkac":"","SD23alskd9alskd21Ssdl3x":"","save_in_new_tab":"PikPak []","oCgfw3w6clmSmprlSvMr":" Windows  PikPak","bookmarks":"","bookmark-to-pp":" PikPak","bookmark-in-pp":"","create-bookmark":" PikPak","edit-bookmark":"","done":"","cancel-favorite":"","name":"","tag":"","my-site":"","bookmarks-empty":"","link-collection-hub":"","sign-in-activity":"","qKHhVfefKyGmq7VoXPx":"","zM8m9FGhRaJl6Y0mqQX":"{0}"}')},6687:e=>{"use strict";e.exports=JSON.parse('{"ujhFKr4CEenmkYfiIuB":"PikPak","zGwBhTxJyjil8oLPbyx":"App","tgIkRbqC9fwGAqnsa8UfX":" QR Code App","tpYci8elLyB_3BzPrd8jT":"","rzKEd1G9k4TWlpaUfiPm":"","adCxNuohBgAWp61KwuoFx":"PikPak","epVJm8uW7ahwhJiiNxjHp":"PikPak","88VeMisi2qAziNfqcKOO":"","gNq5FiPn1zXn6g4ZdSsI3":"","i3kfiZiDsuTs5695veCz8":" Telegram ","vZ2os_4FcNzTHo9tUhw9r":" WhatsApp ","uSnkWVqaGuyq1qheQ1wZj":" Discord ","qXcgbkuTdVp39rRylu9c0":"","w7Nqm9ENsbNSkQ0RRa3Ia":"","a4AmpeKaTwAqw9W3XMnr6":" Telegram ","j1zEeXnWSjma7RuY0rrW9":" Facebook ","zQpReLh5Rn9IyPlmhStt":" X(Twitter) :","yfJewsk3aAkrb7PbicwDe":"","fw2Jax8q6FDbwKtmL9AD":"","zebUhKJLrMUsH0nl3dt":"PikPak","5lXuCWxFYpHMzbPK8Ih":"","ygkxUkD5kbIutx5eF1Kdr":"PikPak","jCzIw_4UmWodOhTfaxyug":"...","rwTSuV3Givfj3VhxlCiR":"Hover","0vzsy4FfWId_3guxeBqI":"","sXmCkRbwo3nTmYl5Da4O":"","vxPvrprOwOyUm8x7l5":"","yFcaBkQxFo2qtEsHSf2g":"","rdvV0Iy9AxH4bIqi4OtUb":"","4K68HriqIFxFBg4mrpXSh":"","jw7nfCuQjq2VMd08RzaXt":"","rG0DohM4kBez4WsU69l":"PikPak","8o2m2zPg30HvtUsZpGnp":"","52H4oynAnSjqX8FejUhby":"","p7oi88MgAm7dl49XtHj5d":"Hover","s9cp7Qs6edyl0eNeNrhe1":"","vS9SvCXhlspCzjrl823lM":"","gFrc77SeyrNJe9diKn31O":"","pGiEkHmbWkIAm0E2g5Y":"","mhe7mN4RYf3JZakzJmy1N":"","egvpEzR8i4S3jSyAesTu":"PikPak","sjrbywj2zNQjoyVdnWtYw":"","pDdzf7MdSViEOxFpMV0U":" PikPak ","x6EUcRi6v8Xx3CvKCkC9j":"","afTbGfqNiXcRKBLfiLf":"","settings":"","xpwKdtDfoz7igy6Wr63ml":"","save_to_pikpak":" PikPak","save_and_watch":"","save_and_view":"","remove_inserted_icon":"","disable_pp_extension":"","lwiCkNrC0TvrtShHpOgt":"...","add_link":"","sjrbywj2zN3xjoyVdnWtYw":"","xasdl3alsd159asd1lxd":"PikPak","kSkd4KDL892kclvedfs":"","Dk230olsaa023lkas3k":"PikPak","salaskdf23skladfdsA":"10TB","LSDKwe0s02LDlsdasdf":"","SD0023lksadsdlDLFDs":"","sadfSDl24l23da121Ds":"","input_placeholder":" Magnet  TwitterTikTokFacebook ","valid_message":"","cancel":"","add_now":"","JDFKLSksaldf23alkJSADLf":"","aSDSDL2390fjsadlkfjlkac":"!","SD23alskd9alskd21Ssdl3x":"","save_in_new_tab":"PikPak[]","oCgfw3w6clmSmprlSvMr":" Windows  PikPak","bookmarks":"","bookmark-to-pp":" PikPak","bookmark-in-pp":"","create-bookmark":" PikPak","edit-bookmark":"","done":"","cancel-favorite":"","name":"","tag":"","my-site":"","bookmarks-empty":"","link-collection-hub":"","sign-in-activity":"","qKHhVfefKyGmq7VoXPx":"","zM8m9FGhRaJl6Y0mqQX":"{0}"}')}},i={};function a(e){var r=i[e];if(void 0!==r)return r.exports;var t=i[e]={exports:{}};return o[e](t,t.exports,a),t.exports}e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",r="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",t="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",n=e=>{e&&!e.d&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},a.a=(o,i,a)=>{var s;a&&((s=[]).d=1);var c,u,l,_=new Set,d=o.exports,f=new Promise(((e,r)=>{l=r,u=e}));f[r]=d,f[e]=e=>(s&&e(s),_.forEach(e),f.catch((e=>{}))),o.exports=f,i((o=>{var i;c=(o=>o.map((o=>{if(null!==o&&"object"==typeof o){if(o[e])return o;if(o.then){var i=[];i.d=0,o.then((e=>{a[r]=e,n(i)}),(e=>{a[t]=e,n(i)}));var a={};return a[e]=e=>e(i),a}}var s={};return s[e]=e=>{},s[r]=o,s})))(o);var a=()=>c.map((e=>{if(e[t])throw e[t];return e[r]})),u=new Promise((r=>{(i=()=>r(a)).r=0;var t=e=>e!==s&&!_.has(e)&&(_.add(e),e&&!e.d&&(i.r++,e.push(i)));c.map((r=>r[e](t)))}));return i.r?u:a()}),(e=>(e?l(f[t]=e):u(d),n(s)))),s&&(s.d=0)},a.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return a.d(r,{a:r}),r},a.d=(e,r)=>{for(var t in r)a.o(r,t)&&!a.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},a.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),a(6785)})();